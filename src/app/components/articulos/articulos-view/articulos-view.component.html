<h1 class="bd-title">
    <i class="fa-solid fa-lightbulb"></i>
    Detalle del {{ datosart.tipic_id === 1 ? 'producto' : 'servicio' }}</h1>
<div class="bd-grid">
    <div class="bd-grid-content">

        <div class="mx-3">

            <app-artview [codart]="artId" (evDatosArtLoaded)="onDatosArtLoaded($event)"></app-artview>

            <div class="mt-2 card border-secondary" *ngIf="isShowKardex" #kardexDiv>
                <div class="card-header">
                    Kardex
                </div>

                <p-table [value]="kardex" [paginator]="true" [rows]="10"
                         [(first)]="page"
                         paginatorPosition="top"
                         tableStyleClass="table table-sm table-hover table-striped table-bordered fusay-table">
                    <ng-template pTemplate="paginatorleft">
                        Total de registros: {{ kardex.length }}
                    </ng-template>
                    <ng-template pTemplate="paginatorright">
                        Página {{ kardex.length > 0 ? Math.floor(page / 10) + 1 : 0 }}
                        de {{ Math.ceil(kardex.length / 10) }}
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th>
                                <span class="fontsizesm">Fecha</span>
                            </th>
                            <th>
                                <span class="fontsizesm">Evento</span>
                            </th>
                            <th>
                                <span class="fontsizesm">Valor Antes</span>
                            </th>
                            <th>
                                <span class="fontsizesm">Valor Despues</span>
                            </th>
                            <th>
                                <span class="fontsizesm">Referencia</span>
                            </th>
                            <th>
                                <span class="fontsizesm">Observación</span>
                            </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData>
                        <tr>
                            <td>
                                <span class="fontsizexsm">{{ rowData.fecha_crea }}</span>
                            </td>
                            <td>
                                <span class="fontsizexsm">{{ rowData.evento }}</span>
                            </td>
                            <td>
                                <span class="fontsizexsm">{{ rowData.ica_valantes }}</span>
                            </td>
                            <td>
                                <span class="fontsizexsm">{{ rowData.ica_valdespues }}</span>
                            </td>
                            <td>
                                <span class="fontsizexsm">{{ rowData.referente }}</span>
                            </td>
                            <td>
                                <span class="fontsizexsm">{{ rowData.ica_obs }}</span>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
    <div class="bd-grid-actions">
        <div class="d-grid mt-1 gap-2">
            <button type="button" class="btn  btn-outline-dark"
                    (click)="elminar()">
                <i class="fa fa-trash"></i> <span class="ms-2">Eliminar</span>
            </button>
            <button type="button" class="btn  btn-outline-dark"
                    (click)="editar()">
                <i class="fas fa-edit"></i> <span class="ms-2">Editar</span>
            </button>
            <button type="button" class="btn  btn-outline-dark"
                    (click)="verKardex()">
                <i class="fa-solid fa-clock-rotate-left"></i> <span class="ms-2">Kardex</span>
            </button>
            <button type="button" class="btn btn-outline-primary"
                    (click)="retornar()">
                <i class="fa fa-arrow-left"></i> <span class="ms-2">Regresar</span>
            </button>
        </div>

    </div>
</div>

{"version":3,"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions: {}|namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/app/components/aguap/cobroagua/cobroagua.component.html","webpack:///src/app/components/aguap/cobroagua/cobroagua.component.ts","webpack:///src/app/components/aguap/contraguaform/contraguaform.component.html","webpack:///src/app/components/aguap/contraguaform/contraguaform.component.ts","webpack:///src/app/components/aguap/home/agua-home.html","webpack:///src/app/components/aguap/home/agua-home.component.ts","webpack:///src/app/components/aguap/lectomed/lectomed.component.html","webpack:///src/app/components/aguap/lectomed/lectomed.component.ts","webpack:///src/app/components/aguap/utils/basicdatosref.component.ts","webpack:///src/app/components/aguap/utils/btntipobusagua.component.ts","webpack:///src/app/components/aguap/utils/buscamedidor.component.ts","webpack:///src/app/components/aguap/utils/ctes-aguap.service.ts","webpack:///src/app/components/aguap/utils/datosmedidor.component.ts","webpack:///src/app/components/aguap/utils/tblmedidores.component.ts","webpack:///src/app/components/articulos/articulos-form/articulos-form.component.html","webpack:///src/app/components/articulos/articulos-form/articulos-form.component.ts","webpack:///src/app/components/articulos/articulos-list/articulos-list.component.html","webpack:///src/app/components/articulos/articulos-list/articulos-list.component.ts","webpack:///src/app/components/articulos/articulos-view/articulos-view.component.html","webpack:///src/app/components/articulos/articulos-view/articulos-view.component.ts","webpack:///src/app/components/articulos/categorias/categorias.component.ts","webpack:///src/app/components/contabilidad/librodiario/asientoview/asientoview.component.html","webpack:///src/app/components/contabilidad/librodiario/asientoview/asientoview.component.ts","webpack:///src/app/components/contabilidad/librodiario/librodiarioform/librodiarioform.component.html","webpack:///src/app/components/contabilidad/librodiario/librodiarioform/librodiarioform.component.ts","webpack:///src/app/components/contabilidad/librodiario/librodiariolist/librodiariolist.component.html","webpack:///src/app/components/contabilidad/librodiario/librodiariolist/librodiariolist.component.ts","webpack:///src/app/components/contabilidad/libromayor/libromayorlist/libromayorlist.component.html","webpack:///src/app/components/contabilidad/libromayor/libromayorlist/libromayorlist.component.ts","webpack:///src/app/components/contabilidad/plancuentas/planctaslist.component.ts","webpack:///src/app/components/contabilidad/reportes/balancegeneral/balancegeneral.component.ts","webpack:///src/app/components/contabilidad/reportes/estadoresultados/estadoresultados.component.ts","webpack:///src/app/components/home/home.component.ts","webpack:///src/app/components/home/home.component.html","webpack:///src/app/components/home/loading.component.ts","webpack:///src/app/components/ingresosegresos/ingegr/ingegr.component.html","webpack:///src/app/components/ingresosegresos/ingegr/ingegr.component.ts","webpack:///src/app/components/ingresosegresos/ingegrform/ingegrform.component.html","webpack:///src/app/components/ingresosegresos/ingegrform/ingegrform.component.ts","webpack:///src/app/components/ingresosegresos/ingegrview/ingegrview.component.html","webpack:///src/app/components/ingresosegresos/ingegrview/ingegrview.component.ts","webpack:///src/app/components/logged/logged-home/logged-home.component.html","webpack:///src/app/components/logged/logged-home/logged-home.component.ts","webpack:///src/app/components/login/login.component.ts","webpack:///src/app/components/login/login.component.html","webpack:///src/app/components/referentes/datosref.component.ts","webpack:///src/app/components/referentes/listadorefs.component.ts","webpack:///src/app/components/referentes/referenteslist.component.ts","webpack:///src/app/components/referentes/referenteview.component.ts","webpack:///src/app/components/referentes/resumenref.component.ts","webpack:///src/app/components/shared/apprangofechas/apprangofechas.component.ts","webpack:///src/app/components/shared/base.component.ts","webpack:///src/app/components/shared/buscaref/buscaref.component.ts","webpack:///src/app/components/shared/initfooter/fusayfooter.component.ts","webpack:///src/app/components/shared/initfooter/fusayfooter.component.html","webpack:///src/app/components/shared/initnavbar/fusaynavbar.component.ts","webpack:///src/app/components/shared/initnavbar/fusaynavbar.component.html","webpack:///src/app/components/shared/loggedfooter/appfooter.component.ts","webpack:///src/app/components/shared/loggednavbar/loggednavbar.component.html","webpack:///src/app/components/shared/loggednavbar/loggednavbar.component.ts","webpack:///src/app/components/start/start.component.ts","webpack:///src/app/components/start/start.component.html","webpack:///src/app/components/tickets/ticket/ticket.component.html","webpack:///src/app/components/tickets/ticket/ticket.component.ts","webpack:///src/app/components/tickets/ticketform/ticketform.component.html","webpack:///src/app/components/tickets/ticketform/ticketform.component.ts","webpack:///src/app/components/tickets/ticketview/ticketview.component.html","webpack:///src/app/components/tickets/ticketview/ticketview.component.ts","webpack:///src/app/components/transac/abonos/abonosview/abonosview.component.html","webpack:///src/app/components/transac/abonos/abonosview/abonosview.component.ts","webpack:///src/app/components/transac/creditos/creditosref/credrefform/credrefform.component.html","webpack:///src/app/components/transac/creditos/creditosref/credrefform/credrefform.component.ts","webpack:///src/app/components/transac/creditos/creditosref/credreflist/credreflist.component.html","webpack:///src/app/components/transac/creditos/creditosref/credreflist/credreflist.component.ts","webpack:///src/app/components/transac/facturas/cuentasxcp.component.ts","webpack:///src/app/components/transac/facturas/facturasform/facturasform.component.html","webpack:///src/app/components/transac/facturas/facturasform/facturasform.component.ts","webpack:///src/app/components/transac/facturas/facturaslist/facturaslist.component.html","webpack:///src/app/components/transac/facturas/facturaslist/facturaslist.component.ts","webpack:///src/app/components/transac/facturas/facturaslistgen.component.ts","webpack:///src/app/components/transac/facturas/facturasview/detfactview.component.ts","webpack:///src/app/components/transac/facturas/facturasview/facturaview.component.html","webpack:///src/app/components/transac/facturas/facturasview/facturaview.component.ts","webpack:///src/app/components/transac/facturas/newfacturaform/newfacturaform.component.ts","webpack:///src/app/components/transac/facturas/utilidades/utilidades.component.html","webpack:///src/app/components/transac/facturas/utilidades/utilidades.component.ts","webpack:///src/app/components/usuarios/roles/rolesform/rolesform.component.html","webpack:///src/app/components/usuarios/roles/rolesform/rolesform.component.ts","webpack:///src/app/components/usuarios/roles/roleslist/roleslist.component.html","webpack:///src/app/components/usuarios/roles/roleslist/roleslist.component.ts","webpack:///src/app/components/usuarios/userform/userform.component.html","webpack:///src/app/components/usuarios/userform/userform.component.ts","webpack:///src/app/components/usuarios/userlist/userlist.component.html","webpack:///src/app/components/usuarios/userlist/userlist.component.ts","webpack:///src/app/modules/agenda/agenda.component.ts","webpack:///src/app/modules/mavilcalendar/mvcalendar/detallescitacal.component.ts","webpack:///src/app/modules/mavilcalendar/mvcalendar/odcalendar.component.html","webpack:///src/app/modules/mavilcalendar/mvcalendar/mvcalendar.component.ts","webpack:///src/app/modules/medico/citameddet/cita-med-det.component.html","webpack:///src/app/modules/medico/citameddet/cita-med-det.component.ts","webpack:///src/app/modules/medico/citasmedicas/citasmedicas.component.html","webpack:///src/app/modules/medico/citasmedicas/citasmedicas.component.ts","webpack:///src/app/modules/odontologo/antcodonto.component.ts","webpack:///src/app/modules/odontologo/citasodonto/citasodonto.component.html","webpack:///src/app/modules/odontologo/citasodonto/citasodonto.component.ts","webpack:///src/app/modules/odontologo/citasodonto/factpagos/factpagos.component.html","webpack:///src/app/modules/odontologo/citasodonto/factpagos/factpagos.component.ts","webpack:///src/app/modules/odontologo/citasodonto/plantratamiento/plantratamiento.component.html","webpack:///src/app/modules/odontologo/citasodonto/plantratamiento/plantratamiento.component.ts","webpack:///src/app/modules/odontologo/odatenciones.component.ts","webpack:///src/app/modules/odontologo/odontograma/butooldent.component.ts","webpack:///src/app/modules/odontologo/odontograma/caraspd.component.ts","webpack:///src/app/modules/odontologo/odontograma/citaodontodet.component.ts","webpack:///src/app/modules/odontologo/odontograma/grppiezadent.component.ts","webpack:///src/app/modules/odontologo/odontograma/numpieza.component.ts","webpack:///src/app/modules/odontologo/odontograma/odontograma.component.html","webpack:///src/app/modules/odontologo/odontograma/odontograma.component.ts","webpack:///src/app/modules/odontologo/odontograma/piezadental.component.ts","webpack:///src/app/modules/odontologo/odontograma/rowdiagnospieza.component.ts","webpack:///src/app/modules/odontologo/recetas.component.ts","webpack:///src/app/modules/odontologo/resumenpac.component.ts","webpack:///src/app/modules/sharedmed/citashechas/citashechas.component.html","webpack:///src/app/modules/sharedmed/citashechas/citashechas.component.ts","webpack:///src/app/modules/sharedmed/citasplaned/citasplaned.component.html","webpack:///src/app/modules/sharedmed/citasplaned/citasplaned.component.ts","webpack:///src/app/modules/sharedmed/rxdocs.component.ts","webpack:///src/app/services/abono.service.ts","webpack:///src/app/services/agua/cobroagua.service.ts","webpack:///src/app/services/agua/contratoagua.service.ts","webpack:///src/app/services/agua/lectomedagua.service.ts","webpack:///src/app/services/arrayutil.service.ts","webpack:///src/app/services/articulo.service.ts","webpack:///src/app/services/articulostock.service.ts","webpack:///src/app/services/asiento.service.ts","webpack:///src/app/services/base-service.ts","webpack:///src/app/services/billetera.service.ts","webpack:///src/app/services/billeteramov.service.ts","webpack:///src/app/services/cads-util.service.ts","webpack:///src/app/services/catalogos.service.ts","webpack:///src/app/services/categorias.service.ts","webpack:///src/app/services/citas-medicas.service.ts","webpack:///src/app/services/cons-medica-msg.service.ts","webpack:///src/app/services/credito.service.ts","webpack:///src/app/services/ctes.service.ts","webpack:///src/app/services/datoslogged.service.ts","webpack:///src/app/services/dom.service.ts","webpack:///src/app/services/facturasmsg.service.ts","webpack:///src/app/services/faut.service.ts","webpack:///src/app/services/fechas.service.ts","webpack:///src/app/services/kardex-prod.service.ts","webpack:///src/app/services/loading-ui.service.ts","webpack:///src/app/services/local-storage.service.ts","webpack:///src/app/services/lugar.service.ts","webpack:///src/app/services/modelocontab.service.ts","webpack:///src/app/services/number.service.ts","webpack:///src/app/services/odantec.service.ts","webpack:///src/app/services/odatenciones.service.ts","webpack:///src/app/services/odontograma.service.ts","webpack:///src/app/services/persona.service.ts","webpack:///src/app/services/personev.service.ts","webpack:///src/app/services/plantratamiento.service.ts","webpack:///src/app/services/rates/audit-interceptor.service.ts","webpack:///src/app/services/receta.service.ts","webpack:///src/app/services/reportsconta.service.ts","webpack:///src/app/services/rol.service.ts","webpack:///src/app/services/rxdocs.service.ts","webpack:///src/app/services/seccion.service.ts","webpack:///src/app/services/swal.service.ts","webpack:///src/app/services/tcita.service.ts","webpack:///src/app/services/ticket.service.ts","webpack:///src/app/services/toolsdiente.service.ts","webpack:///src/app/services/ttpdv.service.ts","webpack:///src/app/services/usertoken.service.ts","webpack:///src/app/services/utilventas.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","aguapmod","CtesAguapService","routes","path","component","LoginComponent","StartComponent","LoggedHomeComponent","ArticulosListComponent","ArticulosFormComponent","ArticulosViewComponent","CategoriasComponent","TicketComponent","TicketformComponent","IngegrComponent","IngegrformComponent","CitasmedicasComponent","CitasodontoComponent","RoleslistComponent","RolesformComponent","UserlistComponent","UserformComponent","AgendaComponent","FacturaslistgenComponent","CuentasxcpComponent","NewfacturaformComponent","ReferenteslistComponent","ReferenteviewComponent","PlanctaslistComponent","LibrodiariolistComponent","LibrodiarioformComponent","LibromayorlistComponent","BalancegeneralComponent","EstadoresultadosComponent","UtilidadesComponent","rutaHome","AguaHomeComponent","rutaContraForm","ContraguaformComponent","rutaLectoMedForm","LectomedComponent","rutaPagos","CobroaguaComponent","HomeComponent","AppRoutingModule","RouterModule","AppComponent","localStorageService","router","fautService","loadingUiService","config","translateService","title","isLogged","blocked","stylemaindiv","classrouteroutlet","isshowAppMenu","setDefaultLang","translate","isAuthenticated","source","subscribe","msg","hideMenu","events","evt","NavigationEnd","window","scrollTo","lang","get","res","setTranslation","setTimeout","registerLocaleData","HttpLoaderFactory","http","TranslateHttpLoader","AppModule","MessageService","DatePipe","provide","HTTP_INTERCEPTORS","useClass","AuditInterceptorService","multi","LOCALE_ID","useValue","CommonModule","BrowserModule","BrowserAnimationsModule","HttpClientModule","ReactiveFormsModule","FormsModule","PanelMenuModule","MenuModule","TableModule","MenubarModule","SelectButtonModule","DialogModule","InputMaskModule","MessageModule","CheckboxModule","ToastModule","DropdownModule","CalendarModule","ContextMenuModule","TabViewModule","RadioButtonModule","BlockUIModule","ProgressSpinnerModule","AutoCompleteModule","SidebarModule","TreeModule","MultiSelectModule","TranslateModule","defaultLanguage","loader","TranslateLoader","useFactory","deps","HttpClient","InputNumberModule","TreeTableModule","StepsModule","FusaynavbarComponent","FusayfooterComponent","LoggednavbarComponent","AppfooterComponent","OdontogramaComponent","CitashechasComponent","CitasplanedComponent","CitaMedDetComponent","ButooldentComponent","RowdiagnospiezaComponent","PiezadentalComponent","CaraspdComponent","RxdocsComponent","NumpiezaComponent","GrppiezadentComponent","DatosrefComponent","ListadorefsComponent","AntcodontoComponent","OdatencionesComponent","ResumenPacienteComponent","MvcalendarComponent","CitaodontodetComponent","DetallescitacalComponent","RecetasComponent","PlantratamientoComponent","FactpagosComponent","FacturaviewComponent","DetfactviewComponent","AbonosviewComponent","LoadingComponent","FacturaslistComponent","FacturasformComponent","ResumenrefComponent","ApprangofechasComponent","AsientoviewComponent","IngegrviewComponent","CredreflistComponent","CredrefformComponent","TicketviewComponent","DatosmedidorComponent","TblmedidoresComponent","BasicdatosrefComponent","BuscarefComponent","BuscamedidorComponent","BtntipobusaguaComponent","ctes","swalService","domService","loadingServ","lectoMedServ","personaService","contratoAguaService","cobroAguaServ","asientoService","isLoading","form","currentStep","steps","medidores","consumos","medsel","hasPagosPend","hasLecturas","lastPago","msgEstadoPago","facturaPago","isShowFact","loadForm","getForm","setFocusTm","refAutoCom","publishBlockMessage","findByRef","referente","per_id","items","length","montos","formcab","clearEstadoPago","getConsumosPend","mdg_id","isResultOk","has_lecturas","fireToastWarn","lecturaspend","has_pagos_pend","lastpago","loadDatosPagos","fireToastSuccess","loadUltPago","getDoc","trn_codigo","doc","lecturas","getIds","getDatosPago","datospago","navigate","fireDialog","msgConfirmSave","confirm","value","crearFactura","loadConsumosInpagos","confprint","imprimirFactura","trncod","btnNextS","doNext","step","loadMedidores","validaPaso1","$event","BaseComponent","fechasService","personService","loadingService","contraService","formref","formmed","tipoContra","tarifas","comunidades","contratosPrevios","currentDate","Date","teredad","isTercedad","isRefSearched","validfl","gotomain","formper","perCirucInput","buscarReferente","buscarPorCifull","per_ciruc","status","msgRefRegistered","loadDataToform","persona","loadContratosRef","calcularEdad","setFocus","cna_tarifa","per_nombres","fireToastInfo","msgRefTieneMed","setPerEdad","cna_teredad","msgAplTarfTercedad","vfieldref","getBasicValidFieldList","isValidRef","validFormData","isValidContra","isValidMed","parsePerFechanac","crear","contraAgua","target","select","lectomedService","contraguaServ","meses","anios","lastlectomed","previulectomed","tipoBusqueda","vfl","setDatosMedToForm","clearForm","loadLastLectoMed","loadPreviusLectoMed","mdg_num","getLast","lectomed","lmd_valorant","getPrevius","lmd_anio","lmd_mes","lmd_valor","guardar","clear","lmd_consumo","generaConsumo","gotoMain","medidor","buscarPorCod","$ev","medAutoCom","datosref","tipo","evTipoChanged","EventEmitter","emit","changeTipo","contratoAguaServ","evOnEnterMed","evOnSelectMed","filterByNumMed","query","data","RutaHome","RutaContraForm","RutaLectoMedForm","RutaPagos","MdgNum","LmdValor","LmdValorant","CnaTarifa","MsgRefTieneMed","MsgAplTarfTercedad","MsgEnterNumMed","PerCirucInput","PerNombres","adc","CtesService","datosmedidor","isshowtercedad","evSelectFila","isForSelect","fila","toUpperCase","artService","artStockService","catsService","arrayUtil","localStrgServ","route","messageService","modcontabService","categorias","proveedores","modscontabs","stock","numbersPattern","minimumDate","isModalEditBC","routeReuseStrategy","shouldReuseRoute","isModalCatVisible","artFromDb","tiposArt","getTiposArt","ivas","getIvas","artCodAutomatic","isShowAsistPre","activeTabIndex","nuevoBarcode","aplicaDental","submited","nombreNuevaCatg","editing","Array","paramMap","params","buildDefForm","artId","parseInt","art_id","loadArrays","getItem","insertStock","loadModelosContables","listar","field","haserror","artForm","required","toString","trim","pattern","re","RegExp","test","getFirstResult","catIsDefault","provIsDefault","resCat","defaultCat","getCatDefault","provObs","listarProveedores","catsObs","stockObs","impObs","getImpuestos","artObs","getByCod","forkJoin","res0","res1","res2","res3","res4","defaultProv","getProvDefault","form_secs","datosprod","secciones","buildForm","aplicadental","mercformdef_cat","catic_id","JSON","parse","removeItem","mercformdef_prov","icdp_proveedor","codbarraInput","impuestos","prov","cat","provid","catid","dbcat","el","dbprov","icdp_fechacaducidad","artFeccaduParsed","fmtfecha","globalAsistPorcIncrem","globalAsistPorcIncrePrecioCompra","asistPrePorc","Number","ic_code","icdp_grabaiva","ic_nombre","ic_nota","icdp_precioventa","icdp_preciocompra","icdp_preciocompra_iva","tipic_id","icdp_modcontab","icdp_precioventamin","asist_pre_porc","asist_pre_util","asist_pre_prevsug","ic_dental","seccionesf","forEach","push","marca","sec_id","seccion","disabled","tipoSel","ivaSel","formvalue","formToPost","Object","prop","provsel","catsel","fechaCaducidad","formatDate","prov_id","ic_id","codbar_auto","mercaderiaForm","cancelar","invalid","msgDatosIncorr","secmarca","filter","itsec","fireToastError","msgMustSelectSeccion","formtoPost","getFormToPost","guardarArticulo","setItem","stringify","mercaderia","ngOnInit","getNextCodbar","codbar","nombreInput","icCode","existeCodbar","existe","fireError","nombreart","icNombre","tipicId","precioCompraInput","precioVentaInput","precioConIva","getPrecioConIva","calculaPrecioCompraConIva","calculaPrecioVenta","porcenIncr","porcenIncrValue","precioCompraIva","preCompraIvaValue","utilidad","utilidadFixed","toFixed","precioVentaSug","precioVentaSugFixed","precio","iva","porcIncAsistPre","element","getFormCrea","formcat","catic_caja","mc_id","actualizaBarcode","fireWarning","msgMustEnterCodBarra","catic_nombre","msgEnterCatName","catic_mc","msgMustSelectModContab","actualizar","loadCategorias","artsService","loadinUiServ","seccionService","arrayService","previustimer","selectedCat","loadingArts","totales","cols","filtro","itemsCtxMenu","label","icon","command","event","viewItem","selectedItem","editItem","deleteItem","seccionObs","sections","selectedSection","infoSecSaved","getSeccionInfoSaved","result","buscaInput","enableBtns","callback","ms","prevtimer","context","clearTimeout","ev","delayKeyup","filtroDelayFn","rowItem","editar","mercaderiaView","nombreProd","anularArticulo","secId","codcat","response","grid","tot","rowData","doFilter","goToForm","kardexProdService","isShowKardex","resStock","retornar","kardex","getKardex","elminar","categoriaService","isModalVisible","isloading","isformloading","msgSureWishRemoveCat","anular","evCerrar","datosasi","detalles","showBtns","changes","chng","currentValue","loadDatosAsiento","getDatosAsiContab","datoasi","numberServ","currentdate","codasi","formdetinst","debe","haber","getAsientoForm","formasiento","trn_fecregobj","parseString","trn_fecreg","formdet","clonarObjeto","setFocusInCtaConta","resasi","auxformasiento","cabecera","estabptoemi","totalizar","gotoLibroDiario","ctacontablesel","dtValor","dt_valor_in","dt_valor","msgMontoIncVerif","busCtasContables","ctasFiltrados","art","cta_codigo","per_codigo","dt_cant","dt_debito","setFocusInMonto","setCtaContableSel","removeElement","totaldebe","totalhaber","item","round2","agregar","formtopost","editarAsiento","crearAsiento","findex","indexOf","moveElement","librodiario","isShowDetAsi","asisel","formfiltros","getFormFiltroLibroDiario","desde","hasta","loadLibroDiario","desdestr","hastastr","getAsientos","onDesdeChange","onHastaChange","onTipoFechaSel","gotoFormAsiento","isLoadingData","totdebe","tothaber","resta","initFormListas","ctasObs","getAllCtasContables","formObs","getFormLibroMayor","ctasContables","listarMovsCtaContable","loadMovs","isShowCrearPlanCta","isShowDet","formCrea","padreexp","isLoadingForm","isLoadingDet","datosCtaContable","editandoCta","loadPlanCuentas","loadContextMenu","getRaizPlanCuentas","planctas","tree","itemsMenu","creaSubCuenta","anularCuenta","editarCuenta","verCuenta","titlecreaedit","setCodCtaContableSel","getFormPlanCuenta","selectedPlanDbdata","selectedPlan","ic_padre","anularCtaContable","getDetCtaContable","datoscta","crearCtaContable","publishUnblockMessage","node","expandRecursive","isExpanded","expanded","children","childNode","loadingUiServ","resultadoejercicio","datosbalance","getBalanceGeneral","balance","parents","parentres","getabs","total","datosbalancetree","balancetree","npuntos","dbdata","split","mg","font","valor","Math","abs","selectedTreeRow","onTipoFiltroChange","loadBalance","exportPdf","exportExcel","reportsContaServ","getEstadoResultados","fechaactual","getnombrearchivo","goToLoggedHome","goToEvento","billeteraService","billmovService","billeteras","isShowNewBill","isLoadingFormBill","formbill","cajasdisp","isFormBillSubmit","titleFormBill","isLoadingMovs","isShowFilter","tipos","cuentas","isShowDetalleMov","selBillHasMoves","saldotot","isShowFactura","filasel","users","loadBilleteras","loadMovimientos","cajas","bil_autogencode","txtInputFieldHasValue","bil_code","bil_nombre","bil_id","haycajasdisp","cmbInputFieldHasValue","billsaveobs","bill","getFormSecs","bil_saldoini","bil_obs","hasMoves","resb","hasmoves","isinggas","bmo_id","isfactura","tra_codigo","codmovsel","cuenta","cuentabill","user","listargrid","preventDefault","loadFormFiltros","getFormFiltros","formfiltro","tiposmovs","getCuentasBytTipo","console","log","crearBilletera","closeDetallesFact","numberService","billMovService","titulo","tiporouting","base64data","adjisimage","cuentasformov","setTitle","montotal","bmo_monto","totalcuentas","totalbill","bmo_fechatransaccobj","bmo_fechatransacc","filetopost","datafile","rxd_filename","name","archivo","gotolist","idx","inputid","auxGetMontoFila","thearray","getMontoFila","filepreview","mimeType","type","rega","regimg","reader","FileReader","readAsDataURL","onload","clearFile","fileInput","files","size","processFile","formbillmov","billeterasformov","rxDocsServ","evCerrarBtn","evConfirma","evAnula","urlimgadj","datosmov","datosasiento","filasdebe","filashaber","codmovchange","codmov","currentvalue","loadDatosMov","getDatosMov","asiento","computeDatosAsiento","rxd_ext","getDownloadUrlNode","row","bmo_estado","confirmar","url","open","ttpdvService","datosLoggedServ","userinfo","fechaactualstr","accesosdir","datosempresa","vapp","menuApp","getMenuApp","loadSeciones","menu","userInfoSaved","getUserInfoSaved","loadDatosLogged","checkTtpdv","isTdvCodSaved","listarMin","restpdv","ttpdvs","setTtpdvs","tdvcod","tdv_codigo","setTdvcodigo","updateTokenAndTdvcod","token","publishMessage","getDatosLogged","datlogged","fecha","setMenuApp","setVersionApp","datosemp","getSecciones","setSeccion","updateTokenAndSec","acc","estilo","css","changeCss","fb","userTokenService","loginForm","controls","createForm","verificarLogueado","globalCodEmpresa","codEmpresa","codFocus","group","empresa","Validators","username","password","autenticar","autenticado","setAsAuthenticated","empNombreComercial","sqm","ressec","setSecciones","getMenu","us_id","resMenu","onclickSubmit","catalogosServ","lugarService","datosmedicos","pacienteLoaded","pacienteSaved","creacionCancelada","datosIncompletosEv","pacchange","codPaciente","codcurrentvalue","loadFormOrData","datosPacienteFull","per_edad","datosIncompletos","paciente","per_tipo","lval_valor","editando","loadListasAndSetupForm","buscarPacientePorCod","buscarPaciente","perNombresInput","showMessage","msgDataIncompleteRef","personaDb","per_fechanac","per_genero","per_estadocivil","estadoCivilList","lval_id","per_tiposangre","tipoSangreList","tiposRefList","per_lugresidencia","lugares","lug_id","per_ocupacion","ocupaciones","buscarPorCodfull","isPersonDataIncomplete","logicaDatosIncompletos","genObs","getCatalogos","estCivilObs","ocupObs","tipsangObs","tiposRefObs","lugObs","listarTodos","generosList","loadDataPerson","focusInput","msgNewRefEnterDataFil","perId","formPaciente","estadoCivil","residencia","genero","tiposangre","tiporef","isProveedor","msgMustSelectGenRef","msgMustSelectEstCivRef","msgMustEnterFechaNac","perEstadocivil","perGenero","perLugresidencia","per_fechanacp","motivoConsultaTextArea","evCrearPaciente","evSelPaciente","pacientesArray","currentPagPacientes","hayMasFilasPac","buscarPacientes","bottomAlcanzado","showAnim","buscarPorNomapelCiPag","apply","hasMore","nextp","onFiltroTyped","crearPaciente","onSelPaciente","onCreaPaciente","personEvService","tottrns","codref","loadTotalesTransacc","tabactive","publishUpdateDeudaMsg","getTotalesTransacc","evBtnTabClic","evBtnCerrar","totalestrns","loadDeudas","refchange","getTotalDeudas","totaldeuda","deudas","totalcxp","tabnum","selectedMasterTab","btnId","showicons","showlabels","evDesdeChange","evHastaChange","evFilterSel","hoy","start","end","doFilterFec","evOnEnterRef","evOnSelectRef","personFiltered","goToLogin","versionApp","getVersionApp","isSideVisible","currTdvcod","pipe","RouterEvent","evn","NavigationStart","loadTtpdvs","getNombreComercialSaved","menuAppCli","getTdvCodigo","clearInfoAuthenticated","ttpdv","getTtpdvs","toggleSidebar","goHome","logout","ticketService","isShowDetTk","tksel","selectedServices","servicios","getFormListado","dia","sec_def","prods","loadGrid","imprimirRow","anularRow","diaStr","suma","imprimir","tk_id","showModalTicket","verDetalles","closeModalTicket","tkService","formcli","formCreaObs","servObs","getProdsForTickets","lugsObs","buscarPorCi","per_apellidos","per_movil","per_email","per_direccion","ic_marca","tk_servicios","getCodServicios","isDataValid","evReload","datostk","isEdit","tkchange","tkid","loadDatosTicket","getDetalles","datosticket","getFormEdit","abonoService","creditoService","evDeudaChange","isTransaccFact","tracodabono","isShowAsiento","isShowAnim","isFacturaLoaded","doLoadFactura","abonosList","totalabonos","codFacturaChange","codFactura","codCreditoChange","codCredito","loadDatosCredito","datosFactura","tracod","tasiento","getDatosCredito","datosCredito","datoscred","ic_clasecc","loadAbonos","detallesabono","formCred","formAbono","valorabono","dt_codcred","dt_codigo","saldopendiente","cre_saldopen","getform","isShowFormAbonar","auxsaldopendiente","valorAbono","buildDetalles","formpost","abono","anularAbono","abo_codigo","listaAbonosFact","abonos","onFacturaLoaded","hideDetAsi","formasi","cuentasforcred","evCancelar","evDeudaCreada","monto","motivos","totalctas","guardaCredRef","creditosList","isShowDetCred","isShowCreaCred","evDeudasChange","loadCreditos","loadingCreditos","listarCreditos","clase","resc","creds","totalescred","credsel","fechasservice","isShowDetallesFactura","listarGrid","isShowDetallesCred","facturaMsgService","localStrgService","personaServ","codConsFinal","trncodedit","datosdocedit","isedit","showtitulo","showreferente","showdetalles","showtotales","showbuttons","evTotalesUpd","evGuardarOk","evCancela","evFormLoaded","formisloaded","artFiltrado","initformfact","initTotales","seccionSel","getIvasArray","showFormCreaFact","isConsumidorFinal","isDisabledFormRef","artsearchedcount","artsearched","factMsgSubs","message","form_persona","subtotal","descuentos","subtforiva","isfacturacompra","form_cab","pagos","ttransacc","checkPagosPrevios","formDetalles","initFormDetalles","continuar","tra_tipdoc","ice_stock","checkInventarios","recalcTotalFila","buscaArtPromise","busArtsForTransacc","tracodigo","artsFiltrados","logicaSelectArticulo","logicaEnterFiltro","onServSelect","prevserv","it","art_codigo","newrow","getNewEmptyRow","artsAutoCom","msgSureWishRemveItemFact","secuencia","msgMustEnterNumFact","msgMustAddProdInFact","msgMustEnterDateFact","msgMustEnterDataRef","pagocredito","pago","msgFactIsCredMustEnterRef","msgSureSaveFact","crearDocumento","msgWishPrint","filapago","dtvalor","index","sobrante","itpago","error","dtPrecio","dt_precioiva","quitarIva","dt_precio","dt_decto","dt_dectoin","fc_secuencia","formCabObs","getFormCab","secObs","perFormObs","keystrg","trncoded","auxtrncoded","formaspago","setIva","secid","msgEditingFact","resedit","det","loadFormReferente","loadConsumidorFinal","dtDecto","dt_dectoerr","subt","numberdtdecto","unsubscribe","onConsFinalChange","localStgServ","transaccs","listarTransaccsBytTipo","listarGridVentas","codFacturaSel","closeDetFact","tasientoService","isShowImprimir","isPermEdit","isPermAnul","evFacturaLoaded","evBtnClosed","evAnulado","evEditar","trncodChange","loadDatosFactura","msgSureWishAnulRecord","msgSureWishEditRecord","oncancelar","onguardar","utilventasService","formpaspago","tiposprod","isLoadingGrid","tiposprodserv","getGrid","rolesService","cadsUtilService","rolId","permisos","getFormCrear","getFormEditar","nomApelInput","rl_marca","esNoNuloNoVacio","rl_name","rl_abreviacion","filtrados","rolService","rl_id","nuevo","onRowSelect","onUnRowSelect","usId","roles","getFormEdita","formedita","crearUsuario","guardarRoles","listarUsuarios","tipoCita","isShowLista","tcitaServ","cerrarModalEv","registraAtencionEv","loadDatosCita","getDatosCita","codcita","datosCita","cita","lclStrgService","tcitaService","showCancelar","showListado","enableCalendars","anchocelda","altocelda","clicstart","clicfinish","xini","yini","bloque","evCreated","evListado","isShowFormCreaRef","codreferenteform","tipcitaChange","personCitaSel","pacForCalendar","defEvColor","colores","colorsMI","pixelsselected","cssform","textoNewEv","currentMonthDate","selectedDate","diasSemana","getDiasSemana","pacsFiltered","calHoraIni","calHoraFin","anchoCeldaHora","altoCeltaDia","intervalo","parteshora","columnas","getDatosTipoCita","auxLoadDatosTipCita","dtipcita","loadPersonsCita","initListasForm","horasList","horas","medicos","listarMedicos","personsCita","getPersonsCita","personscita","cant","loadMesArray","newweekdate","samemonth","auxIsSameMonth","daycal","auxFindDateInMonthArray","setCalendarDate","dateSel","currentMonthNumber","getMonth","anio","getMesString","mesString","mesArray","getMonthArray","firstweek","lastweek","contar","filtered","dc","selected","dcfilt","citas","cf","isSameDate","ct_fecha","bordecss","citasmatrix","hora","getHoraNumber","getHoraStrFromNumber","date","dias","d","iterdate","fechasPromise","i","resfecha","getDayString","diastr","diames","getNextDate","buildEmptyPixelsArray","loadCitas","resto","x","y","cssclass","startcss","lock","comprado","getDia","pixel","pxY","px_row","pxYend","px_row_end","numpxborde","tcita","ct_hora","horaFin","ct_hora_fin","cFecha","cFechaDate","horaStr","horaFinStr","textoCita","ct_titulo","ct_obs","pxRow","pxRowEnd","pxCol","pxColEnd","col","px_col","px_col_end","px_color","ct_color","px_texto","pxX","left","top","topPx","leftPx","anxhopx","getancho","altopx","getalto","opacidad","px_estado","border","cssg","position","width","height","opacity","fila2","col2","err","yfin","xfin","getcss","getPixelFromCita","texto","filas","pixelr","j","getNewPixelEmpty","pxref","xref","yref","ystart","yend","pxit","hascomprado","pxSelIt","px","pxini","getCeldasMenores","_auxIniFormEv","ct_fechaobj","pxfin","titEvNewEdCita","ct_id","pac_id","med_id","ct_td","ct_tipo","pacForCal","initFormEvBtn","showModalCrea","includes","computeCssForm","initFormEv","sameMonth","mesDateString","dateInSameWeek","dayCal","selectedDiaCalMes","loadWeek","mustLoadNewWeek","clearCssMonthCalc","changeSelectedDate","sm","loadDias","updateEstiloDia","isSameYear","isSameMonth","fechaActual","getCurrentDate","ndays","fechaIter","sumarDias","clearCitasMatrix","closeModalNewEv","clearPacForCalendar","$evet","first","firstcol","endcol","rescsstxt","getCssForm","showModalDetalles","color","initFormEditEv","tipc_calini","tipc_calfin","loadMedicos","toggleMonth","hoyplusdays","onPersonCitaChange","onCreaEvClic","toggleWeek","onModalNewEvShow","setFocusPac","citasMedicasServ","cosmedicamsgService","closed","historiaSel","datosconsulta","antecedentes","revxsistemas","examsfisicos","subsCitasPlaned","getDatosHistoriaByCod","rowHistoriaSel","cosm_id","datoshistoria","imprimirHistoria","motivo","prompt","cerrarHistoriaAnt","publishReloadHistorias","imprimirRecetaAnterior","valorreg","val","cosm_hallazgoexamfis","lclStrgServ","cosMsgService","showBuscaPaciente","isShowCalendar","tipoHistoria","selectedSupTab","getCie10Data","rescie","ciedataArray","cie10data","clearAll","initForm","auxLoadCiedata","buscaPacNomCiInput","selPacFromLista","selectHistoriaForEdit","loadListaAtenciones","selectedTab","datosAlertaImc","datosAlertaPresion","isHistoriaAntSel","pacienteSelected","historias","saved","codConsultaGen","selectedDiags","lastCita","cosm_fechacita","cosm_fechacrea","cosm_motivo","cosm_enfermactual","cosm_exmscompl","cosm_tratamiento","cosm_receta","cosm_recomendaciones","user_crea","cosm_odontograma","diagnostico","codHistoriaEdit","resHis","cosm_diagnosticos","diagsNumberArray","codDiag","ciedDiag","cie_id","valorPeso","valorTalla","filaIMC","nombredato","cmtv_nombre","valorPesoNumber","valorTallaNumber","imc","imcRounded","getDescValExamFisico","resimc","resa","diag","datosHistoria","getListaAtenciones","resCitas","antpers","registrarCita","tabId","inputFocusId","auxGuardaTab","fechaProxCita","cosm_fechaproxcita","cosm_tipo","diagnosticos","editarCita","ccm","crearCita","mainDiv","nativeElement","scrollIntoView","behavior","itExamFis","nombreExamen","setAntMujer","Set","add","has","tab","loadFormConsulta","reloadFormConsulta","reloadDatosPaciente","showCalendar","scrollToDivAgenda","scrollToDivDiagnos","loadLastCita","cd","getCurrentDateStr","getNextCita","getFechaHoraStr","proxcitaDiv","agendaDiv","ciruc_pac","antecService","evGuardar","lastValid","hallazgosfisicos","loadLastOrForm","getLastValid","od_antid","loadUiService","showFichaClinica","tipoOdontogramaSel","realoadDatosPaciente","perid","auxShowFichaClinica","asientoServ","tracodigofact","facturasList","isShowFormCreaFact","formpersona","loadingFacturas","codpaciente","loadFacturasCreditos","loadDatosPersona","resper","auxListarFacturas","docs","loadFacturas","formfact","loadinUIServ","planService","tracodFact","isLoadingPlanes","buscaAllServDentalles","allServicios","filteredServ","loadPlanes","filtroserv","showForm","listaPlanes","formplan","formpago","datosDocPlan","plansel","pnt_nombre","trn_docpen","loadDatosPlan","pnt_id","pntid","getDetallesPlan","plan","planid","imprimirPlan","cambiarEstado","cerrarVerDetallesFact","filtroupd","serv","startsWith","atencionesServ","loadinUiService","loadAnteriores","anteriones","showform","getHistoria","historia","ate_procedimiento","atencion","ate_id","dienteServ","ondienteclic","dienteIsProt","diente","estilos","values","raiseShowDetallesDiente","odatenserv","evShowHistoria","dentadura","dentaduraSm","loadDatos","getDetallesAtencion","codatencion","datosAtencion","setupOdontograma","ate_odontograma","ate_odontograma_sm","ongrpdntclic","ondntstatechange","loaded","getTitulo","tipoProtesis","getTipoProtesis","onmousenter","onmouseleave","raiseClicEvent","estado","render","toolsDienteServ","odontoService","modalPiezaVisible","modalCreaProtesis","dienteSelected","iniciaSelProt","tipodontograma","formOdontograma","loadDientesFromDb","tiposProtesis","getTiposProtesis","zonasProtesis","tiposPiezas","estadosProtesis","estadoProtesisSel","obsodontograma","loadDientes","initTools","selectedCssClass","menuItemsTool","rangoProtesis","dientesProtesis","protesisList","clearProtesisList","updateStatebuttons","estadoDienteStr","getStrState","estadoDienteBg","getColorState","showStateButtons","isShowTrataPend","isShowTrataHecho","isShowTratExt","tools","getTools","inicio","array","signo","numdientes","cudr","tipoDiente","numDiente","numero","t","b","l","r","c","tapaVisible","classTapa","cdr","protesis","dientesA","dientesB","dientesC","dientesD","numDientes","numDientesNinio","auxLoadDientes","A","B","C","D","datosodonto","od_odontograma","od_protesis","od_obsodonto","tipoprotesis","lado","toolSelected","operacionCapa","classTapaLeche","codSelectedTool","cssprop","contains","idtoolit","getCodToolFromEstilo","codtoold","fondo","auxToggleClass","idTool","codtool","cssClass","currentCuadr","nextCuadr","backCuadr","guardarOdontograma","cuandrante","indexDS","getNextCuadr","alert","getPreviusCuadr","cuadrlen","checkUncheckTool","tipoProtesisSel","zonaProtesisSel","tipoPiezaSel","startA","endA","startB","endB","issel","sel","loadDientesForProtesis","getDientesProtesisMarked","dientprot","itdiente","buscaPiezaDental","newprotesis","piezas","map","retens","piezadental","silent","od_tipo","od_obs","od_id","changeState","saveChangeState","changeStateExt","pos","configs","getConfigs","configA","configB","configC","configD","cuadrante","updateEstilosFromTools","tieneObturado","idtool","escaries","getEstiloFromCodTool","recetaServ","personServ","swalServ","recetas","loadRecetas","resm","rec_receta","rec_indicaciones","rec_id","receta","evSelectMasterTab","evCerrarResumen","showHistoria","buscar","atencionesArray","pagina","showfiltro","showModalDet","desdeStr","hastaStr","listarPrevias","tipocita","loadMore","citasMedicasService","tipoFiltro","gotoCalendarEv","disablecals","fechasstr","listarProximas","fechas","clearFiltro","clickFiltro","gotoCalendar","loadDocs","rxd_id","rxd_nombre","theform","_blank","featuresOpenNewWin","eliminar","assign","preview","imprimirRecBlank","AbonoService","_doGet","getHOT","accion","_doPost","codabo","obs","BaseService","CobroaguaService","_doGetAction","lectos","_doPostAction","gcalpag","crea","lmd_id","ContratoaguaService","bgyref","num","findbynum","filterbynum","LectomedaguaService","numed","last","mes","previous","codmed","conspend","actual","anterior","consumo","lmd_obs","ArrayutilService","fnFilter","splice","oldIndex","newIndex","arreglo","arrsuma","slice","diff","ArticuloService","formcrea","artid","urlEndPoint","auxGetUrl","seccodbarra","verifcodbar","endpoint","httpOptions","post","catchError","fnProcesaError","icId","newbarcode","updatecode","doPost","new_ic_code","del","icid","anulactacontab","pfiltro","endopoint","gartsserv","sec","gctascontables","gallctascontables","gservdentall","gimpuestos","padrexpand","gplanc","padre","gformplancta","guardaplancta","codcta","gdetctacontable","datosart","icdpPrecio","ivaval","getValorIva","ponerIva","dt_preref","mcd_signo","dai_impg","getIva","ArticulostockService","AsientoService","foredit","gdetdoc","traCod","tra_cod","per","gfact","gridventas","creadoc","duplicar","creasiento","editasiento","getasientos","cta","getmovscta","getformlibromayor","cod","getdatosasiconta","getbalancegeneral","getestadoresultados","gettransaccs","getEsquema","urlTomcat","formfiltrolibd","urlPath","baseUrlEndPoint","environment","pparams","headers","getAuthToken","msgept","throwError","put","doGet","BilleteraService","ic","bilid","BilleteramovService","getcuentasbytipo","movid","getdatosmov","CadsUtilService","CatalogosService","CategoriasService","caticId","CitasMedicasService","registra","ciruc","codhistoria","baseurl","ch","categ","cosmId","cosm_obsanula","pag","tipofecha","ConsMedicaMsgService","Subject","next","CreditoService","codper","codcred","ref","Actualizar","Anulactacontab","Anular","Artid","ArtsAutoCom","Blank","Borrar","Buscaci","Buscacifull","BuscaInput","BuscaPacNomCiInput","Buscaporid","Buscaporidfull","Buscatipo","CodbarraInput","Confirmar","Conspend","Crea","Creadoc","Crear","Creasiento","Del","Duplicar","Editar","Editasiento","FcSecuencia","FeaturesOpenNewWin","Filtropag","Findbynum","Fmtfecha","Form","Formasiento","Formcab","Formcrea","Formfiltrolibd","Formfiltros","Filterbynum","Gallctascontables","Gartsserv","Gbyref","Gcalpag","Gctascontables","Gcuentafacts","Gdetctacontable","Gdetdoc","Getasientos","Getbalancegeneral","Getcuentasbytipo","Getdatosasiconta","Getdatosmov","Getestadoresultados","Getformlibromayor","Getmovscta","Gettransaccs","Gfact","Gformplancta","Gimpuestos","GlobalAsistPorcIncrePrecioCompra","Gplanc","Gridventas","Gservdentall","Gtotaldeudas","Guardaplancta","Guardar","IcNota","InsertStock","Last","Listar","ListarGrid","LmdId","Lmedicos","Mercaderia","MercaderiaForm","MercaderiaView","MercformdefCat","MercformdefProv","MedAutoCom","Monto","MotivoConsultaTextArea","MsgConfirmSave","MsgDataIncompleteRef","MsgDatosIncorr","MsgEditingFact","MsgEnterCatName","MsgFactIsCredMustEnterRef","MsgMontoIncVerif","MsgMustAddProdInFact","MsgMustEnterCodBarra","MsgMustEnterDataRef","MsgMustEnterDateFact","MsgMustEnterFechaNac","MsgMustEnterNumFact","MsgMustSelectEstCivRef","MsgMustSelectGenRef","MsgMustSelectModContab","MsgMustSelectSeccion","MsgNewRefEnterDataFil","MsgRefRegistered","MsgSureSaveFact","MsgSureWishAnulRecord","MsgSureWishEditRecord","MsgSureWishRemoveCat","MsgSureWishRemveItemFact","MsgVerifInfo","MsgWishPrint","NombreInput","NumbersPattern","PerCiruc","PerNombresInput","PorcIncAsistPre","PrecioCompraInput","PrecioVentaInput","Previous","RefAutoCom","Registra","Seccodbarra","Setseccion","Stock","Trncoded","True","Updatecode","UrlTomcat","Verifcodbar","DatosloggedService","perms","perm","DomService","cadsUtil","elId","document","getElementById","focus","timeout","obj","input","fieldValidList","allvalid","itemvalid","selectValue","isEmpty","FacturasmsgService","FautService","bssource","BehaviorSubject","asObservable","getHO","tdvcodigo","tdvcodproc","version","infoSecciones","infoTtpdvs","tdv_numero","tdv_nombre","infoUser","infoSeccion","getMountMatrix","year","month","convertDate","matrix","weekStartsOn","weekDay","day","FechasService","formatoFecha","loadDayNamesShort","loadMontNames","dateObj","dateString","setDate","getDate","fechaNacimiento","today","age","getFullYear","diasemana","locale","respuesta","dayNamesShort","promiseDateShort","resolvePromiseFechas","loadedMonths","monthNames","toPromise","promiseMontNames","horaNumber","nmin","trunc","nhoras","nhorasstr","padStart","nminstr","slctdDate","initDate","csstd","week","tday","dcal","setHours","resolvePromiseMonts","dateA","dateB","KardexProdService","codprod","LoadingUiService","LocalStorageService","key","localStorage","LugarService","ModelocontabService","NumberService","ivaplus","defndigits","digits","rounded","round","siniva","coniva","valoriva","round6","round4","subtotal12","subtotal0","recaltotal","docpagos","totalcred","totalefec","OdAntecService","pacId","getCommonHead","antid","httpoptions","OdatencionesService","pac","ateId","OdontogramaService","PersonaService","buscaci","buscacifull","buscaporid","buscaporidfull","filtropag","auxGetEndpointPerid","doPut","buscatipo","lmedicos","gtotaldeudas","gcuentafacts","personentity","hasOwnProperty","per_fechanacstr","per_fechanacobj","edad","getEdad","years","teredadref","istercedadRes","PersonEvService","defaultvalue","PlantratamientoService","planTrataId","nuevoEstado","nv_estado","codPlan","started","now","handle","HttpResponse","tap","resp","auditEvent","elapsedMs","eventMessage","statusText","RecetaService","codReceta","ReportscontaService","formfechas","nombrearchivo","RolService","rolid","rlId","RxdocsService","baseUrlDwFileNode","burl","codoc","borrar","SeccionService","setseccion","SwalService","defmsg","info","success","warning","warn","showMsg","ptitle","text","showConfirmButton","showCancelButton","pseverity","psummary","pdetail","severity","summary","detail","fireToast","TcitaService","citaId","tipcita","TicketService","form_cli","ticketid","rutaserver","tk_nro","tk_costo","codigos","ToolsDienteService","codigo","nombre","grupo","numpieza","dtools","tool","grupotool","toolitem","toolsgrupo","tieneHerramientaGrupo","thetool","currentState","newState","isCeroStr","estados","state","colors","TtpdvService","UsertokenService","rolesList","UtilventasService","localStorageServ","production","baseUrlDwfile","baseUrlDwfileNode","facebookLoginApp","googleLoginApp","enableProdMode","platformBrowser","bootstrapModule"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {HomeComponent} from './components/home/home.component';\nimport {LoginComponent} from './components/login/login.component';\nimport {StartComponent} from './components/start/start.component';\nimport {ArticulosListComponent} from './components/articulos/articulos-list/articulos-list.component';\nimport {ArticulosFormComponent} from './components/articulos/articulos-form/articulos-form.component';\n\nimport {LoggedHomeComponent} from './components/logged/logged-home/logged-home.component';\nimport {TicketComponent} from './components/tickets/ticket/ticket.component';\nimport {TicketformComponent} from './components/tickets/ticketform/ticketform.component';\nimport {ArticulosViewComponent} from './components/articulos/articulos-view/articulos-view.component';\nimport {CitasmedicasComponent} from './modules/medico/citasmedicas/citasmedicas.component';\nimport {RoleslistComponent} from './components/usuarios/roles/roleslist/roleslist.component';\nimport {RolesformComponent} from './components/usuarios/roles/rolesform/rolesform.component';\nimport {UserlistComponent} from './components/usuarios/userlist/userlist.component';\nimport {UserformComponent} from './components/usuarios/userform/userform.component';\nimport {CitasodontoComponent} from './modules/odontologo/citasodonto/citasodonto.component';\nimport {NewfacturaformComponent} from './components/transac/facturas/newfacturaform/newfacturaform.component';\nimport {ReferenteslistComponent} from './components/referentes/referenteslist.component';\nimport {ReferenteviewComponent} from './components/referentes/referenteview.component';\nimport {AgendaComponent} from './modules/agenda/agenda.component';\nimport {PlanctaslistComponent} from './components/contabilidad/plancuentas/planctaslist.component';\nimport {LibrodiariolistComponent} from './components/contabilidad/librodiario/librodiariolist/librodiariolist.component';\nimport {LibrodiarioformComponent} from './components/contabilidad/librodiario/librodiarioform/librodiarioform.component';\nimport {LibromayorlistComponent} from './components/contabilidad/libromayor/libromayorlist/libromayorlist.component';\nimport {BalancegeneralComponent} from './components/contabilidad/reportes/balancegeneral/balancegeneral.component';\nimport {EstadoresultadosComponent} from './components/contabilidad/reportes/estadoresultados/estadoresultados.component';\nimport {CategoriasComponent} from './components/articulos/categorias/categorias.component';\nimport {FacturaslistgenComponent} from './components/transac/facturas/facturaslistgen.component';\nimport {CuentasxcpComponent} from './components/transac/facturas/cuentasxcp.component';\nimport {IngegrComponent} from './components/ingresosegresos/ingegr/ingegr.component';\nimport {IngegrformComponent} from './components/ingresosegresos/ingegrform/ingegrform.component';\nimport {UtilidadesComponent} from './components/transac/facturas/utilidades/utilidades.component';\nimport {AguaHomeComponent} from './components/aguap/home/agua-home.component';\nimport {ContraguaformComponent} from './components/aguap/contraguaform/contraguaform.component';\nimport {LectomedComponent} from './components/aguap/lectomed/lectomed.component';\nimport {CtesAguapService} from './components/aguap/utils/ctes-aguap.service';\nimport {CobroaguaComponent} from './components/aguap/cobroagua/cobroagua.component';\n// import {AdminGuard} from './guards/admin/admin.guard';\n\nconst aguapmod: CtesAguapService = new CtesAguapService();\n\nconst routes: Routes = [\n    {path: 'login', component: LoginComponent},\n    {path: 'home', component: StartComponent},\n    {path: 'lghome', component: LoggedHomeComponent},\n    {\n        path: 'mercaderia',\n        component: ArticulosListComponent,\n        /*data: {perml: ['PRODS_LISTAR']},\n        canActivate: [AdminGuard]*/\n    },\n    {\n        path: 'mercaderiaForm/:art_id',\n        component: ArticulosFormComponent,\n        /*data: {perml: ['PRODS_EDIT', 'PRODS_CREATE']},\n        canActivate: [AdminGuard]*/\n    },\n    {\n        path: 'mercaderiaView/:art_id',\n        component: ArticulosViewComponent,\n        /*data: {perml: ['PRODS_DET_VIEW']}*/\n    },\n    {path: 'categorias', component: CategoriasComponent},\n    {path: 'tickets', component: TicketComponent},\n    {path: 'ticket/form', component: TicketformComponent},\n    {path: 'vtickets', component: IngegrComponent},\n    {path: 'vtickets/form/:tipo', component: IngegrformComponent},\n    {path: 'historiaclinica/:tipo', component: CitasmedicasComponent},\n    {path: 'odonto', component: CitasodontoComponent},\n    {path: 'roles', component: RoleslistComponent},\n    {path: 'roles/form/:rl_id', component: RolesformComponent},\n    {path: 'usuarios', component: UserlistComponent},\n    {path: 'usuarios/form/:us_id', component: UserformComponent},\n    {path: 'agenda/:tipo', component: AgendaComponent},\n    {path: 'trndocs/:tipo', component: FacturaslistgenComponent},\n    {path: 'cuentasxcp/:tipo', component: CuentasxcpComponent},\n    {path: 'trndocform/:tracodigo/:acc', component: NewfacturaformComponent},\n    {path: 'referentes', component: ReferenteslistComponent},\n    {path: 'referentes/:codref', component: ReferenteviewComponent},\n    {path: 'plancuentas', component: PlanctaslistComponent},\n    {path: 'librodiario', component: LibrodiariolistComponent},\n    {path: 'newasiento/:cod', component: LibrodiarioformComponent},\n    {path: 'libromayor', component: LibromayorlistComponent},\n    {path: 'contabilidad/balancegeneral', component: BalancegeneralComponent},\n    {path: 'contabilidad/estadoresultados', component: EstadoresultadosComponent},\n    {path: 'utilventas', component: UtilidadesComponent},\n    {path: aguapmod.rutaHome, component: AguaHomeComponent},\n    {path: aguapmod.rutaContraForm, component: ContraguaformComponent},\n    {path: aguapmod.rutaLectoMedForm, component: LectomedComponent},\n    {path: aguapmod.rutaPagos, component: CobroaguaComponent},\n    {path: '**', component: HomeComponent}\n];\n\n@NgModule({\n    imports: [RouterModule.forRoot(routes)],\n    exports: [RouterModule]\n})\nexport class AppRoutingModule {\n}\n","<app-fusaynavbar *ngIf=\"!isLogged\"></app-fusaynavbar>\n<app-loggednavbar *ngIf=\"isLogged\"></app-loggednavbar>\n\n<div>\n    <p-toast position=\"top-right\"></p-toast>\n    <p-blockUI [blocked]=\"blocked\">\n        <div class=\"loading-container\">\n            <p-progressSpinner></p-progressSpinner>\n            <div>\n                <span style=\"color: white !important;\">Procesando...</span>\n            </div>\n        </div>\n    </p-blockUI>\n</div>\n\n<div class=\"{{isLogged?'container-fluid':'container'}}\">\n    <div class=\"mt-2\">\n        <router-outlet></router-outlet>\n    </div>\n</div>\n\n<app-fusayfooter *ngIf=\"!isLogged\"></app-fusayfooter>\n","import {AfterViewInit, Component, OnInit} from '@angular/core';\nimport {LocalStorageService} from './services/local-storage.service';\nimport {NavigationEnd, Router} from '@angular/router';\nimport {FautService} from './services/faut.service';\nimport {LoadingUiService} from './services/loading-ui.service';\nimport {TranslateService} from '@ngx-translate/core';\nimport {PrimeNGConfig} from 'primeng/api';\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit, AfterViewInit {\n    title = 'sysprint';\n    isLogged = false;\n    blocked = false;\n    stylemaindiv: string;\n    classrouteroutlet: string;\n    isshowAppMenu: boolean;\n\n    constructor(private localStorageService: LocalStorageService,\n                private router: Router,\n                private fautService: FautService,\n                private loadingUiService: LoadingUiService,\n                private config: PrimeNGConfig,\n                private translateService: TranslateService) {\n    }\n\n    ngOnInit(): void {\n        this.stylemaindiv = 'width: 100%;';\n        this.classrouteroutlet = '';\n        this.isshowAppMenu = true;\n        this.blocked = false;\n        this.translateService.setDefaultLang('es');\n        this.translate('es');\n        this.isLogged = this.fautService.isAuthenticated();\n        if (this.isLogged) {\n            if (this.isshowAppMenu) {\n                this.classrouteroutlet = 'ms-2 mt-2 me-0';\n                this.stylemaindiv = 'width: 92%;';\n            } else {\n                this.classrouteroutlet = '';\n                this.stylemaindiv = 'width: 100%;';\n            }\n        } else {\n            this.classrouteroutlet = '';\n            this.stylemaindiv = 'width: 100%;';\n        }\n        this.fautService.source.subscribe(msg => {\n            if (msg === 'logout') {\n                this.isLogged = false;\n                this.classrouteroutlet = '';\n            } else if (msg === 'login') {\n                this.isLogged = true;\n                this.classrouteroutlet = 'ms-2 mt-2 me-0';\n            } else if (msg === 'hideappmenu') {\n                this.hideMenu();\n            }\n            if (this.isLogged) {\n                if (this.isshowAppMenu) {\n                    this.stylemaindiv = 'width: 92%;';\n                    this.classrouteroutlet = 'ms-2 mt-2 me-0';\n                } else {\n                    this.stylemaindiv = 'width: 100%;';\n                    this.classrouteroutlet = '';\n                }\n            } else {\n                this.classrouteroutlet = '';\n                this.stylemaindiv = 'width: 100%;';\n            }\n        });\n\n        this.router.events.subscribe((evt) => {\n            if (!(evt instanceof NavigationEnd)) {\n                return;\n            }\n            window.scrollTo(0, 0);\n        });\n    }\n\n    hideMenu() {\n        if (this.isshowAppMenu) {\n            this.isshowAppMenu = false;\n            this.stylemaindiv = 'width: 100%;';\n            this.classrouteroutlet = '';\n        } else {\n            this.isshowAppMenu = true;\n            this.stylemaindiv = 'width: 92%;';\n            this.classrouteroutlet = 'ms-2 mt-2 me-0';\n        }\n    }\n\n    translate(lang: string) {\n        this.translateService.get('primeng').subscribe(res => {\n            this.config.setTranslation(res);\n        });\n    }\n\n    ngAfterViewInit(): void {\n        this.loadingUiService.source.subscribe(msg => {\n            setTimeout(() => {\n                if (msg === 'block') {\n                    this.blocked = true;\n                } else if (msg === 'unblock') {\n                    this.blocked = false;\n                }\n            });\n        });\n    }\n}\n","import {CommonModule, DatePipe, registerLocaleData} from '@angular/common';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {LOCALE_ID, NgModule} from '@angular/core';\n\nimport {AutoCompleteModule} from 'primeng/autocomplete';\nimport {BlockUIModule} from 'primeng/blockui';\nimport {CalendarModule} from 'primeng/calendar';\nimport {CheckboxModule} from 'primeng/checkbox';\nimport {ContextMenuModule} from 'primeng/contextmenu';\nimport {DialogModule} from 'primeng/dialog';\nimport {DropdownModule} from 'primeng/dropdown';\nimport {InputMaskModule} from 'primeng/inputmask';\nimport {InputNumberModule} from 'primeng/inputnumber';\nimport {MenuModule} from 'primeng/menu';\nimport {MenubarModule} from 'primeng/menubar';\nimport {MessageModule} from 'primeng/message';\nimport {MessageService} from 'primeng/api';\nimport {MultiSelectModule} from 'primeng/multiselect';\nimport {PanelMenuModule} from 'primeng/panelmenu';\nimport {ProgressSpinnerModule} from 'primeng/progressspinner';\nimport {RadioButtonModule} from 'primeng/radiobutton';\nimport {SelectButtonModule} from 'primeng/selectbutton';\nimport {SidebarModule} from 'primeng/sidebar';\nimport {TableModule} from 'primeng/table';\nimport {TabViewModule} from 'primeng/tabview';\nimport {ToastModule} from 'primeng/toast';\nimport {TreeModule} from 'primeng/tree';\nimport {TreeTableModule} from 'primeng/treetable';\n\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {LoginComponent} from './components/login/login.component';\nimport {HomeComponent} from './components/home/home.component';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\n\n\nimport {HTTP_INTERCEPTORS, HttpClient, HttpClientModule} from '@angular/common/http';\n\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {StartComponent} from './components/start/start.component';\nimport {ArticulosListComponent} from './components/articulos/articulos-list/articulos-list.component';\n\nimport {ArticulosFormComponent} from './components/articulos/articulos-form/articulos-form.component';\nimport {AuditInterceptorService} from './services/rates/audit-interceptor.service';\nimport {FusaynavbarComponent} from './components/shared/initnavbar/fusaynavbar.component';\nimport {FusayfooterComponent} from './components/shared/initfooter/fusayfooter.component';\nimport {LoggednavbarComponent} from './components/shared/loggednavbar/loggednavbar.component';\nimport {LoggedHomeComponent} from './components/logged/logged-home/logged-home.component';\n\nimport {AppfooterComponent} from './components/shared/loggedfooter/appfooter.component';\nimport {TicketComponent} from './components/tickets/ticket/ticket.component';\nimport {TicketformComponent} from './components/tickets/ticketform/ticketform.component';\nimport {ArticulosViewComponent} from './components/articulos/articulos-view/articulos-view.component';\nimport localeEs from '@angular/common/locales/es-EC';\n\nimport {CitasmedicasComponent} from './modules/medico/citasmedicas/citasmedicas.component';\nimport {OdontogramaComponent} from './modules/odontologo/odontograma/odontograma.component';\nimport {RoleslistComponent} from './components/usuarios/roles/roleslist/roleslist.component';\nimport {RolesformComponent} from './components/usuarios/roles/rolesform/rolesform.component';\nimport {UserlistComponent} from './components/usuarios/userlist/userlist.component';\nimport {UserformComponent} from './components/usuarios/userform/userform.component';\nimport {CitashechasComponent} from './modules/sharedmed/citashechas/citashechas.component';\nimport {CitasplanedComponent} from './modules/sharedmed/citasplaned/citasplaned.component';\nimport {CitaMedDetComponent} from './modules/medico/citameddet/cita-med-det.component';\nimport {ButooldentComponent} from './modules/odontologo/odontograma/butooldent.component';\nimport {RowdiagnospiezaComponent} from './modules/odontologo/odontograma/rowdiagnospieza.component';\nimport {PiezadentalComponent} from './modules/odontologo/odontograma/piezadental.component';\nimport {CaraspdComponent} from './modules/odontologo/odontograma/caraspd.component';\nimport {NumpiezaComponent} from './modules/odontologo/odontograma/numpieza.component';\nimport {GrppiezadentComponent} from './modules/odontologo/odontograma/grppiezadent.component';\nimport {TranslateLoader, TranslateModule} from '@ngx-translate/core';\nimport {TranslateHttpLoader} from '@ngx-translate/http-loader';\nimport {DatosrefComponent} from './components/referentes/datosref.component';\nimport {ListadorefsComponent} from './components/referentes/listadorefs.component';\nimport {AntcodontoComponent} from './modules/odontologo/antcodonto.component';\nimport {CitasodontoComponent} from './modules/odontologo/citasodonto/citasodonto.component';\nimport {OdatencionesComponent} from './modules/odontologo/odatenciones.component';\nimport {ResumenPacienteComponent} from './modules/odontologo/resumenpac.component';\nimport {MvcalendarComponent} from './modules/mavilcalendar/mvcalendar/mvcalendar.component';\nimport {CitaodontodetComponent} from './modules/odontologo/odontograma/citaodontodet.component';\nimport {DetallescitacalComponent} from './modules/mavilcalendar/mvcalendar/detallescitacal.component';\nimport {RecetasComponent} from './modules/odontologo/recetas.component';\nimport {RxdocsComponent} from './modules/sharedmed/rxdocs.component';\nimport {PlantratamientoComponent} from './modules/odontologo/citasodonto/plantratamiento/plantratamiento.component';\nimport {FactpagosComponent} from './modules/odontologo/citasodonto/factpagos/factpagos.component';\n\nimport {FacturaviewComponent} from './components/transac/facturas/facturasview/facturaview.component';\nimport {AbonosviewComponent} from './components/transac/abonos/abonosview/abonosview.component';\nimport {LoadingComponent} from './components/home/loading.component';\nimport {FacturaslistComponent} from './components/transac/facturas/facturaslist/facturaslist.component';\nimport {FacturasformComponent} from './components/transac/facturas/facturasform/facturasform.component';\nimport {NewfacturaformComponent} from './components/transac/facturas/newfacturaform/newfacturaform.component';\nimport {ReferenteslistComponent} from './components/referentes/referenteslist.component';\nimport {ResumenrefComponent} from './components/referentes/resumenref.component';\nimport {ReferenteviewComponent} from './components/referentes/referenteview.component';\nimport {AgendaComponent} from './modules/agenda/agenda.component';\nimport {PlanctaslistComponent} from './components/contabilidad/plancuentas/planctaslist.component';\n\nimport {LibrodiariolistComponent} from './components/contabilidad/librodiario/librodiariolist/librodiariolist.component';\nimport {LibrodiarioformComponent} from './components/contabilidad/librodiario/librodiarioform/librodiarioform.component';\nimport {LibromayorlistComponent} from './components/contabilidad/libromayor/libromayorlist/libromayorlist.component';\nimport {BalancegeneralComponent} from './components/contabilidad/reportes/balancegeneral/balancegeneral.component';\nimport {EstadoresultadosComponent} from './components/contabilidad/reportes/estadoresultados/estadoresultados.component';\nimport {ApprangofechasComponent} from './components/shared/apprangofechas/apprangofechas.component';\nimport {CategoriasComponent} from './components/articulos/categorias/categorias.component';\nimport {FacturaslistgenComponent} from './components/transac/facturas/facturaslistgen.component';\nimport {CuentasxcpComponent} from './components/transac/facturas/cuentasxcp.component';\nimport {IngegrComponent} from './components/ingresosegresos/ingegr/ingegr.component';\nimport {IngegrformComponent} from './components/ingresosegresos/ingegrform/ingegrform.component';\nimport {AsientoviewComponent} from './components/contabilidad/librodiario/asientoview/asientoview.component';\nimport {IngegrviewComponent} from './components/ingresosegresos/ingegrview/ingegrview.component';\nimport {UtilidadesComponent} from './components/transac/facturas/utilidades/utilidades.component';\nimport {CredreflistComponent} from './components/transac/creditos/creditosref/credreflist/credreflist.component';\nimport {CredrefformComponent} from './components/transac/creditos/creditosref/credrefform/credrefform.component';\nimport {TicketviewComponent} from './components/tickets/ticketview/ticketview.component';\nimport {DetfactviewComponent} from './components/transac/facturas/facturasview/detfactview.component';\nimport {AguaHomeComponent} from './components/aguap/home/agua-home.component';\nimport {ContraguaformComponent} from './components/aguap/contraguaform/contraguaform.component';\nimport {LectomedComponent} from './components/aguap/lectomed/lectomed.component';\nimport {CobroaguaComponent} from './components/aguap/cobroagua/cobroagua.component';\nimport {StepsModule} from 'primeng/steps';\nimport {DatosmedidorComponent} from './components/aguap/utils/datosmedidor.component';\nimport {TblmedidoresComponent} from './components/aguap/utils/tblmedidores.component';\nimport {BasicdatosrefComponent} from './components/aguap/utils/basicdatosref.component';\nimport es from '@angular/common/locales/es';\nimport {BuscarefComponent} from './components/shared/buscaref/buscaref.component';\nimport {BuscamedidorComponent} from './components/aguap/utils/buscamedidor.component';\nimport {BtntipobusaguaComponent} from './components/aguap/utils/btntipobusagua.component';\n\n\nregisterLocaleData(localeEs, 'es-EC');\nregisterLocaleData(es);\n\nexport function HttpLoaderFactory(http: HttpClient) {\n    return new TranslateHttpLoader(http);\n}\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        LoginComponent,\n        HomeComponent,\n        StartComponent,\n        ArticulosListComponent,\n        ArticulosFormComponent,\n        FusaynavbarComponent,\n        FusayfooterComponent,\n        LoggednavbarComponent,\n        LoggedHomeComponent,\n        AppfooterComponent,\n        TicketComponent,\n        TicketformComponent,\n        ArticulosViewComponent,\n        CitasmedicasComponent,\n        OdontogramaComponent,\n        RoleslistComponent,\n        RolesformComponent,\n        UserlistComponent,\n        UserformComponent,\n        CitashechasComponent,\n        CitasplanedComponent,\n        CitaMedDetComponent,\n        ButooldentComponent,\n        RowdiagnospiezaComponent,\n        PiezadentalComponent,\n        CaraspdComponent, RxdocsComponent,\n        NumpiezaComponent,\n        GrppiezadentComponent,\n        DatosrefComponent,\n        ListadorefsComponent,\n        AntcodontoComponent,\n        CitasodontoComponent,\n        OdatencionesComponent,\n        ResumenPacienteComponent,\n        MvcalendarComponent,\n        CitaodontodetComponent,\n        DetallescitacalComponent,\n        RecetasComponent,\n        RxdocsComponent,\n        PlantratamientoComponent,\n        FactpagosComponent,\n        FacturaviewComponent,\n        DetfactviewComponent,\n        AbonosviewComponent,\n        LoadingComponent,\n        FacturaslistComponent,\n        FacturasformComponent,\n        NewfacturaformComponent,\n        ReferenteslistComponent,\n        ResumenrefComponent,\n        ReferenteviewComponent,\n        AgendaComponent,\n        PlanctaslistComponent,\n        LibrodiariolistComponent,\n        LibrodiarioformComponent,\n        LibromayorlistComponent,\n        BalancegeneralComponent,\n        EstadoresultadosComponent,\n        ApprangofechasComponent,\n        CategoriasComponent,\n        FacturaslistgenComponent,\n        CuentasxcpComponent,\n        IngegrComponent,\n        IngegrformComponent,\n        AsientoviewComponent,\n        IngegrviewComponent,\n        UtilidadesComponent,\n        CredreflistComponent,\n        CredrefformComponent,\n        TicketviewComponent,\n        AguaHomeComponent,\n        ContraguaformComponent,\n        LectomedComponent,\n        CobroaguaComponent,\n        DatosmedidorComponent,\n        TblmedidoresComponent,\n        BasicdatosrefComponent,\n        BuscarefComponent,\n        BuscamedidorComponent,\n        BtntipobusaguaComponent\n    ],\n    imports: [\n        CommonModule,\n        BrowserModule,\n        BrowserAnimationsModule,\n        AppRoutingModule,\n        HttpClientModule,\n        ReactiveFormsModule,\n        FormsModule,\n        PanelMenuModule,\n        MenuModule,\n        TableModule,\n        MenubarModule,\n        SelectButtonModule,\n        DialogModule,\n        InputMaskModule,\n        MessageModule,\n        CheckboxModule,\n        ToastModule,\n        DropdownModule,\n        CalendarModule,\n        ContextMenuModule,\n        TabViewModule,\n        RadioButtonModule,\n        BlockUIModule,\n        ProgressSpinnerModule,\n        AutoCompleteModule,\n        SidebarModule,\n        TreeModule,\n        MultiSelectModule,\n        TranslateModule.forRoot({\n            defaultLanguage: 'es', loader: {\n                provide: TranslateLoader,\n                useFactory: HttpLoaderFactory,\n                deps: [HttpClient]\n            }\n        }),\n        InputNumberModule,\n        TreeTableModule,\n        StepsModule\n    ],\n    providers: [\n        MessageService,\n        DatePipe,\n        {\n            provide: HTTP_INTERCEPTORS,\n            useClass: AuditInterceptorService,\n            multi: true\n        },\n        {provide: LOCALE_ID, useValue: 'es'}\n    ],\n    bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","<div>\n    <div class=\"d-flex justify-content-center\">\n        <h4 class=\"pt-3 pb-2\">Registrar pago por consumo de agua</h4>\n    </div>\n\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n\n    <div>\n        <div class=\"row\">\n            <div class=\"offset-md-3 col-md-6\">\n                <p-steps [model]=\"steps\" [readonly]=\"false\" [activeIndex]=\"currentStep\"></p-steps>\n            </div>\n        </div>\n\n        <div *ngIf=\"!isLoading\" style=\"background-color: rgba(201,201,201,0.43)\">\n            <div class=\"row\">\n                <div class=\"{{currentStep===2&&hasLecturas?'offset-md-1 col-md-10':'offset-md-3 col-md-6'}}\">\n                    <div class=\"my-4 py-4 px-3 shadow-sm rounded bg-white\">\n                        <div *ngIf=\"currentStep===0\">\n                            <app-buscaref [form]=\"form\" (evOnEnterRef)=\"onEnterRef()\"\n                                          (evOnSelectRef)=\"onRefSelect()\"></app-buscaref>\n                            <div class=\"w-100 mt-4 d-flex justify-content-center\">\n                                <button class=\"btn btn-outline-secondary\" (click)=\"doCancel()\"> Cancelar <i\n                                        class=\"fa fa-times\"></i></button>\n                                <button class=\"ms-2 btn btn-outline-primary\" id=\"btnNextS1\"\n                                        *ngIf=\"form.referente?.per_id>0\" (click)=\"doNext(1)\">\n                                    Siguiente <i\n                                        class=\"fa fa-chevron-right\"></i></button>\n                            </div>\n                        </div>\n                        <div *ngIf=\"currentStep===1\">\n                            <div *ngIf=\"medidores.length==0\" class=\"mt-2 alert alert-warning\">\n                                    <span>\n                                        <i class=\"fa fa-exclamation-triangle me-2\"></i>\n                                        No tiene medidores registrados\n                                    </span>\n                            </div>\n\n                            <div class=\"my-2\">\n                                <div class=\"p-3 border shadow-sm\">\n                                    <app-basicdatosref [datosref]=\"this.form.referente\"></app-basicdatosref>\n                                </div>\n                            </div>\n                            <div class=\"w-100\" *ngIf=\"medidores.length>1\">\n                                <div class=\"alert alert-primary\">\n                                    <i class=\"fa fa-info me-2\"></i> El referente tiene mas de un medidor registrado, por\n                                    favor elija uno:\n                                </div>\n                                <app-tblmedidores [medidores]=\"medidores\" [isForSelect]=\"true\"\n                                                  (evSelectFila)=\"onSelectMed($event)\"></app-tblmedidores>\n                            </div>\n                            <div *ngIf=\"medidores.length===1\">\n                                <div class=\"p-3 border shadow-sm\">\n                                    <app-datosmedidor [datosmedidor]=\"medidores[0]\"></app-datosmedidor>\n                                </div>\n                            </div>\n                            <div class=\"w-100 mt-4 d-flex justify-content-center\">\n                                <button class=\"btn btn-outline-secondary\" (click)=\"doBack(0)\">\n                                    <i class=\"fa fa-chevron-left\"></i> Anterior\n                                </button>\n                                <button class=\"ms-2 btn btn-outline-primary\" id=\"btnNextS2\" *ngIf=\"medidores.length===1\"\n                                        (click)=\"doNext(2)\">\n                                    Siguiente <i class=\"fa fa-chevron-right\"></i></button>\n                            </div>\n                        </div>\n                        <div *ngIf=\"currentStep===2\" [ngClass]=\"{'row g-3':hasLecturas}\">\n                            <div [ngClass]=\"{'col-md-7':hasLecturas}\">\n                                <div class=\"mt-2 alert {{hasLecturas?(hasPagosPend?'alert-warning':'alert-success'):'alert-warning'}}\">\n                                    <span>\n                                        <i class=\"fa fa-info me-2\" *ngIf=\"!hasLecturas\"></i>\n                                        <i class=\"fa fa-check me-2\" *ngIf=\"hasLecturas&&!hasPagosPend\"></i>\n                                        <i class=\"fa fa-exclamation-triangle me-2\"\n                                           *ngIf=\"hasLecturas&&hasPagosPend\"></i>\n                                        {{msgEstadoPago}}\n                                    </span>\n                                </div>\n                                <div class=\"p-3 border shadow-sm\">\n                                    <div class=\"my-2\">\n                                        <app-basicdatosref [datosref]=\"this.form.referente\"></app-basicdatosref>\n                                    </div>\n\n                                    <div class=\"mt-2\">\n                                        <app-datosmedidor [datosmedidor]=\"medsel\"\n                                                          [isshowtercedad]=\"hasPagosPend\"></app-datosmedidor>\n                                    </div>\n                                </div>\n                                <div class=\"table-responsive mt-2\">\n                                    <table class=\"table table-bordered table-sm\">\n                                        <thead>\n                                        <tr>\n                                            <th scope=\"col\">\n                                                <div class=\"fontsizesm\">Fecha Registro</div>\n                                            </th>\n                                            <th scope=\"col\">\n                                                <div class=\"fontsizesm\">Año</div>\n                                            </th>\n                                            <th scope=\"col\">\n                                                <div class=\"fontsizesm\">Mes</div>\n                                            </th>\n                                            <th scope=\"col\">\n                                                <div class=\"fontsizesm\">Lectura</div>\n                                            </th>\n                                            <th scope=\"col\">\n                                                <div class=\"fontsizesm\">Anterior</div>\n                                            </th>\n                                            <th scope=\"col\">\n                                                <div class=\"fontsizesm\">Consumo</div>\n                                            </th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <ng-container *ngFor=\"let fila of consumos\">\n                                            <tr>\n                                                <td>\n                                                    <div class=\"fontsizenr\">{{fila.lmd_fechacrea}}</div>\n                                                </td>\n                                                <td>\n                                                    <div class=\"fontsizenr\">{{fila.lmd_anio}}</div>\n                                                </td>\n                                                <td>\n                                                    <div class=\"fontsizenr\">{{fila.mes_nombre}}</div>\n                                                </td>\n                                                <td>\n                                                    <div class=\"fontsizenr\">{{fila.lmd_valor}} m<sup>3</sup></div>\n                                                </td>\n                                                <td>\n                                                    <div class=\"fontsizenr\">{{fila.lmd_valorant}} m<sup>3</sup></div>\n                                                </td>\n                                                <td>\n                                                    <div class=\"fontsizenr\">{{fila.lmd_consumo}} m<sup>3</sup></div>\n                                                </td>\n                                            </tr>\n                                        </ng-container>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n\n                            <div [ngClass]=\"{'col-md-5 d-flex flex-column':hasLecturas}\"\n                                 *ngIf=\"hasLecturas && form.montos.formcab\">\n\n                                <div *ngIf=\"!hasPagosPend\" class=\"border p-2\">\n                                    <span>La última factura cancelada es:</span>\n                                    <div class=\"row mt-2\">\n                                        <div class=\"col-md-3\">\n                                            <span class=\"fw-bold fontsizesm\">Año:</span>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <span class=\"fontsizesm\">{{lastPago.lmd_anio}}</span>\n                                        </div>\n                                    </div>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-3\">\n                                            <span class=\"fw-bold fontsizesm\">Mes:</span>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <span class=\"fontsizesm\">{{lastPago.mes_nombre}}</span>\n                                        </div>\n                                    </div>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-3\">\n                                            <span class=\"fw-bold fontsizesm\">Consumo:</span>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <span class=\"fontsizesm\">{{lastPago.lmd_consumo}} m<sup>3</sup></span>\n                                        </div>\n                                    </div>\n                                    <div class=\"row mt-3\">\n                                        <div class=\"row\">\n                                            <div class=\"col-md-3\">\n                                                <span class=\"fw-bold fontsizesm\">Nro Recibo:</span>\n                                            </div>\n                                            <div class=\"col-md\">\n                                                <span class=\"fontsizesm\">{{facturaPago.tasiento?.trn_compro}}</span>\n                                            </div>\n                                        </div>\n                                        <div class=\"row\">\n                                            <div class=\"col-md-12\">\n                                                <span class=\"fw-bold fontsizesm\">Fecha de registro:</span>\n                                            </div>\n                                            <div class=\"col-md-12\">\n                                                <span class=\"fontsizesm\">{{facturaPago.tasiento?.trn_fecha}}</span>\n                                            </div>\n                                        </div>\n                                        <div class=\"row\">\n                                            <div class=\"col-md-12\">\n                                                <span class=\"fw-bold fontsizesm\">Registrado por:</span>\n                                            </div>\n                                            <div class=\"col-md-12\">\n                                                <span class=\"fontsizesm\">{{facturaPago.tasiento?.refusercrea}}</span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row\">\n                                            <div class=\"col-md-6\">\n                                                <span class=\"fw-bold fontsizesm\">Monto Total:</span>\n                                            </div>\n                                            <div class=\"col-md\">\n                                                <span class=\"fontsizesm\">{{facturaPago.pagosobj?.total}}</span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row\">\n                                            <div class=\"col-md-12\">\n                                                <span class=\"fw-bold fontsizesm\">Observación:</span>\n                                            </div>\n                                            <div class=\"col-md-12\">\n                                                <p class=\"fontsizesm\"\n                                                   style=\"white-space: pre-line\">{{facturaPago.tasiento?.trn_observ}}</p>\n                                            </div>\n                                        </div>\n                                        <div class=\"d-flex flex-row-reverse justify-content-center\">\n                                            <button class=\"btn btn-sm btn-outline-secondary\" (click)=\"verFactura()\">\n                                                <i class=\"fa fa-eye\"></i>Ver Factura\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div *ngIf=\"hasPagosPend\">\n                                    <div class=\"d-flex flex-column mt-2\">\n                                        <div class=\"fontsizenr\">Fecha máxima de pago: <span\n                                                class=\"ms-2 fw-bold\">{{form.montos?.fecha_max_pago}}</span></div>\n                                    </div>\n                                    <div class=\"d-flex flex-column mt-2\">\n                                        <div class=\"fontsizenr\">Fecha de cobro: <span\n                                                class=\"ms-2 fw-bold\">{{form.montos?.fecha_actual}}</span></div>\n                                    </div>\n                                    <div class=\"d-flex flex-column mt-2\">\n                                        <div class=\"fontsizenr\">Nro Recibo:</div>\n                                        <div>\n                                            <input type=\"text\" class=\"form-control form-control-sm\"\n                                                   [(ngModel)]=\"form.montos.formcab.secuencia\" [disabled]=\"true\">\n                                        </div>\n                                    </div>\n                                    <div class=\"d-flex flex-column mt-2\">\n                                        <div class=\"fontsizenr fw-bold\">Observación:</div>\n                                        <textarea class=\"form-control\" [(ngModel)]=\"form.obs\" rows=\"4\"\n                                                  autocomplete=\"off\" placeholder=\"Ingrese un observación sobre el pago\"\n                                                  id=\"trn_observ\"></textarea>\n\n                                    </div>\n                                    <div class=\"mt-2 p-3 bg-success bg-gradient shadow-sm\">\n                                        <div class=\"row\">\n                                            <div class=\"col-md-8\">\n                                            <span class=\"fw-normal text-white\">Consumo Base ({{form.montos?.consumo_base}}\n                                                m<sup>3</sup>):</span>\n                                            </div>\n                                            <div class=\"col-md\">\n                                                <span class=\"fw-bold text-white\"> +${{form.montos?.costobase|number:'.2'}} </span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row mt-1\">\n                                            <div class=\"col-md-8\">\n                                            <span class=\"fw-normal text-white\">Exceso ({{form.montos?.consumo_exceso}}\n                                                m<sup>3</sup>):</span>\n                                            </div>\n                                            <div class=\"col-md\">\n                                                <span class=\"fw-bold text-white\"> +${{form.montos?.costoexceso|number:'.2'}} </span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row mt-1\">\n                                            <div class=\"col-md-8\">\n                                                <span class=\"fw-normal text-white\">Multa:</span>\n                                            </div>\n                                            <div class=\"col-md\">\n                                                <span class=\"fw-bold text-white\"> +${{form.montos?.multa|number:'.2'}}</span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row mt-1\">\n                                            <div class=\"col-md-8\">\n                                                <span class=\"fw-normal text-white\" title=\"Descuento por tercera edad\">Comisión Mavil:</span>\n                                            </div>\n                                            <div class=\"col-md\">\n                                                <span class=\"fw-bold text-white\"> +${{form.montos?.comision_mavil|number:'.2'}}</span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row mt-1\">\n                                            <div class=\"col-md-8\">\n                                                <span class=\"fw-normal text-white\" title=\"Descuento por tercera edad\">Descuento:</span>\n                                            </div>\n                                            <div class=\"col-md\">\n                                                <span class=\"fw-bold text-white\"> -${{form.montos?.descuento|number:'.2'}}</span>\n                                            </div>\n                                        </div>\n\n\n                                        <div class=\"row mt-1\">\n                                            <div class=\"col-md-8\">\n                                                <span class=\"fw-bold text-white fs-5\">TOTAL:</span>\n                                            </div>\n                                            <div class=\"col-md\">\n                                                <span class=\"fw-bold text-white fs-5\"> ${{form.montos?.total|number:'.2'}} </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                            <div class=\"w-100 mt-4 d-flex justify-content-center\">\n                                <button class=\"btn btn-outline-secondary\" (click)=\"doBack(1)\">\n                                    <i class=\"fa fa-chevron-left\"></i> Anterior\n                                </button>\n                                <button class=\"ms-2 btn btn-outline-primary\" *ngIf=\"hasPagosPend\"\n                                        id=\"btnNextS3\" (click)=\"doSave()\"> Guardar\n                                    <i class=\"fa fa-save\"></i></button>\n                                <button class=\"ms-2 btn btn-outline-secondary\"\n                                        *ngIf=\"!hasLecturas||lastPago?.trn_codigo>0\"\n                                        id=\"btnNextS4\" (click)=\"doFinish()\"> Terminar\n                                    <i class=\"fa fa-times\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div *ngIf=\"isShowFact\">\n    <p-dialog header=\"Detalles del documento\" [modal]=\"true\" [style]=\"{width: '90vw'}\" [baseZIndex]=\"10000\"\n              [(visible)]=\"isShowFact\">\n        <app-facturaview [trncod]=\"lastPago.trn_codigo\" (evBtnClosed)=\"closeDetFact()\"></app-facturaview>\n    </p-dialog>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {CtesAguapService} from '../utils/ctes-aguap.service';\nimport {Router} from '@angular/router';\nimport {PersonaService} from '../../../services/persona.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {DomService} from '../../../services/dom.service';\nimport {MenuItem} from 'primeng/api';\nimport {CobroaguaService} from '../../../services/agua/cobroagua.service';\nimport {ContratoaguaService} from '../../../services/agua/contratoagua.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {LectomedaguaService} from '../../../services/agua/lectomedagua.service';\nimport {AsientoService} from '../../../services/asiento.service';\nimport {BaseComponent} from '../../shared/base.component';\n\n@Component({\n    selector: 'app-cobroagua',\n    templateUrl: './cobroagua.component.html'\n})\nexport class CobroaguaComponent extends BaseComponent implements OnInit {\n    isLoading = false;\n    form: any = {};\n    currentStep = 0;\n    steps: MenuItem[] = [];\n    medidores: Array<any> = [];\n    consumos: Array<any> = [];\n    medsel: any = {};\n    hasPagosPend = false;\n    hasLecturas = false;\n    lastPago: any = {};\n    msgEstadoPago = '';\n    facturaPago: any = {};\n    isShowFact = false;\n\n    constructor(private ctes: CtesAguapService,\n                private swalService: SwalService,\n                private domService: DomService,\n                private loadingServ: LoadingUiService,\n                private lectoMedServ: LectomedaguaService,\n                private personaService: PersonaService,\n                private contratoAguaService: ContratoaguaService,\n                private cobroAguaServ: CobroaguaService,\n                private asientoService: AsientoService,\n                private router: Router) {\n        super();\n    }\n\n    ngOnInit(): void {\n        this.loadForm();\n    }\n\n    loadForm() {\n        this.isLoading = true;\n        this.cobroAguaServ.getForm().subscribe(res => {\n            this.isLoading = false;\n            this.form = res.form.form;\n            this.steps = res.form.steps;\n            this.domService.setFocusTm(this.ctes.refAutoCom, 100);\n        });\n    }\n\n    loadMedidores() {\n        this.loadingServ.publishBlockMessage();\n        this.contratoAguaService.findByRef(this.form.referente.per_id).subscribe(res => {\n            this.medidores = res.items;\n            if (this.medidores.length === 1) {\n                this.medsel = this.medidores[0];\n            }\n        });\n    }\n\n    clearEstadoPago() {\n        this.consumos = [];\n        this.hasPagosPend = false;\n        this.msgEstadoPago = '';\n        this.hasLecturas = false;\n        this.form.montos.formcab = null;\n    }\n\n    loadConsumosInpagos() {\n        this.loadingServ.publishBlockMessage();\n        this.clearEstadoPago();\n        this.lectoMedServ.getConsumosPend(this.medsel.mdg_id).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.form.montos.formcab = {};\n                this.msgEstadoPago = res.msg;\n                this.hasLecturas = res.has_lecturas;\n                if (!this.hasLecturas) {\n                    this.swalService.fireToastWarn(res.msg);\n                } else {\n                    this.consumos = res.lecturaspend;\n                    this.hasPagosPend = res.has_pagos_pend;\n                    this.lastPago = res.lastpago;\n                    if (this.hasPagosPend) {\n                        this.swalService.fireToastWarn(this.msgEstadoPago);\n                        this.loadDatosPagos();\n                    } else {\n                        this.swalService.fireToastSuccess(this.msgEstadoPago);\n                        this.loadUltPago();\n                    }\n                }\n            }\n        });\n    }\n\n    loadUltPago() {\n        this.asientoService.getDoc(this.lastPago.trn_codigo).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.facturaPago = res.doc;\n            }\n        });\n    }\n\n    loadDatosPagos() {\n        this.loadingServ.publishBlockMessage();\n        this.form.lecturas = this.cobroAguaServ.getIds(this.consumos);\n        this.cobroAguaServ.getDatosPago(this.form.lecturas).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.form.montos = res.datospago;\n            }\n        });\n    }\n\n    doCancel() {\n        this.router.navigate([this.ctes.rutaHome]);\n    }\n\n    doSave() {\n        this.swalService.fireDialog(this.ctes.msgConfirmSave).then(confirm => {\n            if (confirm.value) {\n                this.loadingServ.publishBlockMessage();\n                this.cobroAguaServ.crearFactura(this.form).subscribe(res => {\n                    if (this.isResultOk(res)) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        this.loadConsumosInpagos();\n                        this.swalService.fireDialog(res.msg, '').then(confprint => {\n                            if (confprint.value) {\n                                this.asientoService.imprimirFactura(res.trncod);\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    }\n\n    onRefSelect() {\n        this.domService.setFocusTm(this.ctes.btnNextS('1'), 100);\n        this.doNext(1);\n    }\n\n    doNext(step: any) {\n        this.currentStep = step;\n        if (this.currentStep === 1) {\n            this.loadMedidores();\n        } else if (this.currentStep === 2) {\n            this.loadConsumosInpagos();\n        }\n    }\n\n    doBack(step: number) {\n        this.currentStep = step;\n    }\n\n    onEnterRef() {\n        if (this.cobroAguaServ.validaPaso1(this.form)) {\n            this.doNext(1);\n        }\n    }\n\n    onSelectMed($event: any) {\n        this.medsel = $event;\n        this.doNext(2);\n    }\n\n    verFactura() {\n        this.isShowFact = true;\n    }\n\n    closeDetFact() {\n        this.isShowFact = false;\n    }\n\n    doFinish() {\n        this.currentStep = 0;\n        this.loadForm();\n    }\n}\n","<h4 class=\"pt-3 pb-2\">Registro de solicitudes de conexión de agua potable</h4>\n<div class=\"alert alert-info\">\n    Por favor ingrese la información que se solicita:\n</div>\n\n<div class=\"border rounded border-2 mt-2 p-2\">\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n        <div class=\"row\">\n            <div class=\"col-md-5\">\n                <div class=\"row\">\n                    <div class=\"col-md-4 \">\n                        <span class=\"fw-normal fontsizenr\">\n                            <span class=\"text-rojo\">*</span>Ci/Ruc:\n                        </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <div class=\"input-group\">\n                            <input type=\"text\" class=\"form-control\"\n                                   [(ngModel)]=\"formref.per_ciruc\"\n                                   maxlength=\"13\"\n                                   autocomplete=\"off\"\n                                   (blur)=\"verifiRefRegistrado()\"\n                                   (keydown.enter)=\"buscarReferente()\"\n                                   id=\"perCirucInput\">\n                            <button class=\"btn btn-outline-secondary\" type=\"button\"\n                                    (click)=\"buscarReferente()\"\n                                    title=\"Presiona este botón para buscar el referente por numero de cédula, ruc o pasaporte \">\n                                <span class=\"fa fa-search\"></span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4 \">\n                        <span class=\"fw-normal fontsizenr\"> <span class=\"text-rojo\">*</span>Nombres: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control\" id=\"per_nombres\" [(ngModel)]=\"formref.per_nombres\"\n                               autocomplete=\"off\" maxlength=\"40\">\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4 \">\n                        <span class=\"fw-normal fontsizenr\"> <span class=\"text-rojo\">*</span>Apellidos: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" maxlength=\"40\" class=\"form-control\" autocomplete=\"off\"\n                               [(ngModel)]=\"formref.per_apellidos\">\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4 \">\n                        <span class=\"fw-normal fontsizenr\"> Celular: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control\" maxlength=\"20\" [(ngModel)]=\"formref.per_movil\">\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4 \">\n                        <span class=\"fw-normal fontsizenr\"> Email: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control\" maxlength=\"30\" [(ngModel)]=\"formref.per_email\"\n                               autocomplete=\"off\">\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4 \">\n                        <span class=\"fw-normal fontsizenr\"> Fecha de nacimiento (dd/mm/aaaa): </span>\n                    </div>\n                    <div class=\"col-md p-fluid\">\n                        <p-calendar id=\"per_fechanac\"\n                                    [(ngModel)]=\"formref.per_fechanacobj\"\n                                    [showIcon]=\"true\"\n                                    inputId=\"per_fechanac\"\n                                    [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                    [maxDate]=\"currentDate\"\n                                    (onSelect)=\"calcularEdad()\"\n                                    yearRange=\"1900:2100\"\n                                    dateFormat=\"dd/mm/yy\"></p-calendar>\n                        <span class=\"fontsizenr\"> {{formref.per_edad?.years}} año(s) </span>\n                    </div>\n                </div>\n                <div class=\"row mt-2\">\n                    <div class=\"col-md offset-md-4\">\n                        <div>\n                            <div class=\"alert alert-info\" *ngIf=\"isTercedad\">\n                                <span class=\"fa fa-info-circle\"></span> <span\n                                    class=\"fw-bold\"> Adulto Mayor </span>\n                            </div>\n                            <div>\n                                <div class=\"p-field-checkbox d-flex flex-row align-items-start\">\n                                    <p-checkbox id=\"consfinalinput\" binary=\"true\" name=\"consfinalinput\" inputId=\"binary\"\n                                                [(ngModel)]=\"form.cna_teredad\"></p-checkbox>\n                                    <label class=\"ms-2 hand fontsizenr\" (click)=\"toggleTercedad()\">Tarifa\n                                        Tercera Edad</label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-5\">\n                <div class=\"row\">\n                    <div class=\"col-md\">\n                        <span class=\"fw-normal fontsizenr\">\n                            <span class=\"text-rojo\">*</span>Tarifa: </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md\">\n                        <div class=\"p-fluid\">\n                            <p-dropdown [options]=\"tarifas\" optionLabel=\"ic_nombre\" optionValue=\"trf_id\"\n                                        inputId=\"cna_tarifa\"\n                                        placeholder=\"Seleccione la tarifa que aplica\"\n                                        [showClear]=\"false\"\n                                        [(ngModel)]=\"form.cna_tarifa\"></p-dropdown>\n                        </div>\n                    </div>\n                </div>\n\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr \"> <span\n                                class=\"text-rojo\">*</span>Num. Medidor: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control form-control-sm\" maxlength=\"40\"\n                               [(ngModel)]=\"formmed.mdg_num\">\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr \"> <span\n                                class=\"text-rojo\">*</span>Comunidad: </span>\n                    </div>\n                    <div class=\"col-md p-fluid\">\n                        <p-dropdown [options]=\"comunidades\" optionLabel=\"cmn_nombre\"\n                                    optionValue=\"cmn_id\"\n                                    placeholder=\"Seleccione la comunidad\"\n                                    [showClear]=\"false\"\n                                    [(ngModel)]=\"form.cna_barrio\"></p-dropdown>\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr \"> Sector: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"form.cna_sector\" maxlength=\"30\">\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr \"> <span\n                                class=\"text-rojo\">*</span>Dirección Servicio: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control\" autocomplete=\"off\" [(ngModel)]=\"form.cna_direccion\"\n                               maxlength=\"80\">\n                    </div>\n                </div>\n\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr \"> Referencia: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"form.cna_referencia\" maxlength=\"500\">\n                    </div>\n                </div>\n                <div class=\"row mt-2\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr \"> Costo Instalación <i class=\"fa fa-dollar\"></i> : </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <div class=\"p-fluid\">\n                            <p-inputNumber [(ngModel)]=\"form.cna_costoinst\" [min]=\"0\" [max]=\"1000000\"\n                                           mode=\"decimal\"\n                                           [minFractionDigits]=\"1\" maxFractionDigits=\"3\"\n                                           [showButtons]=\"false\"></p-inputNumber>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            <div class=\"col-md-2\">\n                <div class=\"d-flex flex-column\">\n                    <button class=\"btn btn-outline-primary\" (click)=\"guardar()\"><i class=\"fa fa-save\"></i> Guardar\n                    </button>\n                    <button class=\"mt-2 btn btn-outline-secondary\" (click)=\"cancelar()\">Cancelar</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</div>\n\n\n<div *ngIf=\"contratosPrevios.length>0\" class=\"mt-2\">\n    <div class=\"text-primary p-1\">\n        El referente ya tiene medidores registrados:\n    </div>\n    <app-tblmedidores [medidores]=\"contratosPrevios\"></app-tblmedidores>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {ContratoaguaService} from '../../../services/agua/contratoagua.service';\nimport {FechasService} from '../../../services/fechas.service';\nimport {PersonaService} from '../../../services/persona.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {DomService} from '../../../services/dom.service';\nimport {CtesAguapService} from '../utils/ctes-aguap.service';\n\n@Component({\n    selector: 'app-contraguaform',\n    templateUrl: './contraguaform.component.html'\n})\nexport class ContraguaformComponent implements OnInit {\n    isLoading = false;\n    form: any = {};\n    formref: any = {};\n    formmed: any = {};\n    tipoContra = 1;\n    tarifas: Array<any> = [];\n    comunidades: Array<any> = [];\n    contratosPrevios: Array<any> = [];\n    currentDate = new Date();\n    teredad = 0;\n    isTercedad = false;\n    isRefSearched = false;\n    validfl: Array<any> = [];\n\n    constructor(private router: Router,\n                private fechasService: FechasService,\n                private domService: DomService,\n                private swalService: SwalService,\n                private personService: PersonaService,\n                private loadingService: LoadingUiService,\n                private ctes: CtesAguapService,\n                private contraService: ContratoaguaService) {\n    }\n\n    ngOnInit(): void {\n        this.loadForm();\n    }\n\n    gotomain() {\n        this.router.navigate([this.ctes.rutaHome]);\n    }\n\n    cancelar() {\n        this.gotomain();\n    }\n\n    loadForm() {\n        this.isLoading = true;\n        this.contraService.getForm(this.tipoContra).subscribe(res => {\n            this.isLoading = false;\n            this.form = res.form.form;\n            this.formref = res.form.formper;\n            this.tarifas = res.form.tarifas;\n            this.comunidades = res.form.comunidades;\n            this.formmed = res.form.formmed;\n            this.teredad = res.form.teredad;\n            this.validfl = res.form.validfl;\n            this.domService.setFocusTm(this.ctes.perCirucInput, 100);\n        });\n    }\n\n    verifiRefRegistrado() {\n        if (!this.isRefSearched) {\n            this.buscarReferente();\n        }\n    }\n\n    buscarReferente() {\n        this.isRefSearched = true;\n        this.loadingService.publishBlockMessage();\n        this.personService.buscarPorCifull(this.formref.per_ciruc).subscribe(res => {\n            if (res.status === 200) {\n                this.swalService.fireToastSuccess(this.ctes.msgRefRegistered);\n                this.personService.loadDataToform(this.formref, res.persona);\n                this.loadContratosRef();\n                this.calcularEdad();\n                this.domService.setFocus(this.ctes.cna_tarifa);\n            } else {\n                this.domService.setFocus(this.ctes.per_nombres);\n            }\n            this.isRefSearched = false;\n        });\n    }\n\n    loadContratosRef() {\n        this.contraService.findByRef(this.formref.per_id).subscribe(res => {\n            if (res.items && res.items.length > 0) {\n                this.swalService.fireToastInfo(this.ctes.msgRefTieneMed);\n                this.contratosPrevios = res.items;\n            }\n        });\n    }\n\n    calcularEdad() {\n        this.personService.setPerEdad(this.formref, true);\n        this.isTercedad = this.personService.isTercedad(this.formref, this.teredad);\n        this.form.cna_teredad = this.isTercedad;\n        if (this.isTercedad) {\n            this.swalService.fireToastInfo(this.ctes.msgAplTarfTercedad);\n        }\n    }\n\n    toggleTercedad() {\n        this.form.cna_teredad = !this.form.cna_teredad;\n    }\n\n    guardar() {\n        const vfieldref = this.personService.getBasicValidFieldList();\n        const isValidRef = this.domService.validFormData(this.formref, vfieldref);\n\n        if (!isValidRef) {\n            return;\n        }\n        const isValidContra = this.domService.validFormData(this.form, this.validfl);\n        if (!isValidContra) {\n            return;\n        }\n        const isValidMed = this.domService.validFormData(this.formmed, this.validfl);\n        if (!isValidMed) {\n            return;\n        }\n\n        this.personService.parsePerFechanac(this.formref);\n        const form = {\n            form: this.form,\n            formref: this.formref,\n            formmed: this.formmed\n        };\n        this.loadingService.publishBlockMessage();\n        this.swalService.fireDialog(this.ctes.msgConfirmSave, '').then(confirm => {\n            if (confirm.value) {\n                this.loadingService.publishBlockMessage();\n                this.contraService.crear(form).subscribe(res => {\n                    if (res.status === 200) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        this.gotomain();\n                    }\n                });\n            }\n        });\n    }\n}\n","<div class=\"d-flex justify-content-center\">\n    <h3>Sistema cobro de agua potable</h3>\n</div>\n\n<div>\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n        <div class=\"row\">\n            <div class=\"d-flex offset-md-3 col-md-6 justify-content-center\">\n                <div class=\"list-group mt-3 border border-primary w-100\">\n                    <!--\n                    <button type=\"button\"\n                            class=\"list-group-item list-group-item-action d-flex flex-row justify-content-between\">\n                        <span>Crear nuevo contrato</span>\n                        <i class=\"fa fa-chevron-right\"></i></button>\n                        -->\n                    <button type=\"button\"\n                            class=\"list-group-item list-group-item-action d-flex flex-row justify-content-between\"\n                            (click)=\"goToForm()\">\n                        <span>Registrar contrato</span> <i class=\"fa fa-chevron-right\"></i></button>\n                    <button type=\"button\"\n                            (click)=\"gotoLectoMed()\"\n                            class=\"list-group-item list-group-item-action d-flex flex-row justify-content-between\">\n                        <span>Registrar lectura medidor</span>\n                        <i class=\"fa fa-chevron-right\"></i></button>\n                    <button type=\"button\"\n                            (click)=\"gotoPagos()\"\n                            class=\"list-group-item list-group-item-action d-flex flex-row justify-content-between\">\n                        <span>Registrar pago</span>\n                        <i class=\"fa fa-chevron-right\"></i></button>\n                </div>\n            </div>\n            <div class=\"col-md\">\n\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ContratoaguaService} from '../../../services/agua/contratoagua.service';\nimport {Router} from '@angular/router';\nimport {CtesAguapService} from '../utils/ctes-aguap.service';\n\n@Component({\n    selector: 'app-contratos',\n    templateUrl: './agua-home.html'\n})\nexport class AguaHomeComponent implements OnInit {\n    isLoading = false;\n\n    constructor(private contraAgua: ContratoaguaService,\n                private ctes: CtesAguapService,\n                private router: Router) {\n    }\n\n    ngOnInit(): void {\n    }\n\n    goToForm() {\n        this.router.navigate([this.ctes.rutaContraForm]);\n    }\n\n    gotoLectoMed() {\n        this.router.navigate([this.ctes.rutaLectoMedForm]);\n    }\n\n    gotoPagos() {\n        this.router.navigate([this.ctes.rutaPagos]);\n    }\n}\n","<div>\n    <div class=\"d-flex justify-content-center\">\n        <h4 class=\"pt-3 pb-2\">Registrar lectura de medidor</h4>\n    </div>\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div>\n        <div class=\"row\">\n            <div class=\"offset-md-3 col-md-6\">\n                <p-steps [model]=\"steps\" [readonly]=\"false\" [activeIndex]=\"currentStep\"></p-steps>\n            </div>\n        </div>\n\n        <div *ngIf=\"!isLoading\" style=\"background-color: rgba(201,201,201,0.43)\">\n            <div class=\"row\">\n                <div class=\"{{currentStep===2?'offset-md-1 col-md-10':'offset-md-3 col-md-6'}}\">\n\n                    <div class=\"my-4 py-4 px-3 shadow-sm rounded bg-white\">\n                        <div *ngIf=\"currentStep===0\">\n                            <div class=\"d-flex justify-content-center mb-4\">\n                                <app-btntipobusagua [tipo]=\"tipoBusqueda\"\n                                                    (evTipoChanged)=\"changeFocusBusca($event)\"></app-btntipobusagua>\n                            </div>\n                            <div *ngIf=\"tipoBusqueda===1\">\n                                <app-buscaref [form]=\"form\" (evOnEnterRef)=\"onEnterRef()\"\n                                              (evOnSelectRef)=\"onRefSelect()\"></app-buscaref>\n                            </div>\n                            <div *ngIf=\"tipoBusqueda===2\">\n                                <app-buscamedidor [form]=\"form\" (evOnSelectMed)=\"onSelMedFromBus()\">\n                                </app-buscamedidor>\n                            </div>\n\n                            <div class=\"w-100 mt-4 d-flex justify-content-center\">\n                                <button class=\"btn btn-outline-secondary\" (click)=\"doCancel()\"> Cancelar <i\n                                        class=\"fa fa-times\"></i></button>\n                                <button class=\"ms-2 btn btn-outline-primary\" id=\"btnNextS1\"\n                                        *ngIf=\"tipoBusqueda===1&&form.referente?.per_id>0\" (click)=\"doNext(1)\">\n                                    Siguiente <i\n                                        class=\"fa fa-chevron-right\"></i></button>\n                                <button class=\"ms-2 btn btn-outline-primary\" id=\"btnNextS1B\"\n                                        *ngIf=\"tipoBusqueda===2&&form.medidor?.mdg_id>0\" (click)=\"onSelMedFromBus()\">\n                                    Siguiente <i\n                                        class=\"fa fa-chevron-right\"></i></button>\n                            </div>\n                        </div>\n                        <div *ngIf=\"currentStep===1\">\n                            <div *ngIf=\"medidores.length==0\" class=\"mt-2 alert alert-warning\">\n                                <span>\n                                    <i class=\"fa fa-exclamation-triangle me-2\"></i>\n                                    No tiene medidores registrados\n                                </span>\n                            </div>\n\n                            <div class=\"my-2\">\n                                <div class=\"p-3 border shadow-sm\">\n                                    <app-basicdatosref [datosref]=\"this.form.referente\"></app-basicdatosref>\n                                </div>\n                            </div>\n                            <div class=\"w-100\" *ngIf=\"medidores.length>1\">\n                                <div class=\"alert alert-primary\">\n                                    <i class=\"fa fa-info me-2\"></i> El referente tiene mas de un medidor registrado, por\n                                    favor elija uno:\n                                </div>\n                                <app-tblmedidores [medidores]=\"medidores\" [isForSelect]=\"true\"\n                                                  (evSelectFila)=\"onSelectMed($event)\"></app-tblmedidores>\n                            </div>\n                            <div *ngIf=\"medidores.length===1\">\n                                <div class=\"p-3 border shadow-sm\">\n                                    <app-datosmedidor [datosmedidor]=\"medidores[0]\"></app-datosmedidor>\n                                </div>\n                            </div>\n                            <div class=\"w-100 mt-4 d-flex justify-content-center\">\n                                <button class=\"btn btn-outline-secondary\" (click)=\"doBack(0)\">\n                                    <i class=\"fa fa-chevron-left\"></i> Anterior\n                                </button>\n                                <button class=\"ms-2 btn btn-outline-primary\" id=\"btnNextS2\" *ngIf=\"medidores.length===1\"\n                                        (click)=\"doNext(2)\">\n                                    Siguiente <i class=\"fa fa-chevron-right\"></i></button>\n                            </div>\n                        </div>\n\n                        <div *ngIf=\"currentStep===2\">\n                            <div class=\"row\">\n                                <div class=\"col-md-7\">\n                                    <div class=\"p-2 border shadow-sm\">\n                                        <div class=\"my-2\">\n                                            <app-basicdatosref [datosref]=\"this.form.referente\"></app-basicdatosref>\n                                        </div>\n                                        <div class=\"mt-2\">\n                                            <app-datosmedidor [datosmedidor]=\"medsel\"></app-datosmedidor>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"mt-3\">\n                                        <div>\n                                            <span class=\"fontsizesm\"> <i class=\"fa fa-info\"></i> Última Lectura realizada:</span>\n                                        </div>\n                                        <div class=\"card shadow-sm\">\n                                            <div class=\"card-body\">\n                                                <div *ngIf=\"!lastlectomed\">\n                                                    <div class=\"text-muted d-flex justify-content-center\">\n                                                        <span class=\"fontsizenr\">No hay registro de lectura anterior</span>\n                                                    </div>\n                                                </div>\n\n                                                <div *ngIf=\"lastlectomed\">\n                                                    <div class=\"row\">\n                                                        <div class=\"col-md-5\">\n                                                            <div>\n                                                                <div>\n                                                                    <span class=\"fw-normal fontsizenr\"> Fecha de registro: </span>\n                                                                </div>\n                                                                <div>\n                                                                    <span class=\"fw-bold fontsizenr\"> {{lastlectomed.lmd_fechacrea}} </span>\n                                                                </div>\n                                                            </div>\n\n                                                            <div class=\"mt-2\">\n                                                                <div>\n                                                                    <span class=\"fw-normal fontsizenr\"> Registrado por: </span>\n                                                                </div>\n                                                                <div>\n                                                                    <span class=\"fw-bold fontsizenr\"> {{lastlectomed.usercrea}} </span>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"col-md-4\">\n                                                            <div>\n                                                                <div>\n                                                                    <span class=\"fw-normal fontsizenr\"> Lectura Anterior: </span>\n                                                                </div>\n                                                                <div>\n                                                                    <span class=\"fw-bold fontsizenr\">\n                                                                        {{lastlectomed.lmd_valorant}} m<sup>3</sup>\n                                                                    </span>\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"mt-2\">\n                                                                <div>\n                                                                    <span class=\"fw-normal fontsizenr\"> Lectura Actual: </span>\n                                                                </div>\n                                                                <div>\n                                                                    <span class=\"fw-bold fontsizenr\">\n                                                                        {{lastlectomed.lmd_valor}}m<sup>3</sup>\n                                                                    </span>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"col-md-3\">\n                                                            <div>\n                                                                <div>\n                                                                    <span class=\"fw-normal fontsizenr\"> Mes: </span>\n                                                                </div>\n                                                                <div>\n                                                                    <span class=\"fw-bold fontsizenr\"> {{lastlectomed.mes_nombre}} </span>\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"mt-2\">\n                                                                <div>\n                                                                    <span class=\"fw-normal fontsizenr\"> Consumo: </span>\n                                                                </div>\n                                                                <div>\n                                                                    <span class=\"fw-bold fontsizenr\">\n                                                                        {{lastlectomed.lmd_consumo}}m<sup>3</sup>\n                                                                    </span>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"mt-2\" *ngIf=\"lastlectomed.lmd_obs.trim().length>0\">\n                                                        <div>\n                                                            <span class=\"fw-normal fontsizenr\"> Observación: </span>\n                                                        </div>\n                                                        <div style=\"white-space: pre-line\" class=\"fontsizenr\">\n                                                            {{lastlectomed.lmd_obs}}\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-5\">\n                                    <div class=\"row mt-1\">\n                                        <div class=\"col-md\">\n                                            <div><span class=\"fw-bold fontsizenr\">Año:</span></div>\n                                            <div>\n                                                <p-dropdown [options]=\"anios\" [(ngModel)]=\"form.lmd_anio\"\n                                                            optionValue=\"value\"\n                                                            optionLabel=\"label\"\n                                                            (onChange)=\"onAnioChange()\"></p-dropdown>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <div><span class=\"fw-bold fontsizenr\">Mes:</span></div>\n                                            <div>\n                                                <p-dropdown [options]=\"meses\" [(ngModel)]=\"form.lmd_mes\"\n                                                            optionValue=\"mes_id\"\n                                                            optionLabel=\"mes_nombre\"\n                                                            (onChange)=\"onMesChange()\"></p-dropdown>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"row mt-3\">\n                                        <div class=\"col-md-6\">\n                                            <div>\n                                                <label class=\"form-label fw-bold fontsizenr\">Lectura Anterior\n                                                    m<sup>3</sup>:</label>\n                                                <input type=\"text\" class=\"form-control\" id=\"lmd_valorant\"\n                                                       (focusin)=$event.target.select()\n                                                       [disabled]=\"previulectomed!==null\"\n                                                       [min]=\"0.0\"\n                                                       [(ngModel)]=\"form.lmd_valorant\">\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div>\n                                                <label class=\"form-label fw-bold fontsizenr\">Lectura Actual\n                                                    m<sup>3</sup>:</label>\n                                                <input type=\"text\" class=\"form-control\" id=\"lmd_valor\"\n                                                       (focusin)=$event.target.select()\n                                                       (keyup)=\"calculaConsumo()\"\n                                                       [(ngModel)]=\"form.lmd_valor\"\n                                                       [min]=\"0.0\">\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"row mt-3\">\n                                        <div class=\"col-md-6\">\n                                            <span class=\"fw-bold fontsizenr\">Consumo Generado m<sup>3</sup>:</span>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <input type=\"text\" class=\"form-control\" disabled\n                                                   [(ngModel)]=\"form.lmd_consumo\">\n                                        </div>\n                                    </div>\n                                    <div class=\"mt-3\">\n                                        <label class=\"form-label fw-bold fontsizenr\">Observación:</label>\n                                        <textarea class=\"form-control\" [(ngModel)]=\"form.lmd_obs\" maxlength=\"800\"\n                                                  rows=\"3\"></textarea>\n                                    </div>\n\n                                </div>\n                            </div>\n                            <div class=\"w-100 mt-4 d-flex justify-content-center\">\n                                <button class=\"btn btn-outline-secondary\" (click)=\"doBack(1)\">\n                                    <i class=\"fa fa-chevron-left\"></i> Anterior\n                                </button>\n                                <button class=\"ms-2 btn btn-outline-primary\"\n                                        id=\"btnNextS3\" (click)=\"doSave()\"> Guardar\n                                    <i class=\"fa fa-save\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {LectomedaguaService} from '../../../services/agua/lectomedagua.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {Router} from '@angular/router';\nimport {CtesAguapService} from '../utils/ctes-aguap.service';\nimport {DomService} from '../../../services/dom.service';\nimport {ContratoaguaService} from '../../../services/agua/contratoagua.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {MenuItem} from 'primeng/api';\nimport {PersonaService} from '../../../services/persona.service';\nimport {BaseComponent} from '../../shared/base.component';\nimport {CobroaguaService} from '../../../services/agua/cobroagua.service';\n\n\n@Component({\n    selector: 'app-lectomed',\n    templateUrl: './lectomed.component.html'\n})\nexport class LectomedComponent extends BaseComponent implements OnInit {\n    isLoading = false;\n    form: any = {};\n    meses: Array<any> = [];\n    anios: Array<any> = [];\n    validfl: Array<any> = [];\n    lastlectomed: any = null;\n    previulectomed: any = null;\n    medsel: any = {};\n    currentStep = 0;\n    tipoBusqueda = 1;\n    steps: MenuItem[] = [];\n    medidores: Array<any> = [];\n\n    constructor(private lectomedService: LectomedaguaService,\n                private contraguaServ: ContratoaguaService,\n                private cobroAguaServ: CobroaguaService,\n                private loadingServ: LoadingUiService,\n                private personaService: PersonaService,\n                private router: Router,\n                private domService: DomService,\n                private ctes: CtesAguapService,\n                private swalService: SwalService) {\n        super();\n    }\n\n    ngOnInit(): void {\n        this.loadForm();\n    }\n\n    loadForm() {\n        this.isLoading = true;\n        this.lectomedService.getForm().subscribe(res => {\n            this.isLoading = false;\n            this.form = res.form.form;\n            this.meses = res.form.meses;\n            this.anios = res.form.anios;\n            this.validfl = res.form.vfl;\n            this.steps = res.form.steps;\n            this.domService.setFocusTm(this.ctes.refAutoCom);\n        });\n    }\n\n    loadMedidores() {\n        this.loadingServ.publishBlockMessage();\n        this.contraguaServ.findByRef(this.form.referente.per_id).subscribe(res => {\n            this.medidores = res.items;\n            if (this.medidores.length === 1) {\n                this.medsel = this.medidores[0];\n                this.setDatosMedToForm();\n            }\n        });\n    }\n\n    onEnterRef() {\n        if (this.cobroAguaServ.validaPaso1(this.form)) {\n            this.doNext(1);\n        }\n    }\n\n    onRefSelect() {\n        this.domService.setFocusTm(this.ctes.btnNextS('1'), 100);\n        this.doNext(1);\n    }\n\n\n    onSelectMed($event: any) {\n        this.medsel = $event;\n        this.setDatosMedToForm();\n        this.doNext(2);\n    }\n\n    doNext(step: any) {\n        this.currentStep = step;\n        if (this.currentStep === 1) {\n            this.loadMedidores();\n        } else if (this.currentStep === 2) {\n            this.lectomedService.clearForm(this.form);\n            this.loadLastLectoMed();\n            this.loadPreviusLectoMed();\n        }\n    }\n\n    doBack(step: number) {\n        this.currentStep = step;\n    }\n\n    setDatosMedToForm() {\n        this.form.mdg_num = this.medsel.mdg_num;\n        this.form.mdg_id = this.medsel.mdg_id;\n    }\n\n    loadLastLectoMed() {\n        this.lastlectomed = null;\n        this.setDatosMedToForm();\n        this.loadingServ.publishBlockMessage();\n        this.lectomedService.getLast(this.form.mdg_num).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.lastlectomed = res.lectomed;\n            }\n        });\n    }\n\n    loadPreviusLectoMed() {\n        this.previulectomed = null;\n        this.form.lmd_valorant = 0;\n        this.loadingServ.publishBlockMessage();\n        this.lectomedService.getPrevius(this.medsel.mdg_num, this.form.lmd_anio, this.form.lmd_mes).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.previulectomed = res.lectomed;\n                this.form.lmd_valorant = this.previulectomed.lmd_valor;\n                this.domService.setFocusTm(this.ctes.lmd_valor);\n            } else {\n                this.domService.setFocusTm(this.ctes.lmd_valorant);\n            }\n        });\n    }\n\n    doSave() {\n        const isValidMed = this.domService.validFormData(this.form, this.validfl);\n        if (!isValidMed) {\n            return;\n        }\n        this.swalService.fireDialog(this.ctes.msgConfirmSave, '').then(confirm => {\n            if (confirm.value) {\n                this.loadingServ.publishBlockMessage();\n                this.lectomedService.guardar(this.form).subscribe(res => {\n                    if (this.isResultOk(res)) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        this.clear();\n                    }\n                });\n            }\n        });\n    }\n\n    clear() {\n        this.currentStep = 0;\n        this.loadForm();\n    }\n\n    calculaConsumo() {\n        this.form.lmd_consumo = this.lectomedService.generaConsumo(this.form);\n    }\n\n    gotoMain() {\n        this.router.navigate([this.ctes.rutaHome]);\n    }\n\n    doCancel() {\n        this.gotoMain();\n    }\n\n    onAnioChange() {\n        this.loadPreviusLectoMed();\n    }\n\n    onMesChange() {\n        this.loadPreviusLectoMed();\n    }\n\n    onSelMedFromBus() {\n        this.medsel = this.form.medidor;\n        this.setDatosMedToForm();\n        this.loadingServ.publishBlockMessage();\n        this.personaService.buscarPorCod(this.medsel.per_id).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.form.referente = res.persona;\n                this.medidores = [this.medsel];\n                this.currentStep = 1;\n            }\n        });\n    }\n\n    changeFocusBusca($ev) {\n        this.tipoBusqueda = $ev;\n        if (this.tipoBusqueda === 1) {\n            this.domService.setFocusTm(this.ctes.refAutoCom);\n        } else {\n            this.domService.setFocusTm(this.ctes.medAutoCom);\n        }\n    }\n}\n","import {Component, Input} from '@angular/core';\n\n@Component({\n    selector: 'app-basicdatosref',\n    template: `\n        <div>\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\"> Referente: </span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\"> {{datosref.nomapel}} </span>\n                </div>\n            </div>\n\n            <div class=\"row mt-1\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\"> Num Ci: </span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\"> {{datosref.per_ciruc}} </span>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class BasicdatosrefComponent {\n    @Input() datosref: any = {};\n\n\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n@Component({\n    selector: 'app-btntipobusagua',\n    template: `\n        <div class=\"btn-group\" role=\"group\" aria-label=\"Tipo de búsqueda\">\n            <input type=\"radio\" class=\"btn-check\" id=\"tnradiotb1\" name=\"btnradiotb\"\n                   [checked]=\"tipo===1\" autocomplete=\"off\">\n            <label for=\"tnradiotb1\" class=\"btn btn-sm btn-outline-primary\"\n                   (click)=\"changeTipo(1)\">\n                Por referente\n            </label>\n            <input type=\"radio\" class=\"btn-check\" id=\"tnradiotb2\" name=\"btnradiotb\"\n                   [checked]=\"tipo===2\" autocomplete=\"off\">\n            <label for=\"tnradiotb2\" class=\"btn btn-sm btn-outline-primary\"\n                   (click)=\"changeTipo(2)\">\n                Por medidor\n            </label>\n        </div>`\n})\nexport class BtntipobusaguaComponent {\n    @Input() tipo = 1;\n    @Output() evTipoChanged = new EventEmitter<any>();\n\n    changeTipo(tipo) {\n        this.tipo = tipo;\n        this.evTipoChanged.emit(this.tipo);\n    }\n\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {BaseComponent} from '../../shared/base.component';\nimport {ContratoaguaService} from '../../../services/agua/contratoagua.service';\nimport {DomService} from '../../../services/dom.service';\nimport {CtesService} from '../../../services/ctes.service';\n\n@Component({\n    selector: 'app-buscamedidor',\n    template: `\n        <div class=\"row g-0\" *ngIf=\"form\">\n            <div class=\"p-fluid {{form?.medidor?.mdg_id>0?'col-sm-11':'col-sm-12'}}\">\n                <p-autoComplete [(ngModel)]=\"form.medidor\"\n                                [suggestions]=\"medidores\"\n                                (completeMethod)=\"filtrar($event)\" field=\"mdg_num\"\n                                inputId=\"medAutoCom\"\n                                autofocus=\"true\"\n                                inputStyleClass=\"form-control {{form.medidor?.mdg_id?'is-valid':'is-invalid'}}\"\n                                [delay]=\"200\"\n                                (keyup.enter)=\"onEnterMed()\"\n                                [forceSelection]=\"true\"\n                                placeholder=\"Ingrese el número del medidor\"\n                                (onSelect)=\"onMedSelect()\">\n                    <ng-template let-med pTemplate=\"item\">\n                        <div>\n                            <div class=\"d-flex justify-content-between\">\n                                <span>{{med.mdg_num}}</span>\n                                <span>{{med.nomapel}}</span>\n                            </div>\n                        </div>\n                    </ng-template>\n                </p-autoComplete>\n            </div>\n            <div class=\"col-sm d-flex\" *ngIf=\"form.medidor?.mdg_id>0\">\n                <button title=\"Limpiar búsqueda\" class=\"btn btn-outline-secondary\" type=\"button\"\n                        (click)=\"limpiarMed()\">\n                    <i class=\"fa fa-eraser\"></i>\n                </button>\n            </div>\n        </div>`\n})\nexport class BuscamedidorComponent extends BaseComponent {\n    @Input() form: any = {};\n    @Output() evOnEnterMed = new EventEmitter<any>();\n    @Output() evOnSelectMed = new EventEmitter<any>();\n\n    medidores: Array<any> = [];\n\n    constructor(private contratoAguaServ: ContratoaguaService,\n                private domService: DomService,\n                private ctes: CtesService) {\n        super();\n    }\n\n    filtrar($event) {\n        this.contratoAguaServ.filterByNumMed($event.query).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.medidores = res.data;\n            }\n        });\n    }\n\n    onEnterMed() {\n        this.evOnEnterMed.emit('');\n    }\n\n    onMedSelect() {\n        this.evOnSelectMed.emit(this.form.medidor);\n    }\n\n    limpiarMed() {\n        this.form.medidor = {};\n        this.domService.setFocusTm(this.ctes.medAutoCom);\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {CtesService} from '../../../services/ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CtesAguapService extends CtesService {\n\n    private RutaHome = 'aguap/home';\n    private RutaContraForm = 'aguap/home/form';\n    private RutaLectoMedForm = 'aguap/lectomed/form';\n    private RutaPagos = 'aguap/cobros';\n    private MdgNum = 'mdg_num';\n    private LmdValor = 'lmd_valor';\n    private LmdValorant = 'lmd_valorant';\n    private CnaTarifa = 'cna_tarifa';\n    private MsgRefTieneMed = 'El referente ya tiene registrado medidores';\n    private MsgAplTarfTercedad = 'Aplica tarifa tercera edad';\n    private MsgEnterNumMed = 'Ingrese el número de medidor';\n\n    get rutaHome() {\n        return this.RutaHome;\n    }\n\n    get rutaContraForm() {\n        return this.RutaContraForm;\n    }\n\n    get rutaLectoMedForm() {\n        return this.RutaLectoMedForm;\n    }\n\n    get rutaPagos() {\n        return this.RutaPagos;\n    }\n\n    get perCirucInput() {\n        return this.PerCirucInput;\n    }\n\n    get per_nombres() {\n        return this.PerNombres;\n    }\n\n    get mdg_num() {\n        return this.MdgNum;\n    }\n\n    get lmd_valor() {\n        return this.LmdValor;\n    }\n\n    get lmd_valorant() {\n        return this.LmdValorant;\n    }\n\n    get cna_tarifa() {\n        return this.CnaTarifa;\n    }\n\n    get msgRefTieneMed() {\n        return this.MsgRefTieneMed;\n    }\n\n    get msgAplTarfTercedad() {\n        return this.MsgAplTarfTercedad;\n    }\n\n    get msgEnterNumMed() {\n        return this.MsgEnterNumMed;\n    }\n\n    btnNextS(adc: string) {\n        return `btnNextS${adc}`;\n    }\n\n}\n","import {Component, Input} from '@angular/core';\n\n@Component({\n    selector: 'app-datosmedidor',\n    template: `\n        <div>\n            <div class=\"row mt-1\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\"> Medidor: </span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\"> {{datosmedidor.mdg_num}} </span>\n                </div>\n            </div>\n\n            <div class=\"row mt-1\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\"> Tarifa: </span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\"> {{datosmedidor.tarifa}} </span>\n                </div>\n            </div>\n\n            <div class=\"row mt-1\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\"> Barrio: </span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\"> {{datosmedidor.comunidad}} </span>\n                </div>\n            </div>\n\n            <div class=\"row mt-1\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\"> Sector: </span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\"> {{datosmedidor.cna_sector}} </span>\n                </div>\n            </div>\n\n            <div class=\"row mt-1\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\"> Dirección: </span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\"> {{datosmedidor.cna_direccion}} </span>\n                </div>\n            </div>\n\n            <div class=\"row mt-1\" *ngIf=\"datosmedidor.cna_teredad && isshowtercedad\">\n                <div class=\"col-md\">\n                    <div class=\"alert alert-info\">\n                        <span class=\"fa fa-info-circle\"></span>\n                        <span> Aplica descuento tercera edad </span>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    `\n})\nexport class DatosmedidorComponent {\n\n    @Input() datosmedidor: any = {};\n    @Input() isshowtercedad = false;\n\n    constructor() {\n\n    }\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n@Component({\n    selector: 'app-tblmedidores',\n    template: `\n        <div>\n            <div class=\"table-responsive\">\n                <table class=\"table table-bordered table-sm {{isForSelect?'table-hover':''}}\">\n                    <thead>\n                    <tr>\n                        <th scope=\"col\">\n                            <div class=\"fontsizesm\">Medidor</div>\n                        </th>\n                        <th scope=\"col\">\n                            <div class=\"fontsizesm\">Tarifa</div>\n                        </th>\n                        <th scope=\"col\">\n                            <div class=\"fontsizesm\">Barrio</div>\n                        </th>\n                        <th scope=\"col\">\n                            <div class=\"fontsizesm\">Sector</div>\n                        </th>\n                        <th scope=\"col\">\n                            <div class=\"fontsizesm\">Dirección</div>\n                        </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <ng-container *ngFor=\"let fila of medidores\">\n                        <tr class=\"{{isForSelect?'hand':''}}\" (click)=\"onRowClic(fila)\">\n                            <td>\n                                <div class=\"fontsizenr\">{{fila.mdg_num}}</div>\n                            </td>\n                            <td>\n                                <div class=\"fontsizenr\">{{fila.tarifa}}</div>\n                            </td>\n                            <td>\n                                <div class=\"fontsizenr\">{{fila.comunidad}}</div>\n                            </td>\n                            <td>\n                                <div class=\"fontsizenr\">{{fila.cna_sector}}</div>\n                            </td>\n                            <td>\n                                <div class=\"fontsizenr\">{{fila.cna_direccion}}</div>\n                            </td>\n                        </tr>\n                    </ng-container>\n                    </tbody>\n                </table>\n            </div>\n        </div>`\n\n})\nexport class TblmedidoresComponent {\n\n    @Input() medidores: Array<any> = [];\n    @Output() evSelectFila = new EventEmitter<any>();\n    @Input() isForSelect = false;\n\n    constructor() {\n    }\n\n    onRowClic(fila: any) {\n        this.evSelectFila.emit(fila);\n    }\n}\n","<div class=\"container\">\n\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n\n    <div *ngIf=\"!isLoading\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <h4>{{editing ? 'Editar ' + artFromDb.ic_nombre : 'Crear Producto o Servicio'}} </h4>\n            </div>\n            <div class=\"col-3 d-flex justify-content-end\">\n                <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n                    <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"cancelar()\"\n                            title=\"Retornar a listado de productos y servicios\">\n                        <i class=\"fa fa-arrow-left\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <hr>\n\n        <div class=\"row\">\n            <div class=\"col-md\">\n                <p-tabView [(activeIndex)]=\"activeTabIndex\">\n                    <p-tabPanel header=\"Detalles\">\n                        <div>\n                            <div class=\"row\">\n                                <div class=\"col-md-8\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md\">\n                                            <div class=\"mb-3\">\n                                                <label>Tipo:</label>\n                                                <br>\n                                                <p-selectButton [options]=\"tiposArt\"\n                                                                [(ngModel)]=\"artForm.tipic_id.value\"\n                                                                optionLabel=\"label\"\n                                                                optionValue=\"value\"\n                                                                [disabled]=\"artForm.tipic_id.disabled\"\n                                                                (onChange)=\"onTipoArtChange()\"></p-selectButton>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <div class=\"mb-3\">\n                                                <label>Graba Iva:</label>\n                                                <br>\n                                                <p-selectButton [options]=\"ivas\"\n                                                                [(ngModel)]=\"artForm.icdp_grabaiva.value\"\n                                                                (onChange)=\"onTipoIvaChange()\"\n                                                                optionLabel=\"label\"\n                                                                optionValue=\"value\"></p-selectButton>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"mb-3\">\n                                        <label for=\"codbarraInput\" class=\"form-label\">\n                                            <span class=\"required\">*</span>Código: <span *ngIf=\"!editing\"\n                                                                                         class=\"hand badge {{artCodAutomatic?'bg-primary':'bg-secondary'}} \"\n                                                                                         (click)=\"generarCodigoBarra()\"\n                                                                                         title=\"Seleccione esta opción si desea que el sistema genere el código para el producto o servicio\">\n                                        <i class=\"fa fa-check\" *ngIf=\"artCodAutomatic\"></i>Automático </span>\n                                            <span *ngIf=\"editing\" (click)=\"showModalEditBarcode()\"\n                                                  class=\"badge bg-info\"\n                                                  title=\"Editar el código de barra\"> <i\n                                                    class=\"fa fa-edit hand\"> </i> </span>\n                                        </label>\n                                        <br>\n                                        <input type=\"text\" class=\"form-control\" id=\"codbarraInput\"\n                                               aria-describedby=\"Código de barra\"\n                                               maxlength=\"80\"\n                                               autocomplete=\"off\"\n                                               (keydown.enter)=\"onEnterCodBarra()\"\n                                               (focusout)=\"checkExisteCodBarra()\"\n                                               placeholder=\"Ingrese el código del producto o servicio\" name=\"ic_code\"\n                                               [(ngModel)]=\"artForm.ic_code.value\"\n                                               [disabled]=\"artForm.ic_code.disabled\"\n                                               [ngClass]=\"{'is-invalid':submited && fieldHasError('ic_code')}\">\n                                    </div>\n\n                                    <div class=\"mb-3\">\n                                        <label for=\"nombreInput\">\n                                            <span class=\"required\">*</span>Nombre:</label>\n                                        <br>\n                                        <input type=\"text\" class=\"form-control\" id=\"nombreInput\"\n                                               aria-describedby=\"emailHelp\"\n                                               autocomplete=\"off\"\n                                               maxlength=\"150\"\n                                               (keydown.enter)=\"onEnterNombre()\"\n                                               (keyup)=\"$event.target.value=$event.target.value.toUpperCase()\"\n                                               placeholder=\"Ingrese el nombre del producto o servicio\" name=\"ic_nombre\"\n                                               [(ngModel)]=\"artForm.ic_nombre.value\"\n                                               [ngClass]=\"{'is-invalid':submited && fieldHasError('ic_nombre')}\">\n                                    </div>\n\n                                    <div class=\"row\" *ngIf=\"artForm.tipic_id && artForm.tipic_id.value===1\">\n                                        <div class=\"col-md\">\n                                            <div class=\"mb-3\">\n                                                <label for=\"precioCompraInput\">\n                                                    <span class=\"required\">*</span>\n                                                    Precio Compra <span class=\"badge bg-light\"\n                                                                        *ngIf=\"artForm.icdp_grabaiva && artForm.icdp_grabaiva.value\">(Sin Iva)</span>:</label>\n                                                <br>\n                                                <input type=\"text\"\n                                                       maxlength=\"10\"\n                                                       autocomplete=\"off\"\n                                                       class=\"form-control\" id=\"precioCompraInput\"\n                                                       aria-describedby=\"emailHelp\"\n                                                       [pattern]=\"numbersPattern\"\n                                                       placeholder=\"Precio de compra\" name=\"icdp_preciocompra\"\n                                                       (focusin)=\"marcarTexto($event)\"\n                                                       (keyup)=\"onKeyupPrecioCompra()\"\n                                                       (keydown.enter)=\"onEnterPrecioCompra()\"\n                                                       [(ngModel)]=\"artForm.icdp_preciocompra.value\"\n                                                       [ngClass]=\"{'is-invalid':(submited && fieldHasError('icdp_preciocompra')||evalPattern('icdp_preciocompra',numbersPattern))}\">\n                                                <div *ngIf=\"evalPattern('icdp_preciocompra',numbersPattern)\">\n                                                    <small class=\"text-danger\">Valor incorrecto</small>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md\"\n                                             *ngIf=\"artForm.icdp_grabaiva && artForm.icdp_grabaiva.value\">\n                                            <div class=\"mb-3\">\n                                                <label for=\"precioCompraInput\">\n                                                    <span class=\"required\">*</span>\n                                                    Precio Compra <span class=\"badge bg-light\"> (Con Iva) </span>\n                                                    :</label>\n                                                <br>\n                                                <input type=\"text\"\n                                                       maxlength=\"10\"\n                                                       autocomplete=\"off\"\n                                                       class=\"form-control\" id=\"precioCompraIvaInput\"\n                                                       aria-describedby=\"emailHelp\"\n                                                       placeholder=\"Precio de compra con iva\"\n                                                       name=\"icdp_preciocompra_iva\"\n                                                       [disabled]=\"artForm.icdp_preciocompra_iva.disabled\"\n                                                       [(ngModel)]=\"artForm.icdp_preciocompra_iva.value\">\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"mb-3\">\n                                        <label for=\"precioVentaInput\">\n                                            <span class=\"required\">*</span>Precio Venta: <span\n                                                *ngIf=\"artForm.tipic_id && artForm.tipic_id.value===1\"\n                                                (click)=\"toggleAsistentePrecios()\"\n                                                class=\"hand badge {{isShowAsistPre?'bg-primary':'bg-secondary'}}\"\n                                                title=\"Muestra el asitente para establecimiento de precios de un producto\">Asistente de precios</span>\n                                        </label>\n                                        <br>\n                                        <input type=\"text\"\n                                               maxlength=\"10\"\n                                               autocomplete=\"off\"\n                                               (focusin)=\"marcarTexto($event)\"\n                                               class=\"form-control\" id=\"precioVentaInput\" aria-describedby=\"emailHelp\"\n                                               placeholder=\"Precio de venta\" name=\"icdp_precioventa\"\n                                               (keydown.enter)=\"onEnterPrecioVenta()\"\n                                               [(ngModel)]=\"artForm.icdp_precioventa.value\"\n                                               [pattern]=\"numbersPattern\"\n                                               [ngClass]=\"{'is-invalid':(submited && fieldHasError('icdp_precioventa')||evalPattern('icdp_precioventa', numbersPattern))}\">\n                                        <div *ngIf=\"evalPattern('icdp_precioventa', numbersPattern)\">\n                                            <small class=\"text-danger\">Valor incorrecto</small>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"card border-primary\" *ngIf=\"isShowAsistPre\">\n                                        <small>\n                                            Este asistente calcula el precio de venta, incrementando el precio de compra\n                                            en el porcentaje ingresado.\n                                        </small>\n                                        <table class=\"table table-borderless table-sm\">\n                                            <thead>\n                                            <tr>\n                                                <th scope=\"col\"><small>% Incremento </small></th>\n                                                <th scope=\"col\"><small>Utilidad </small></th>\n                                                <th scope=\"col\"><small>Precio Venta Sugerido </small></th>\n                                            </tr>\n                                            </thead>\n                                            <tbody>\n                                            <tr>\n                                                <td>\n                                                    <input type=\"text\" (keyup)=\"onKeyupPorcentajeIncr()\"\n                                                           autocomplete=\"false\"\n                                                           [(ngModel)]=\"artForm.asist_pre_porc.value\"\n                                                           id=\"porcIncAsistPre\"\n                                                           class=\"form-control form-control-sm\">\n                                                </td>\n                                                <td>\n                                                    <input type=\"text\" [(ngModel)]=\"artForm.asist_pre_util.value\"\n                                                           [disabled]=\"artForm.asist_pre_util.disabled\"\n                                                           class=\"form-control form-control-sm\">\n                                                </td>\n                                                <td>\n                                                    <input type=\"text\" [(ngModel)]=\"artForm.asist_pre_prevsug.value\"\n                                                           [disabled]=\"artForm.asist_pre_prevsug.disabled\"\n                                                           class=\"form-control form-control-sm\">\n                                                </td>\n                                            </tr>\n                                            </tbody>\n                                        </table>\n                                        <span class=\"hand badge bg-primary\" (click)=\"toggleAsistentePrecios()\"\n                                              title=\"Cierra el asistente de precios\">Cerrar</span>\n                                    </div>\n                                    <div class=\"mb-3\">\n                                        <label for=\"ic_nota\">Observación:</label>\n                                        <br>\n                                        <textarea pInputTextarea maxlength=\"1000\" class=\"form-control\"\n                                                  [(ngModel)]=\"artForm.ic_nota.value\"\n                                                  name=\"ic_nota\" id=\"ic_nota\"\n                                                  rows=\"5\"></textarea>\n                                        <br>\n                                    </div>\n                                </div>\n                                <div class=\"col-md-4\">\n\n                                    <div class=\"mb-3\">\n                                        <label for=\"catic_id\">Categoría:\n                                            <span class=\"btn btn-sm btn-outline-secondary hand\" title=\"Crear categoría\"\n                                                  (click)=\"showModalCreaCateg()\"> <i\n                                                    class=\"fa fa-plus-circle\"></i> </span>\n                                        </label>\n                                        <br>\n                                        <p-dropdown [options]=\"categorias\" id=\"catic_id\"\n                                                    [(ngModel)]=\"artForm.catic_id.value\"\n                                                    (onChange)=\"oncatselchange($event)\"\n                                                    filter=\"true\"\n                                                    optionLabel=\"catic_nombre\"\n                                                    inputId=\"catic_id\"></p-dropdown>\n                                    </div>\n\n                                    <div class=\"mb-3\" *ngIf=\"artForm.tipic_id && artForm.tipic_id.value===1\">\n                                        <label for=\"icdp_proveedor\">Proveedor:</label>\n                                        <br>\n                                        <p-dropdown [options]=\"proveedores\" id=\"icdp_proveedor\"\n                                                    [(ngModel)]=\"artForm.icdp_proveedor.value\"\n                                                    optionLabel=\"per_nombres\" filter=\"true\"\n                                                    optionValue=\"per_id\" inputId=\"icdp_proveedor\"></p-dropdown>\n                                    </div>\n\n                                    <div class=\"mb-3\" *ngIf=\"artForm.tipic_id && artForm.tipic_id.value===1\">\n                                        <label for=\"icdp_fechacaducidad\">Fecha de caducidad:</label>\n                                        <br>\n                                        <p-calendar [(ngModel)]=\"artForm.icdp_fechacaducidad.value\"\n                                                    id=\"icdp_fechacaducidad\"\n                                                    [showIcon]=\"true\"\n                                                    inputId=\"icdp_fechacaducidad\"\n                                                    [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                                    [minDate]=\"minimumDate\"\n                                                    yearRange=\"2019:2050\"\n                                                    dateFormat=\"dd/mm/yy\"></p-calendar>\n                                        <br>\n                                    </div>\n\n                                    <div class=\"form-check\" *ngIf=\"!editing && aplicaDental\">\n                                        <input type=\"checkbox\" class=\"form-check-input\" id=\"dentalcheckinput\"\n                                               [(ngModel)]=\"artForm.ic_dental.value\">\n                                        <label for=\"dentalcheckinput\" class=\"form-check-label\">\n                                            Dental\n                                        </label>\n                                    </div>\n\n                                    <div class=\"fw-light mt-2\"\n                                         title=\"Elija las secciones en las que va ha estar disponible este producto o servicio\">\n                                        Secciones:\n                                    </div>\n                                    <div>\n                                        <div *ngFor=\"let itsec of artForm.seccionesf.value\" class=\"d-flex flex-row\">\n                                            <p-checkbox [inputId]=\"itsec.seccion.sec_id\" binary=\"true\"\n                                                        [(ngModel)]=\"itsec.value\"></p-checkbox>\n                                            <label [for]=\"itsec.seccion.sec_id\"\n                                                   class=\"ms-2 mt-1 hand\">{{itsec.seccion.sec_nombre}}</label>\n                                        </div>\n                                    </div>\n\n                                    <div class=\"mb-3 mt-2\">\n                                        <label for=\"icdp_proveedor\">Modelo Contable:</label>\n                                        <br>\n                                        <p-dropdown [options]=\"modscontabs\" id=\"icdp_modcontab\"\n                                                    [(ngModel)]=\"artForm.icdp_modcontab.value\"\n                                                    optionLabel=\"mc_nombre\" filter=\"true\"\n                                                    optionValue=\"mc_id\" inputId=\"icdp_modcontab\"></p-dropdown>\n                                    </div>\n\n                                    <div class=\"mt-2 d-grid gap-2\">\n                                        <button type=\"button\" class=\"btn btn-outline-primary\"\n                                                (click)=\"procesaForm()\">\n                                            <i class=\"fa fa-save\"></i>\n                                            Guardar\n                                        </button>\n                                        <button type=\"button\" class=\"btn btn-outline-secondary\"\n                                                (click)=\"cancelar()\">\n                                            <i class=\"fa fa-times\"></i>\n                                            Cancelar\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                    </p-tabPanel>\n                    <p-tabPanel header=\"Stock\" *ngIf=\"editing && artFromDb.tipic_id===1\">\n                        <h5> Stock para: {{artFromDb.ic_nombre}} </h5>\n                        <div class=\"row\">\n                            <div class=\"col-md-8\">\n                                <div class=\"card border-primary\">\n                                    <ul class=\"list-group list-group-flush\">\n                                        <li class=\"list-group-item\" *ngFor=\"let item of stock; index as i\">\n                                            <div class=\"row\">\n                                                <div class=\"col\">\n                                                    {{item.sec_nombre}}\n                                                </div>\n                                                <div class=\"col\">\n                                                    <input type=\"text\" class=\"form form-control\" id=\"stock_{{i}}\"\n                                                           [(ngModel)]=\"item.ice_stock\" (focusin)=\"marcarTexto($event)\">\n                                                </div>\n                                            </div>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </div>\n                            <div class=\"col-md\">\n                                <div class=\"d-grid gap-2\">\n                                    <button type=\"button\" class=\"btn btn-outline-primary\"\n                                            (click)=\"guardarStock()\">\n                                        <i class=\"fa fa-save\"></i>\n                                        Guardar\n                                    </button>\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancelar()\">\n                                        <i class=\"fa fa-times\"></i>\n                                        Cancelar\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </p-tabPanel>\n                </p-tabView>\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf=\"isModalEditBC\">\n        <p-dialog header=\"Editar código de barra\" [modal]=\"true\" [style]=\"{width: '70vw'}\"\n                  [(visible)]=\"isModalEditBC\">\n            <div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <label> Codigo anterior: </label>\n                    </div>\n                    <div class=\"col-md\">\n                        <span> {{artFromDb.ic_code}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <label> Nuevo Código: </label>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control auxNuevoBarcode\"\n                               aria-describedby=\"Código de barra\"\n                               maxlength=\"80\"\n                               autocomplete=\"off\"\n                               [(ngModel)]=\"nuevoBarcode\"\n                               placeholder=\"Ingrese el nuevo código\">\n                    </div>\n                </div>\n            </div>\n            <p-footer>\n                <div class=\"d-flex flex-row-reverse\">\n                    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"isModalEditBC=false\">Cancelar</button>\n                    <button type=\"button\" class=\"btn btn-primary\" (click)=\"guardaNuevoBarcode()\">Guardar</button>\n                </div>\n            </p-footer>\n\n        </p-dialog>\n    </div>\n\n    <div *ngIf=\"isModalCatVisible\">\n        <p-dialog header=\"Datos de la categoría\" [modal]=\"true\" [style]=\"{width: '70vw'}\" [baseZIndex]=\"10000\"\n                  [(visible)]=\"isModalCatVisible\">\n            <div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Nombre: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"formcat.catic_nombre\">\n                    </div>\n                </div>\n\n                <div class=\"row mt-2 mb-4\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Modelo Contable: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <p-dropdown [options]=\"modscontabs\" optionLabel=\"mc_nombre\"\n                                    optionValue=\"mc_id\"\n                                    placeholder=\"Seleccione el modelo contable para esta categoría\"\n                                    [(ngModel)]=\"formcat.catic_mc\"></p-dropdown>\n                    </div>\n                </div>\n\n                <div class=\"mt-5 text-center\">\n                    <button class=\"btn btn-outline-primary\" (click)=\"doSaveCat()\"><i class=\"fa fa-save\"></i>\n                        Guardar\n                    </button>\n                    <button class=\"ms-3 btn btn-outline-secondary\" (click)=\"cancelSaveCat()\"><i\n                            class=\"fa fa-times\"></i> Cancelar\n                    </button>\n                </div>\n            </div>\n\n        </p-dialog>\n    </div>\n\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ArticuloService} from '../../../services/articulo.service';\nimport {CategoriasService} from '../../../services/categorias.service';\nimport {MessageService, SelectItem} from 'primeng/api';\nimport {SwalService} from '../../../services/swal.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {ArrayutilService} from '../../../services/arrayutil.service';\nimport {DomService} from '../../../services/dom.service';\nimport {PersonaService} from '../../../services/persona.service';\nimport {FechasService} from '../../../services/fechas.service';\nimport {parse} from 'date-fns';\nimport {LocalStorageService} from '../../../services/local-storage.service';\nimport {ArticulostockService} from '../../../services/articulostock.service';\nimport {forkJoin} from 'rxjs';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {ModelocontabService} from '../../../services/modelocontab.service';\nimport {CtesService} from '../../../services/ctes.service';\n\n\n@Component({\n    selector: 'app-articulos-form',\n    templateUrl: './articulos-form.component.html'\n})\nexport class ArticulosFormComponent implements OnInit {\n    artForm: any;\n    submited: boolean;\n\n    categorias: Array<any> = [];\n    proveedores: Array<any> = [];\n    modscontabs: Array<any> = [];\n    stock: Array<any> = [];\n\n    tiposArt: SelectItem[];\n    ivas: SelectItem[];\n\n    defaultCat: any;\n    defaultProv: any;\n\n    artId: number;\n    artFromDb: any;\n    editing: boolean;\n    artCodAutomatic: boolean;\n    isShowAsistPre: boolean;\n    numbersPattern = '';\n\n    minimumDate = new Date();\n    nombreNuevaCatg: string;\n    activeTabIndex: number;\n    nuevoBarcode: string;\n    aplicaDental: boolean;\n    secciones: Array<any>;\n    impuestos: any;\n    isLoading: boolean;\n    isModalCatVisible: any;\n    isModalEditBC = false;\n    formcat: any;\n\n    constructor(\n        private artService: ArticuloService,\n        private artStockService: ArticulostockService,\n        private catsService: CategoriasService,\n        private swalService: SwalService,\n        private arrayUtil: ArrayutilService,\n        private localStrgServ: LocalStorageService,\n        private loadingService: LoadingUiService,\n        private ctes: CtesService,\n        private router: Router,\n        private route: ActivatedRoute,\n        private fechasService: FechasService,\n        private messageService: MessageService,\n        private domService: DomService,\n        private personaService: PersonaService,\n        private modcontabService: ModelocontabService\n    ) {\n        this.numbersPattern = this.ctes.numbersPattern;\n        this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n        this.isModalCatVisible = false;\n        this.artFromDb = {};\n        this.tiposArt = this.artService.getTiposArt();\n        this.ivas = this.artService.getIvas();\n        this.artCodAutomatic = false;\n        this.isShowAsistPre = false;\n        this.activeTabIndex = 0;\n        this.nuevoBarcode = '';\n        this.aplicaDental = false;\n        this.isLoading = true;\n    }\n\n    ngOnInit() {\n        this.submited = false;\n        this.nombreNuevaCatg = '';\n        this.artFromDb = {};\n        this.editing = false;\n        this.proveedores = new Array<any>();\n        this.artCodAutomatic = false;\n\n        this.route.paramMap.subscribe(params => {\n            this.buildDefForm();\n            this.artId = parseInt(params.get(this.ctes.art_id), 10);\n            this.editing = this.artId > 0;\n            this.loadArrays();\n            if (this.localStrgServ.getItem(this.ctes.insertStock)) {\n                setTimeout(() => {\n                    this.activeTabIndex = 1;\n                }, 500);\n                this.domService.setFocusTm(`${this.ctes.stock}_0`, 600);\n            }\n        });\n        this.loadModelosContables();\n    }\n\n    loadModelosContables() {\n        this.modcontabService.listar().subscribe(res => {\n            if (res.status === 200) {\n                this.modscontabs = res.items;\n            }\n        });\n    }\n\n    fieldHasError(field) {\n        let haserror = false;\n        if (this.artForm[field].required) {\n            haserror = this.artForm[field].value.toString().trim().length === 0;\n        }\n        return haserror;\n    }\n\n    evalPattern(field, pattern) {\n        const re = new RegExp(pattern);\n        return !re.test(this.artForm[field].value);\n    }\n\n    getCatDefault(): any {\n        return this.arrayUtil.getFirstResult(this.categorias, this.catIsDefault);\n    }\n\n    getProvDefault(): any {\n        return this.arrayUtil.getFirstResult(this.proveedores, this.provIsDefault);\n    }\n\n    loadCategorias() {\n        this.catsService.listar().subscribe(resCat => {\n            if (resCat.status === 200) {\n                this.categorias = resCat.items;\n                this.defaultCat = this.getCatDefault();\n            }\n        });\n    }\n\n    loadArrays() {\n        this.isLoading = true;\n        const provObs = this.personaService.listarProveedores();\n        const catsObs = this.catsService.listar();\n        const stockObs = this.artStockService.getForm(this.artId);\n        const impObs = this.artService.getImpuestos();\n        let artObs;\n        if (this.artId > 0) {\n            artObs = this.artService.getByCod(this.artId);\n        } else {\n            artObs = this.artService.getForm();\n        }\n\n\n        forkJoin([provObs, catsObs, stockObs, artObs, impObs]).subscribe(res => {\n            const res0: any = res[0];\n            const res1: any = res[1];\n            const res2: any = res[2];\n            const res3: any = res[3];\n            const res4: any = res[4];\n\n            if (res0.status === 200) {\n                this.proveedores = res0.items;\n                this.defaultProv = this.getProvDefault();\n            }\n            if (res1.status === 200) {\n                this.categorias = res1.items;\n                this.defaultCat = this.getCatDefault();\n            }\n\n            if (res2.status === 200) {\n                this.stock = res2.form_secs;\n            }\n\n            if (res3.status === 200) {\n                if (this.artId > 0) {\n                    this.artFromDb = res3.datosprod;\n                    this.secciones = res3.secciones;\n                    this.buildForm(this.artFromDb);\n                } else {\n                    this.aplicaDental = res3.form.aplicadental;\n                    this.secciones = res3.form.secciones;\n                    this.buildForm(res3.form);\n                    if (this.localStrgServ.getItem(this.ctes.mercformdef_cat)) {\n                        try {\n                            this.artForm.catic_id.value = JSON.parse(this.localStrgServ.getItem(this.ctes.mercformdef_cat));\n                        } catch (e) {\n                        }\n                        this.localStrgServ.removeItem(this.ctes.mercformdef_cat);\n                    }\n                    if (this.localStrgServ.getItem(this.ctes.mercformdef_prov)) {\n                        this.artForm.icdp_proveedor.value = this.localStrgServ.getItem(this.ctes.mercformdef_prov);\n                        this.localStrgServ.removeItem(this.ctes.mercformdef_prov);\n                    }\n                    this.domService.setFocusTm(this.ctes.codbarraInput);\n                }\n            }\n\n            if (res4.status === 200) {\n                this.impuestos = res4.impuestos;\n            }\n            this.isLoading = false;\n        });\n    }\n\n    buildForm(form: any) {\n        let prov = this.defaultProv;\n        let cat = this.defaultCat;\n\n        const provid = form.icdp_proveedor;\n        const catid = form.catic_id;\n        const dbcat = this.arrayUtil.getFirstResult(\n            this.categorias,\n            (el) => {\n                return el.catic_id === catid;\n            }\n        );\n\n        const dbprov = this.arrayUtil.getFirstResult(\n            this.proveedores,\n            (el) => {\n                return el.per_id === provid;\n            }\n        );\n\n        if (dbcat != null) {\n            cat = dbcat;\n        }\n        if (dbprov != null) {\n            prov = dbprov;\n        }\n\n        const icdp_fechacaducidad = form.icdp_fechacaducidad;\n        let artFeccaduParsed = null;\n        if (form.icdp_fechacaducidad && form.icdp_fechacaducidad.length > 0) {\n            artFeccaduParsed = parse(icdp_fechacaducidad, this.ctes.fmtfecha, new Date());\n        }\n\n        const globalAsistPorcIncrem = this.localStrgServ.getItem(this.ctes.globalAsistPorcIncrePrecioCompra);\n        let asistPrePorc = 0.0;\n        if (globalAsistPorcIncrem) {\n            asistPrePorc = Number(globalAsistPorcIncrem);\n        }\n\n        this.artForm = {\n            ic_code: {value: form.ic_code, required: true},\n            icdp_fechacaducidad: {value: artFeccaduParsed},\n            icdp_grabaiva: {value: form.icdp_grabaiva, required: true},\n            ic_nombre: {value: form.ic_nombre, required: true},\n            ic_nota: {value: form.ic_nota},\n            icdp_precioventa: {value: form.icdp_precioventa, required: true},\n            icdp_preciocompra: {value: form.icdp_preciocompra, required: true},\n            icdp_preciocompra_iva: {value: form.icdp_preciocompra_iva, required: true},\n            tipic_id: {value: form.tipic_id, required: true},\n            catic_id: {value: cat, required: true},\n            icdp_proveedor: {value: prov.per_id, required: true},\n            icdp_modcontab: {value: form.icdp_modcontab},\n            icdp_precioventamin: {value: form.icdp_precioventamin},\n            asist_pre_porc: {value: asistPrePorc},\n            asist_pre_util: {value: 0.0},\n            asist_pre_prevsug: {value: 0.0},\n            ic_dental: {value: form.ic_dental},\n            seccionesf: {value: []}\n        };\n\n        this.secciones.forEach(e => {\n            this.artForm.seccionesf.value.push({\n                value: this.secciones.length === 1 ? true : e.marca,\n                sec_id: e.sec_id,\n                seccion: e\n            });\n        });\n\n        this.artForm.icdp_preciocompra_iva.disabled = true;\n        this.artForm.asist_pre_util.disabled = true;\n        this.artForm.asist_pre_prevsug.disabled = true;\n\n        if (this.editing) {\n            setTimeout(() => {\n                this.artForm.ic_code.disabled = true;\n                this.artForm.tipic_id.disabled = true;\n            }, 100);\n        } else {\n            // Si solo hay una seccion, se la marca por defecto\n            if (this.artForm.seccionesf.value.length === 1) {\n                this.artForm.seccionesf.value[0].value = true;\n            }\n        }\n    }\n\n    buildDefForm() {\n        const tipoSel = this.tiposArt[0].value;\n        const ivaSel = this.ivas[1].value;\n\n        const globalAsistPorcIncrem = this.localStrgServ.getItem(this.ctes.globalAsistPorcIncrePrecioCompra);\n        let asistPrePorc = 0.0;\n        if (globalAsistPorcIncrem) {\n            asistPrePorc = Number(globalAsistPorcIncrem);\n        }\n\n        this.artForm = {\n            ic_code: {value: '', required: true},\n            icdp_fechacaducidad: {value: null},\n            icdp_grabaiva: {value: ivaSel, required: true},\n            ic_nombre: {value: '', required: true},\n            ic_nota: {value: ''},\n            icdp_precioventa: {value: 0.0, required: true},\n            icdp_preciocompra: {value: 0.0, required: true},\n            icdp_preciocompra_iva: {value: 0.0},\n            tipic_id: {value: tipoSel, required: true},\n            catic_id: {value: 1, required: true},\n            icdp_proveedor: {value: -2, required: true},\n            icdp_modcontab: {value: 0},\n            icdp_precioventamin: {value: 0.0},\n            asist_pre_porc: {value: asistPrePorc},\n            asist_pre_util: {value: 0.0},\n            asist_pre_prevsug: {value: 0.0},\n            ic_dental: {value: false},\n            seccionesf: {value: []}\n        };\n\n        this.artForm.icdp_preciocompra_iva.disabled = true;\n        this.artForm.asist_pre_util.disabled = true;\n        this.artForm.asist_pre_prevsug.disabled = true;\n    }\n\n    getFormToPost() {\n        const formvalue: any = this.artForm;\n        const formToPost: any = {};\n        for (const prop of Object.keys(formvalue)) {\n            formToPost[prop] = formvalue[prop].value;\n        }\n        const provsel = formToPost.icdp_proveedor;\n        const catsel = formToPost.catic_id;\n        let fechaCaducidad = '';\n        if (formToPost.icdp_fechacaducidad) {\n            fechaCaducidad = this.fechasService.formatDate(formToPost.icdp_fechacaducidad);\n        }\n        formToPost.prov_id = provsel.per_id;\n        formToPost.catic_id = catsel;\n        formToPost.ic_id = this.artId;\n        formToPost.icdp_fechacaducidad = fechaCaducidad;\n        formToPost.codbar_auto = this.artCodAutomatic;\n        formToPost.icdp_proveedor = provsel;\n        return formToPost;\n    }\n\n    guardarStock() {\n        this.loadingService.publishBlockMessage();\n        this.artStockService.guardar(this.stock).subscribe(res => {\n            if (res.status === 200) {\n                this.swalService.fireToastSuccess(res.msg);\n                if (this.localStrgServ.getItem(this.ctes.insertStock)) {\n                    this.localStrgServ.removeItem(this.ctes.insertStock);\n                    this.router.navigate([this.ctes.mercaderiaForm, 0]);\n                } else {\n                    this.cancelar();\n                }\n            }\n        });\n    }\n\n    procesaForm() {\n        this.submited = true;\n        let invalid = false;\n        for (const prop of Object.keys(this.artForm)) {\n            if (this.artForm[prop].required) {\n                invalid = this.artForm[prop].value.toString().trim().length === 0;\n                if (invalid) {\n                    break;\n                }\n            }\n        }\n        if (invalid) {\n            this.swalService.fireToastWarn(this.ctes.msgDatosIncorr);\n            return;\n        }\n\n        const secmarca = this.artForm.seccionesf.value.filter(itsec => itsec.value);\n        if (secmarca.length === 0) {\n            this.swalService.fireToastError(this.ctes.msgMustSelectSeccion);\n            return;\n        }\n\n        this.swalService.fireDialog(this.ctes.msgConfirmSave).then(confirm => {\n            if (confirm.value) {\n                const formtoPost = this.getFormToPost();\n                this.loadingService.publishBlockMessage();\n                this.artService.guardarArticulo(formtoPost).subscribe(res => {\n                    if (res.status === 200) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        if (formtoPost.tipic_id === 1 && !this.editing) {\n                            this.localStrgServ.setItem(this.ctes.insertStock, this.ctes.true);\n                            this.localStrgServ.setItem(this.ctes.mercformdef_cat, JSON.stringify(this.artForm.catic_id.value));\n                            this.localStrgServ.setItem(this.ctes.mercformdef_prov, this.artForm.icdp_proveedor.value);\n                        }\n                        if (this.editing) {\n                            this.router.navigate([this.ctes.mercaderia]);\n                        } else {\n                            if (formtoPost.tipic_id === 1) {\n                                this.router.navigate([this.ctes.mercaderiaForm, res.ic_id]);\n                            } else {\n                                this.localStrgServ.setItem(this.ctes.mercformdef_cat, JSON.stringify(this.artForm.catic_id.value));\n                                this.ngOnInit();\n                            }\n                        }\n                    }\n                });\n            }\n        });\n    }\n\n    generarCodigoBarra() {\n        if (this.artCodAutomatic) {\n            this.artForm.ic_code.value = '';\n            this.artForm.ic_code.disabled = false;\n            this.domService.setFocus(this.ctes.codbarraInput);\n        } else {\n            this.artService.getNextCodbar().subscribe(res => {\n                if (res.status === 200) {\n                    this.artForm.ic_code.value = res.codbar.toString();\n                    this.domService.setFocus(this.ctes.nombreInput);\n                    this.artForm.ic_code.disabled = true;\n                }\n            });\n        }\n        this.artCodAutomatic = !this.artCodAutomatic;\n    }\n\n    cancelar() {\n        this.router.navigate([this.ctes.mercaderia]);\n    }\n\n    checkExisteCodBarra() {\n        const icCode = this.artForm.ic_code.value || '';\n        if (icCode && icCode.length > 0) {\n            this.artService.existeCodbar(icCode).subscribe(res => {\n                if (res.existe) {\n                    this.swalService.fireError(`Ya existe un producto o servicio registrado (${res.nombreart}) con el código: ${icCode}, favor ingrese otro`);\n                } else {\n                    this.domService.setFocus(this.ctes.nombreInput);\n                }\n            });\n        }\n    }\n\n    onEnterCodBarra() {\n        this.domService.setFocusTm(this.ctes.nombreInput);\n    }\n\n    onEnterNombre() {\n        const icNombre = this.artForm.ic_nombre.value;\n        const tipicId = this.artForm.tipic_id.value;\n        if (icNombre && icNombre.trim().length > 0) {\n            if (tipicId && tipicId === 1) {\n                this.domService.setFocus(this.ctes.precioCompraInput);\n            } else {\n                this.domService.setFocus(this.ctes.precioVentaInput);\n            }\n        }\n    }\n\n    onEnterPrecioVenta() {\n        this.domService.setFocus(this.ctes.ic_nota);\n    }\n\n    onEnterPrecioCompra() {\n        this.domService.setFocus(this.ctes.precioVentaInput);\n    }\n\n    calculaPrecioCompraConIva() {\n        const precioConIva = this.getPrecioConIva(this.artForm.icdp_preciocompra.value);\n        this.artForm.icdp_preciocompra_iva.value = precioConIva.toString();\n    }\n\n    onKeyupPrecioCompra() {\n        this.calculaPrecioCompraConIva();\n        this.calculaPrecioVenta();\n    }\n\n    calculaPrecioVenta() {\n        let porcenIncr = 0.0;\n        const porcenIncrValue = this.artForm.asist_pre_porc.value;\n        if (porcenIncrValue) {\n            porcenIncr = Number(porcenIncrValue);\n        }\n        let precioCompraIva = 0.0;\n        const preCompraIvaValue = this.artForm.icdp_preciocompra_iva.value;\n        if (preCompraIvaValue) {\n            precioCompraIva = Number(preCompraIvaValue);\n        }\n        const utilidad = (precioCompraIva * porcenIncr) / Number(100.0);\n        const utilidadFixed = utilidad.toFixed(2);\n        const precioVentaSug = precioCompraIva + utilidad;\n        const precioVentaSugFixed = precioVentaSug.toFixed(2);\n        this.artForm.asist_pre_util.value = utilidadFixed;\n        this.artForm.asist_pre_prevsug.value = precioVentaSugFixed;\n        this.localStrgServ.setItem(this.ctes.globalAsistPorcIncrePrecioCompra, porcenIncr.toString());\n    }\n\n    getPrecioConIva(precio: number) {\n        let precioConIva = 0.0;\n        if (precio) {\n            if (this.artForm.icdp_grabaiva.value) {\n                precioConIva = Number(precio) * Number(1.0 + this.impuestos.iva);\n            } else {\n                precioConIva = Number(precio);\n            }\n        }\n        return precioConIva.toFixed(2);\n    }\n\n    onTipoArtChange() {\n        const tipoSel = this.artForm.tipic_id.value;\n        if (tipoSel === 2) {\n            this.artForm.icdp_preciocompra.value = 0.0;\n            this.artForm.icdp_proveedor.value = -2;\n        }\n        this.artForm.icdp_modcontab.value = tipoSel;\n    }\n\n    onTipoIvaChange() {\n        this.calculaPrecioCompraConIva();\n        this.calculaPrecioVenta();\n    }\n\n    toggleAsistentePrecios() {\n        this.isShowAsistPre = !this.isShowAsistPre;\n        if (this.isShowAsistPre) {\n            this.calculaPrecioVenta();\n            this.domService.setFocusTm(this.ctes.porcIncAsistPre);\n        } else {\n            this.domService.setFocus(this.ctes.precioVentaInput);\n        }\n    }\n\n    catIsDefault(element) {\n        return element.catic_id === 1;\n    }\n\n    provIsDefault(element) {\n        return element.per_id === -2;\n    }\n\n    onKeyupPorcentajeIncr() {\n        this.calculaPrecioVenta();\n    }\n\n    showModalCreaCateg() {\n        this.loadingService.publishBlockMessage();\n        this.catsService.getFormCrea().subscribe(res => {\n            if (res.status === 200) {\n                this.formcat = res.form;\n                if (this.modscontabs.length > 0) {\n                    this.formcat.catic_caja = this.modscontabs[0].mc_id;\n                }\n                this.isModalCatVisible = true;\n            }\n        });\n    }\n\n    marcarTexto($event: any) {\n        $event.target.select();\n    }\n\n    showModalEditBarcode() {\n        this.isModalEditBC = true;\n    }\n\n    guardaNuevoBarcode() {\n        if (this.nuevoBarcode.trim().length > 0) {\n            this.artService.actualizaBarcode(this.artId, this.nuevoBarcode.trim()).subscribe(res => {\n                if (res.status === 200) {\n                    this.isModalEditBC = false;\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.artForm.ic_code.value = this.nuevoBarcode.trim();\n                }\n            });\n        } else {\n            this.swalService.fireWarning(this.ctes.msgMustEnterCodBarra);\n        }\n    }\n\n    doSaveCat() {\n        if (this.formcat.catic_nombre.trim().length === 0) {\n            this.swalService.fireToastError(this.ctes.msgEnterCatName);\n            return;\n        }\n        if (this.formcat.catic_mc === 0) {\n            this.swalService.fireToastError(this.ctes.msgMustSelectModContab);\n            return;\n        }\n        if (this.formcat.catic_id > 0) {\n            this.catsService.actualizar(this.formcat).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.isModalCatVisible = false;\n                    this.loadCategorias();\n                }\n            });\n        } else {\n            this.loadingService.publishBlockMessage();\n            this.catsService.crear(this.formcat).subscribe(res => {\n                this.isModalCatVisible = false;\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.loadCategorias();\n                }\n            });\n        }\n    }\n\n    cancelSaveCat() {\n        this.isModalCatVisible = false;\n    }\n\n    oncatselchange($event: any) {\n        if ($event.value.catic_mc) {\n            this.artForm.icdp_modcontab.value = $event.value.catic_mc;\n        }\n    }\n}\n","<div class=\"row align-items-end\">\n    <div class=\"col-md-8\">\n        <h4>Productos y Servicios ({{items.length}})</h4>\n    </div>\n    <div class=\"col\">\n\n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"col-md-6\">\n        <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" id=\"buscaInput\" (keyup)=\"doFilter($event)\" [(ngModel)]=\"filtro\"\n                   placeholder=\"Buscar artículo por codigo de barra o por nombre\">\n            <button class=\"btn btn-outline-primary\" type=\"button\" id=\"buttonSearh\" (click)=\"listar()\"\n                    title=\"Buscar producto o servicio\">\n                <i class=\"fa fa-search\"></i>\n            </button>\n        </div>\n    </div>\n    <div class=\"col\">\n        <p-dropdown [options]=\"sections\" optionLabel=\"sec_nombre\" [(ngModel)]=\"selectedSection\"\n                    (onChange)=\"listar()\"></p-dropdown>\n    </div>\n    <div class=\"col\">\n        <p-dropdown [options]=\"categorias\" id=\"catic_id\"\n                    [(ngModel)]=\"selectedCat\"\n                    filter=\"true\"\n                    optionLabel=\"catic_nombre\"\n                    optionValue=\"catic_id\"\n                    (onChange)=\"listar()\"\n                    inputId=\"catic_id\"></p-dropdown>\n    </div>\n    <div class=\"col d-flex justify-content-end\">\n        <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"goToForm()\"\n                    title=\"Registrar un nuevo producto o servicio\">\n                Crear <i class=\"fa fa-plus-circle\"></i>\n            </button>\n        </div>\n    </div>\n</div>\n<div *ngIf=\"loadingArts\">\n    <app-loading></app-loading>\n</div>\n<div *ngIf=\"!loadingArts\" class=\"mt-2\">\n    <p-table [value]=\"items\" [paginator]=\"true\" [rows]=\"30\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\n             [(contextMenuSelection)]=\"selectedItem\"\n             [resizableColumns]=\"true\"\n             (onRowSelect)=\"onRowSelect($event)\"\n             (onRowUnselect)=\"onUnRowSelect($event)\"\n             [contextMenu]=\"cm\" tableStyleClass=\"fusay-table\">\n        <ng-template pTemplate=\"header\">\n            <tr>\n                <th width=\"2%\" class=\"fstbpadtitnumber\">#</th>\n                <th *ngFor=\"let item of cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\">\n                    {{item.label}}\n                    <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n                </th>\n                <th width=\"4%\"></th>\n            </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-rowData let-rowIndex=\"rowIndex\">\n            <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\" (dblclick)=\"onDobleClick(rowData)\">\n                <td rowspan=\"2\" class=\"fstbpadtitnumber fstbsmall\">\n                    <span class=\"text-muted\">{{rowIndex + 1}}</span>\n                </td>\n                <td colspan=\"6\" class=\"fstbpadtit\"> {{rowData.ic_nombre}} </td>\n                <td rowspan=\"2\" class=\"fstbpadtit\">\n                    <button (click)=\"viewItem(rowData)\" class=\"btn btn-outline-primary btn-sm\"\n                            title=\"Ver detalles del producto o servicio\"><i class=\"fa fa-eye\"></i></button>\n                </td>\n            </tr>\n            <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\" (dblclick)=\"onDobleClick(rowData)\">\n                <td *ngFor=\"let item of cols\" class=\"fstbpaddet\">\n                    {{rowData[item['field']]}}\n                </td>\n            </tr>\n        </ng-template>\n        <ng-template pTemplate=\"footer\">\n            <tr>\n                <th width=\"2%\"></th>\n                <th>\n\n                </th>\n                <th>\n                    <span class=\"fw-bold\">TOTAL:</span>\n                </th>\n                <th>\n                    <span> {{totales.tpciva}} </span>\n                </th>\n                <th>\n                    <span> {{totales.tpviva}}</span>\n                </th>\n                <th>\n\n                </th>\n                <th>\n                    <span> {{totales.toti}}</span>\n                </th>\n                <th width=\"4%\"></th>\n            </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\" let-columns>\n            <tr>\n                <td [attr.colspan]=\"cols.length+1\">\n                    <span class=\"text-muted\">No hay registros</span>\n                </td>\n            </tr>\n        </ng-template>\n    </p-table>\n    <div>\n\n    </div>\n</div>\n\n<p-contextMenu #cm [model]=\"itemsCtxMenu\"></p-contextMenu>\n","import {Component, OnInit} from '@angular/core';\nimport {ArticuloService} from '../../../services/articulo.service';\nimport {Router} from '@angular/router';\nimport {DomService} from '../../../services/dom.service';\nimport {MenuItem} from 'primeng/api';\nimport {SwalService} from '../../../services/swal.service';\nimport {SeccionService} from '../../../services/seccion.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {CategoriasService} from '../../../services/categorias.service';\nimport {forkJoin} from 'rxjs';\nimport {FautService} from '../../../services/faut.service';\nimport {ArrayutilService} from '../../../services/arrayutil.service';\nimport {CtesService} from '../../../services/ctes.service';\n\n@Component({\n    selector: 'app-articulos-list',\n    templateUrl: './articulos-list.component.html',\n    styleUrls: ['./articulos-list.component.css']\n})\nexport class ArticulosListComponent implements OnInit {\n\n    filtro: string;\n    items: Array<any>;\n    cols: Array<any>;\n    selectedItem: any;\n    enableBtns: boolean;\n\n    itemsCtxMenu: MenuItem[];\n    sections: Array<any>;\n    selectedSection: any;\n    previustimer: any = 0;\n    loadingArts: boolean;\n    selectedCat = 0;\n    categorias: Array<any>;\n    totales: any;\n\n    isLoading: boolean;\n\n    constructor(private artsService: ArticuloService,\n                private catsService: CategoriasService,\n                private domService: DomService,\n                private swalService: SwalService,\n                private loadinUiServ: LoadingUiService,\n                private seccionService: SeccionService,\n                private arrayService: ArrayutilService,\n                private fautService: FautService,\n                private ctes: CtesService,\n                private router: Router) {\n    }\n\n    ngOnInit() {\n        this.loadingArts = true;\n        this.isLoading = true;\n        this.totales = {};\n        this.categorias = [];\n        this.items = new Array<any>();\n        this.cols = new Array<any>();\n        this.filtro = '';\n        this.itemsCtxMenu = [\n            {label: 'Ver detalles', icon: 'fa fa-eye', command: (event) => this.viewItem(this.selectedItem)},\n            {label: 'Editar', icon: 'fa fa-pencil', command: (event) => this.editItem(this.selectedItem)},\n            {label: 'Eliminar', icon: 'fa fa-trash', command: (event) => this.deleteItem(this.selectedItem)}\n        ];\n        const seccionObs = this.seccionService.listar();\n        const catsObs = this.catsService.listar();\n        forkJoin([seccionObs, catsObs]).subscribe(res => {\n            if (res[0].status === 200) {\n                this.sections = res[0].items;\n                this.selectedSection = this.sections[0];\n\n                const infoSecSaved = this.fautService.getSeccionInfoSaved();\n                if (infoSecSaved) {\n                    const result = this.arrayService.getFirstResult(this.sections, el => {\n                            return el.sec_id === infoSecSaved.sec_id;\n                        }\n                    );\n                    if (result) {\n                        this.selectedSection = result;\n                    }\n                }\n            }\n            if (res[1].status === 200) {\n                this.categorias = res[1].items;\n            }\n            this.listar();\n            this.isLoading = false;\n            this.domService.setFocusTm(this.ctes.buscaInput);\n        });\n    }\n\n    onRowSelect(event) {\n        this.enableBtns = true;\n    }\n\n    onUnRowSelect(event) {\n        this.enableBtns = false;\n    }\n\n    delayKeyup(callback, ms, prevtimer, context) {\n        clearTimeout(prevtimer);\n        return setTimeout(() => {\n            callback(context);\n        }, ms);\n    }\n\n\n    filtroDelayFn(context) {\n        context.listar();\n    }\n\n    doFilter(ev: any) {\n        this.previustimer = this.delayKeyup(this.filtroDelayFn, 500, this.previustimer, this);\n    }\n\n    editItem(rowItem: any) {\n        this.selectedItem = rowItem;\n        this.editar();\n    }\n\n    viewItem(rowItem: any) {\n        this.selectedItem = rowItem;\n        this.router.navigate([this.ctes.mercaderiaView, this.selectedItem.ic_id]);\n    }\n\n    deleteItem(rowItem: any) {\n        const nombreProd = rowItem.ic_nombre;\n        const msg = '¿Seguro que desea eliminar ' + nombreProd + ' ?';\n\n        this.swalService.fireDialog(msg).then(confirm => {\n            if (confirm.value) {\n                this.loadinUiServ.publishBlockMessage();\n                this.artsService.anularArticulo(rowItem.ic_id).subscribe(res => {\n                    if (res.status === 200) {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.listar();\n                        }\n                    }\n                });\n            }\n        });\n    }\n\n    listar() {\n        const secId = this.selectedSection.sec_id;\n        this.loadingArts = true;\n        let codcat = 0;\n        if (this.selectedCat) {\n            codcat = this.selectedCat;\n        }\n        this.artsService.listar(this.filtro, secId, codcat)\n            .subscribe(response => {\n                this.loadingArts = false;\n                if (response.status === 200) {\n                    const grid = response.data;\n                    this.totales = response.tot;\n                    this.items = grid.data;\n                    this.cols = grid.cols;\n                }\n            });\n    }\n\n    editar() {\n        this.router.navigate([this.ctes.mercaderiaForm, this.selectedItem.ic_id]);\n    }\n\n    goToForm() {\n        this.router.navigate([this.ctes.mercaderiaForm, 0]);\n    }\n\n    onDobleClick(rowData) {\n        this.viewItem(rowData);\n    }\n}\n","<div class=\"container\">\n    <div class=\"row\">\n        <div class=\"col-9\">\n            <h4> {{artFromDb.ic_nombre}} </h4>\n        </div>\n        <div class=\"col-3 d-flex justify-content-end\">\n            <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n                <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"retornar()\"\n                        title=\"Actualiza listado de productos y servicios\">\n                    <i class=\"fa fa-arrow-left\"></i>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"editar()\"\n                        title=\"Editar la información de este producto o servicio\">\n                    <i class=\"fas fa-edit\"></i>\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"elminar()\"\n                        title=\"Borrar este producto o servicio\">\n                    <i class=\"fa fa-trash\"></i>\n                </button>\n            </div>\n        </div>\n    </div>\n    <hr>\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n        <div class=\"card border-secondary\">\n            <div class=\"card-header\">\n                Datos del producto o servicio\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Tipo:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        {{artFromDb.tipic_nombre}}\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Nombre:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        {{artFromDb.ic_nombre}}\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Código:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        {{artFromDb.ic_code}}\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Fecha de ingreso:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        {{artFromDb.ic_fechacrea}}\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Graba Iva:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        {{artFromDb.icdp_grabaiva ? 'Si' : 'No'}}\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Categoría:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        {{artFromDb.catic_nombre}}\n                    </div>\n                </div>\n                <div class=\"row\" *ngIf=\"artFromDb.tipic_id===1\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Proveedor:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        {{artFromDb.proveedor}}\n                    </div>\n                </div>\n                <div class=\"row\" *ngIf=\"artFromDb.tipic_id===1\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Fecha de caducidad:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        <p class=\"text-justify\"> {{artFromDb.icdp_fechacaducidad}} </p>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Modelo Contable:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        <p class=\"text-justify\"> {{artFromDb.mc_nombre}} </p>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-lighter\">Nota:</span>\n                    </div>\n                    <div class=\"col-md\">\n                        <p class=\"text-justify\"> {{artFromDb.ic_nota}} </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <br>\n        <div class=\"card border-secondary\">\n            <div class=\"card-header\">\n                Precios\n            </div>\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-md\" *ngIf=\"artFromDb.tipic_id===1\">\n                        <div class=\"row\">\n                            <div class=\"col-md-8\">\n                                            <span class=\"fw-lighter\">Precio de compra\n                                                <span class=\"badge bg-secondary\"\n                                                      *ngIf=\"artFromDb.icdp_grabaiva\"> (Sin Iva) </span>:\n                                            </span>\n                            </div>\n                            <div class=\"col-md\">\n                                $ {{artFromDb.icdp_preciocompra}}\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md\">\n                        <div class=\"row\">\n                            <div class=\"col-md-8\">\n                                            <span class=\"fw-lighter\">Precio de venta\n                                                <span class=\"badge bg-secondary\"\n                                                      *ngIf=\"artFromDb.icdp_grabaiva\"> (Sin Iva) </span>:\n                                            </span>\n                            </div>\n                            <div class=\"col-md\">\n                                $ {{artFromDb.icdp_precioventasiniva}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md\" *ngIf=\"artFromDb.tipic_id===1 && artFromDb.icdp_grabaiva\">\n                        <div class=\"row\">\n                            <div class=\"col-md-8\">\n                                <span class=\"fw-lighter\">Precio de compra\n                                    <span class=\"badge bg-secondary\" *ngIf=\"artFromDb.icdp_grabaiva\">\n                                        (Con Iva)\n                                    </span>:\n                                </span>\n                            </div>\n                            <div class=\"col-md\">\n                                $ {{artFromDb.icdp_preciocompra_iva}}\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md\" *ngIf=\"artFromDb.icdp_grabaiva\">\n                        <div class=\"row\">\n                            <div class=\"col-md-8\">\n                                <span class=\"fw-lighter\">Precio de venta\n                                    <span class=\"badge bg-secondary\" *ngIf=\"artFromDb.icdp_grabaiva\">\n                                        (Con Iva)\n                                    </span>:\n                                </span>\n                            </div>\n                            <div class=\"col-md\">\n                                $ {{artFromDb.icdp_precioventa}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <br>\n        <div class=\"card border-secondary\" *ngIf=\"artFromDb.tipic_id===1\">\n            <div class=\"card-header\">\n                Stock\n            </div>\n            <div class=\"card-body\">\n                <ul class=\"list-group list-group-flush\">\n                    <li class=\"list-group-item quitaPaddingMargin\" *ngFor=\"let item of stock\">\n                        <div class=\"row\">\n                            <div class=\"col-md-4\">\n                                {{item.sec_nombre}}\n                            </div>\n                            <div class=\"col-md\">\n                                <span> {{item.ice_stock}}  </span>\n                            </div>\n                        </div>\n                    </li>\n                </ul>\n            </div>\n        </div>\n        <div class=\"mt-2\">\n            <button class=\"btn btn-outline-info\" (click)=\"verKardex()\">Ver Kardex</button>\n        </div>\n        <div class=\"mt-2 card border-secondary\" *ngIf=\"isShowKardex\">\n            <div class=\"card-header\">\n                Kardex\n            </div>\n            <div class=\"table table-responsive\">\n                <table class=\"table table-sm table-bordered\">\n                    <thead>\n                    <tr>\n                        <th>\n                            <span class=\"fontsizesm\">Fecha</span>\n                        </th>\n                        <th>\n                            <span class=\"fontsizesm\">Evento</span>\n                        </th>\n                        <th>\n                            <span class=\"fontsizesm\">Valor Antes</span>\n                        </th>\n                        <th>\n                            <span class=\"fontsizesm\">Valor Despues</span>\n                        </th>\n                        <th>\n                            <span class=\"fontsizesm\">Referencia</span>\n                        </th>\n                        <th>\n                            <span class=\"fontsizesm\">Observación</span>\n                        </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr *ngFor=\"let fila of kardex\">\n                        <td>\n                            <span class=\"fontsizexsm\">{{fila.fecha_crea}}</span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizexsm\">{{fila.evento}}</span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizexsm\">{{fila.ica_valantes}}</span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizexsm\">{{fila.ica_valdespues}}</span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizexsm\">{{fila.referente}}</span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizexsm\">{{fila.ica_obs}}</span>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ArticuloService} from '../../../services/articulo.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SwalService} from '../../../services/swal.service';\nimport {ArticulostockService} from '../../../services/articulostock.service';\nimport {KardexProdService} from '../../../services/kardex-prod.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {CtesService} from '../../../services/ctes.service';\n\n@Component({\n    selector: 'app-articulos-view',\n    templateUrl: './articulos-view.component.html'\n})\nexport class ArticulosViewComponent implements OnInit {\n\n    artId: number;\n    artFromDb: any;\n    stock: Array<any> = [];\n    isLoading: boolean;\n    isShowKardex = false;\n    kardex: [];\n\n    constructor(private artService: ArticuloService,\n                private router: Router,\n                private swalService: SwalService,\n                private ctes: CtesService,\n                private loadingServ: LoadingUiService,\n                private artStockService: ArticulostockService,\n                private kardexProdService: KardexProdService,\n                private route: ActivatedRoute) {\n    }\n\n    ngOnInit() {\n        this.isLoading = true;\n        this.artFromDb = {};\n        this.route.paramMap.subscribe(params => {\n            this.artId = parseInt(params.get(this.ctes.art_id), 10);\n            this.artService.getByCod(this.artId).subscribe(res => {\n                if (res.status === 200) {\n                    this.artFromDb = res.datosprod;\n                }\n                this.isLoading = false;\n            });\n            this.artStockService.getForm(this.artId).subscribe(resStock => {\n                if (resStock.status === 200) {\n                    this.stock = resStock.form_secs;\n                }\n            });\n        });\n    }\n\n    retornar() {\n        this.router.navigate([this.ctes.mercaderia]);\n    }\n\n    editar() {\n        this.router.navigate([this.ctes.mercaderiaForm, this.artId]);\n    }\n\n    elminar() {\n        const nombreProd = this.artFromDb.ic_nombre;\n        const msg = '¿Seguro que desea eliminar ' + nombreProd + ' ?';\n        this.swalService.fireDialog(msg).then(confirm => {\n            if (confirm.value) {\n                this.artService.anularArticulo(this.artFromDb.ic_id).subscribe(res => {\n                    if (res.status === 200) {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.retornar();\n                        }\n                    }\n                });\n            }\n        });\n    }\n\n    verKardex() {\n        this.kardex = [];\n        this.loadingServ.publishBlockMessage();\n        this.kardexProdService.getKardex(this.artFromDb.ic_id).subscribe(res => {\n            this.isShowKardex = true;\n            if (res.status === 200) {\n                this.kardex = res.items;\n            }\n        });\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {CategoriasService} from '../../../services/categorias.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {ModelocontabService} from '../../../services/modelocontab.service';\nimport {CtesService} from '../../../services/ctes.service';\n\n@Component({\n    selector: 'app-categorias',\n    template: `\n        <div>\n            <div *ngIf=\"isloading\">\n                <app-loading></app-loading>\n            </div>\n            <div *ngIf=\"!isloading\">\n                <div class=\"row\">\n                    <div class=\"col-md-8\">\n                        <h4>Categorías</h4>\n                    </div>\n                    <div class=\"col-md d-flex flex-row-reverse\">\n                        <button class=\"btn btn-outline-primary\" (click)=\"showModalCrear()\">Crear <i\n                                class=\"fa fa-plus-circle\"></i></button>\n                    </div>\n                </div>\n                <div class=\"table-responsive mt-1\">\n                    <table class=\"table table-bordered table-sm\">\n                        <thead>\n                        <tr>\n                            <th scope=\"col\">Código</th>\n                            <th scope=\"col\">Nombre</th>\n                            <th scope=\"col\">Modelo Contable</th>\n                            <th>\n                                Acción\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let fila of categorias\" class=\"hand\">\n                            <td>\n                                {{fila.catic_id}}\n                            </td>\n                            <td>\n                                {{fila.catic_nombre}}\n                            </td>\n                            <td>\n                                {{fila.caja}}\n                            </td>\n                            <td>\n                                <div *ngIf=\"fila.catic_id>1\">\n                                    <button class=\"btn btn-sm btn-outline-secondary\" title=\"Anular esta categoría\"\n                                            (click)=\"anular(fila)\"><i class=\"fa fa-trash\"></i></button>\n                                    <button class=\"btn btn-sm btn-outline-secondary\" title=\"Editar esta categoría\"\n                                            (click)=\"editar(fila)\"><i class=\"fa fa-edit\"></i></button>\n                                </div>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n\n            <div *ngIf=\"isModalVisible\">\n                <p-dialog header=\"Datos de la categoría\" [modal]=\"true\" [style]=\"{width: '70vw'}\"\n                          [closeOnEscape]=\"true\"\n                          [autoZIndex]=\"false\"\n                          [(visible)]=\"isModalVisible\">\n                    <div *ngIf=\"isformloading\">\n                        <app-loading></app-loading>\n                    </div>\n                    <div *ngIf=\"!isformloading\">\n                        <div class=\"row mt-2 mb-4\">\n                            <div class=\"col-md-4\">\n                                <span class=\"fw-light\"> Modelo Contable: </span>\n                            </div>\n                            <div class=\"col-md\">\n                                <p-dropdown [options]=\"modscontabs\" id=\"icdp_modcontab\"\n                                            [(ngModel)]=\"formcat.catic_mc\"\n                                            optionLabel=\"mc_nombre\" [filter]=\"false\"\n                                            optionValue=\"mc_id\" inputId=\"icdp_modcontab\"></p-dropdown>\n                            </div>\n                        </div>\n\n                        <div class=\"row\">\n                            <div class=\"col-md-4\">\n                                <span class=\"fw-light\"> Nombre: </span>\n                            </div>\n                            <div class=\"col-md\">\n                                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"formcat.catic_nombre\">\n                            </div>\n                        </div>\n\n                        <div class=\"mt-5 text-center\">\n                            <button class=\"btn btn-outline-primary\" (click)=\"doSave()\"><i class=\"fa fa-save\"></i>\n                                Guardar\n                            </button>\n                            <button class=\"ms-3 btn btn-outline-secondary\" (click)=\"cancelSave()\"><i\n                                    class=\"fa fa-times\"></i> Cancelar\n                            </button>\n                        </div>\n                    </div>\n                </p-dialog>\n            </div>\n        </div>\n    `\n})\nexport class CategoriasComponent implements OnInit {\n    categorias: Array<any>;\n    isloading: boolean;\n    isModalVisible: boolean;\n    formcat: any;\n    modscontabs: Array<any> = [];\n    isformloading: boolean;\n\n    constructor(private categoriaService: CategoriasService,\n                private swalService: SwalService,\n                private ctes: CtesService,\n                private modcontabService: ModelocontabService,\n                private loadingService: LoadingUiService) {\n        this.categorias = [];\n        this.formcat = {};\n    }\n\n    ngOnInit(): void {\n        this.categorias = [];\n        this.isModalVisible = false;\n        this.isloading = false;\n        this.loadCategorias();\n        this.loadModelosContables();\n    }\n\n    loadModelosContables() {\n        this.modcontabService.listar().subscribe(res => {\n            if (res.status === 200) {\n                this.modscontabs = res.items;\n            }\n        });\n    }\n\n    loadCategorias() {\n        this.isloading = true;\n        this.categoriaService.listar().subscribe(res => {\n            if (res.status === 200) {\n                this.categorias = res.items;\n            }\n            this.isloading = false;\n        });\n    }\n\n    showModalCrear() {\n        this.loadingService.publishBlockMessage();\n        this.categoriaService.getFormCrea().subscribe(res => {\n            if (res.status === 200) {\n                this.formcat = res.form;\n                if (this.modscontabs.length > 0) {\n                    this.formcat.catic_caja = this.modscontabs[0].mc_id;\n                }\n                this.isModalVisible = true;\n            }\n        });\n    }\n\n    doSave() {\n        if (this.formcat.catic_nombre.trim().length === 0) {\n            this.swalService.fireToastError(this.ctes.msgEnterCatName);\n            return;\n        }\n        if (this.formcat.catic_mc === 0) {\n            this.swalService.fireToastError(this.ctes.msgMustSelectModContab);\n            return;\n        }\n        if (this.formcat.catic_id > 0) {\n            this.categoriaService.actualizar(this.formcat).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.isModalVisible = false;\n                    this.loadCategorias();\n                }\n            });\n        } else {\n            this.loadingService.publishBlockMessage();\n            this.categoriaService.crear(this.formcat).subscribe(res => {\n                this.isModalVisible = false;\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.loadCategorias();\n                }\n                this.isformloading = false;\n            });\n        }\n    }\n\n    cancelSave() {\n        this.isModalVisible = false;\n    }\n\n    anular(fila: any) {\n        this.swalService.fireDialog(this.ctes.msgSureWishRemoveCat).then(confirm => {\n            if (confirm.value) {\n                this.categoriaService.anular(fila.catic_id).subscribe(res => {\n                    if (res.status === 200) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        this.loadCategorias();\n                    }\n                });\n            }\n        });\n    }\n\n    editar(fila: any) {\n        this.formcat = fila;\n        this.isModalVisible = true;\n    }\n}\n","<div>\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr\"> Número: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold fontsizenr\"> {{datosasi.cabecera.trn_compro}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr\"> Tipo: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold fontsizenr\"> {{datosasi.cabecera.tra_nombre}} </span>\n                    </div>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr\"> Fecha: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold fontsizenr\"> {{datosasi.cabecera.trn_fecreg}} </span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-6\">\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr\"> Estado: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold fontsizenr\"> {{datosasi.cabecera.estado}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr\"> Registrado por: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold fontsizenr\"> {{datosasi.cabecera.refusercrea}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-normal fontsizenr\"> Fecha de registro: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold fontsizenr\"> {{datosasi.cabecera.trn_fecha}} </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-2\">\n                <span class=\"fw-normal fontsizenr\"> Observación: </span>\n            </div>\n            <div class=\"col-md\">\n                <p style=\"white-space: pre-line\" class=\"fontsizenr\"> {{datosasi.cabecera.trn_observ}} </p>\n            </div>\n        </div>\n        <div class=\"table-responsive\">\n            <table class=\"table table-sm table-bordered\">\n                <thead>\n                <tr>\n                    <th scope=\"col\" width=\"10%\" class=\"border-end\">\n                        <span class=\"fontsizesm\">Código</span>\n                    </th>\n                    <th scope=\"col\" width=\"50%\" class=\"border-end\">\n                        <div class=\"fontsizesm text-center\">\n                            Cuenta Contable\n                        </div>\n                    </th>\n                    <th scope=\"col\" width=\"15%\" class=\"border-end\">\n                        <div class=\"fontsizesm d-flex flex-row-reverse\">Debe</div>\n                    </th>\n                    <th scope=\"col\" width=\"15%\">\n                        <div class=\"fontsizesm d-flex flex-row-reverse\">Haber</div>\n                    </th>\n                </tr>\n                </thead>\n                <tbody>\n                <ng-container *ngFor=\"let fila of detalles\">\n                    <tr>\n                        <td class=\"border\">\n                                <span class=\"fontsizesm\"\n                                      [ngClass]=\"{'haberl':fila.dt_debito===-1}\">{{fila.ic_code}}</span>\n                        </td>\n                        <td class=\"border\">\n                                <span class=\"fontsizesm\" [ngClass]=\"{'haberl':fila.dt_debito===-1}\">\n                                {{fila.ic_nombre}}\n                                </span>\n                        </td>\n                        <td class=\"border\">\n                            <div *ngIf=\"fila.dt_debito===1\"\n                                 class=\"d-flex flex-row-reverse fontsizesm\">{{fila.dt_valor|number:'.2'}}</div>\n                        </td>\n                        <td class=\"border\">\n                            <div *ngIf=\"fila.dt_debito===-1\"\n                                 class=\"d-flex flex-row-reverse fontsizesm\">{{fila.dt_valor|number:'.2'}}</div>\n                        </td>\n                    </tr>\n                </ng-container>\n                <tr>\n                    <td colspan=\"2\">\n                        <div class=\"d-flex flex-row-reverse fw-bold\">TOTAL:</div>\n                    </td>\n                    <td>\n                        <div class=\"d-flex flex-row-reverse fw-bold\"> {{totales.debe|number:'.2'}} </div>\n                    </td>\n                    <td>\n                        <div class=\"d-flex flex-row-reverse fw-bold\"> {{totales.haber|number:'.2'}} </div>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div class=\"row\" *ngIf=\"showBtns\">\n            <div class=\"col\">\n                <div class=\"mt-2 d-flex flex-row-reverse\">\n                    <button class=\"btn btn-outline-primary ms-1\" (click)=\"onCerraBtn()\"><i\n                            class=\"fa fa-times\"></i>\n                        Cerrar\n                    </button>\n                    <!--\n                    <button class=\"btn btn-outline-primary\" (click)=\"onAnularBtn()\"\n                            *ngIf=\"datosasi.cabecera.trn_valido===0\">\n                        <i class=\"fa fa-trash\"></i>\n                        Anular\n                    </button>\n                    -->\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {SwalService} from '../../../../services/swal.service';\n\n@Component({\n    selector: 'app-asientoview',\n    templateUrl: './asientoview.component.html',\n    styles: [\n            `\n            .haberl {\n                margin-left: 70px;\n            }\n        `]\n})\nexport class AsientoviewComponent implements OnInit, OnChanges {\n\n    @Input() trncod: number;\n    @Output() evCerrar = new EventEmitter<any>();\n\n    isLoading = false;\n    datosasi: any = {};\n    totales: any = {};\n    detalles = [];\n\n    @Input() showBtns = true;\n\n    constructor(private asientoService: AsientoService,\n                private swalService: SwalService) {\n\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const chng = changes.trncod;\n        if (chng.currentValue) {\n            this.loadDatosAsiento();\n        }\n    }\n\n    loadDatosAsiento() {\n        this.isLoading = true;\n        this.asientoService.getDatosAsiContab(this.trncod).subscribe(res => {\n            this.isLoading = false;\n            this.datosasi = res.datoasi;\n            this.totales = this.datosasi.totales;\n            this.detalles = this.datosasi.detalles;\n        });\n    }\n\n    onCerraBtn() {\n        this.evCerrar.emit('');\n    }\n\n    onAnularBtn() {\n        this.swalService.fireToastSuccess('No implementado');\n    }\n\n    anular(fila: any) {\n    }\n\n    gotoEditAsiento(fila: any) {\n\n    }\n}\n","<div class=\"p-2\">\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n        <div>\n            <h4 class=\"quitaPaddingMargin\">\n                {{codasi > 0 ? 'Editar Asiento Contable' : 'Crear asiento contable'}}</h4>\n        </div>\n        <div class=\"mt-2 border ps-3 pe-3 pt-3\">\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <div class=\"row\">\n                        <div class=\"col-md-2\"><span class=\"fw-light\">Fecha:</span></div>\n                        <div class=\"col-md\">\n                            <p-calendar [(ngModel)]=\"formasiento.trn_fecregobj\"\n                                        [showIcon]=\"false\"\n                                        [disabled]=\"codasi>0\"\n                                        class=\"ms-2 p-inputtext-sm\"\n                                        [maxDate]=\"currentdate\"\n                                        inputId=\"trn_fecregobj\"\n                                        [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                        yearRange=\"1900:2100\"\n                                        dateFormat=\"dd/mm/yy\"></p-calendar>\n                        </div>\n                    </div>\n\n                </div>\n                <div class=\"col-md-6\">\n                    <div class=\"row d-flex justify-content-end\">\n                        <div class=\"col-md-2 d-flex flex-row-reverse\"><span class=\"fw-light\">Número:</span>\n                        </div>\n                        <div class=\"col-md-4 d-flex flex-row-reverse\">\n                            <input type=\"text\" class=\"form-control form-control-sm  ms-2\"\n                                   [(ngModel)]=\"formasiento.secuencia\"\n                                   disabled>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"row mt-3\">\n                <div class=\"col-md-12\">\n                    <div class=\"row\">\n                        <div class=\"col-md-5\">\n                            <div>\n                                <span>Cuenta Contable:</span>\n                            </div>\n                            <div class=\"p-fluid\">\n                                <p-autoComplete [(ngModel)]=\"ctacontablesel\" [suggestions]=\"ctasFiltrados\"\n                                                (completeMethod)=\"buscaCtasContables($event)\" field=\"ctacontab\"\n                                                (keyup.enter)=\"onEnterFiltroCtas($event)\"\n                                                inputId=\"ctasAutoCom\"\n                                                placeholder=\"Digite el nombre o el código de la cuenta contable\"\n                                                (onSelect)=\"onCtaContableSelect($event)\">\n                                </p-autoComplete>\n                            </div>\n                        </div>\n                        <div class=\"col-md-3\">\n                            <div>\n                                <span>Tipo:</span>\n                            </div>\n                            <div class=\"btn-group\">\n                                <button class=\"btn {{formdetinst.dt_debito===1?'btn-outline-primary':'btn-outline-secondary'}}\"\n                                        (click)=\"setDtDebitoValue(1)\">\n                                    Debe <i class=\"fa fa-check-circle\" *ngIf=\"formdetinst.dt_debito===1\"> </i>\n                                </button>\n                                <button class=\"btn {{formdetinst.dt_debito===-1?'btn-outline-primary':'btn-outline-secondary'}}\"\n                                        (click)=\"setDtDebitoValue(-1)\">\n                                    Haber <i class=\"fa fa-check-circle\" *ngIf=\"formdetinst.dt_debito===-1\"> </i>\n                                </button>\n                            </div>\n                        </div>\n                        <div class=\"col-md-2\">\n                            <div>\n                                <span>Monto:</span>\n                            </div>\n                            <input type=\"text\" class=\"form-control\" id=\"montoInput\"\n                                   (focusin)=\"marcarTexto($event)\"\n                                   (keyup.enter)=\"onEnterMonto()\"\n                                   [(ngModel)]=\"formdetinst.dt_valor_in\">\n                        </div>\n                        <div class=\"col-md-2 pb-1 d-flex justify-content-end align-items-end\">\n                            <div>\n                                <button class=\"btn btn-outline-primary\" (click)=\"agregar()\"><i\n                                        class=\"fa fa-plus-circle\"></i>\n                                    Agregar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"mt-3\">\n                <div class=\"table-responsive mt-2\">\n                    <table class=\"table table-bordered table-sm\">\n                        <thead>\n                        <tr>\n                            <th scope=\"col\" style=\"width: 3%\">\n                                <span class=\"fw-normal\">#</span>\n                            </th>\n                            <th scope=\"col\" style=\"width: 33%\">\n                            <span class=\"fw-normal\">\n                                Cuenta Contable </span>\n                            </th>\n                            <th scope=\"col\" style=\"width: 10%\">\n                            <span class=\"fw-normal\">\n                                Debe </span></th>\n                            <th scope=\"col\" style=\"width: 10%\">\n                            <span class=\"fw-normal\">\n                                Haber </span></th>\n                            <th scope=\"col\" style=\"width: 10%\">\n                            <span class=\"fw-normal\">\n                                Acción</span></th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <ng-container *ngIf=\"detalles.length>0\">\n                            <tr *ngFor=\"let fila of detalles\">\n                                <th scope=\"row\">\n                                    <span class=\"fw-normal fontsizesm\">{{detalles.indexOf(fila) + 1}}</span>\n                                </th>\n                                <td>\n                                    <div class=\"d-flex flex-column\">\n                                        <span class=\"fw-lighter fontsizenr\"\n                                              [ngClass]=\"{'haberl':fila.dt_debito===-1}\">{{fila.ic_code}}</span>\n                                        <span class=\"fw-light fontsizenr\"\n                                              [ngClass]=\"{'haberl':fila.dt_debito===-1}\">{{fila.ic_nombre}}</span>\n                                    </div>\n                                </td>\n                                <td>\n                                    <div *ngIf=\"fila.dt_debito===1\">\n                                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"fila.dt_valor_in\"\n                                               (keyup)=\"onDtValorChange(fila)\">\n                                    </div>\n                                </td>\n                                <td>\n                                    <div *ngIf=\"fila.dt_debito===-1\">\n                                        <input type=\"text\" class=\"form-control\" [(ngModel)]=\"fila.dt_valor_in\"\n                                               (keyup)=\"onDtValorChange(fila)\">\n                                    </div>\n                                </td>\n                                <td>\n                                    <div class=\"text-center\">\n                                        <div class=\"btn-group\" role=\"group\" aria-label=\"Herramientas\">\n                                            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"\n                                                    (click)=\"quitarItem(fila)\"\n                                                    title=\"Quitar\">\n                                                <i class=\"fa fa-trash\"></i></button>\n                                            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"\n                                                    (click)=\"switchDebeHaber(fila)\"\n                                                    title=\"Intercambiar Debe/Haber\"><i class=\"fa fa-toggle-on\"></i>\n                                            </button>\n                                            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"\n                                                    [disabled]=\"detalles.indexOf(fila)===0\"\n                                                    (click)=\"movUp(fila)\"\n                                                    title=\"Mover hacia arriba\"><i\n                                                    class=\"fas fa-arrow-alt-circle-up\"></i>\n                                            </button>\n                                            <button type=\"button\" class=\"btn btn-sm btn-outline-secondary\"\n                                                    (click)=\"movDown(fila)\"\n                                                    [disabled]=\"detalles.indexOf(fila)===detalles.length-1\"\n                                                    title=\"Mover hacia arriba\"><i\n                                                    class=\"fas fa-arrow-alt-circle-down\"></i>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </td>\n                            </tr>\n                        </ng-container>\n                        <tr>\n                            <th>\n\n                            </th>\n                            <td>\n                                <span class=\"fw-bold {{totales.debe===totales.haber?'text-success':'text-danger'}}\">TOTAL:</span>\n                            </td>\n                            <td>\n                                <span class=\"fw-bold {{totales.debe===totales.haber?'text-success':'text-danger'}}\">{{totales.debe}}</span>\n                            </td>\n                            <td>\n                                <span class=\"fw-bold {{totales.debe===totales.haber?'text-success':'text-danger'}}\">{{totales.haber}}</span>\n                            </td>\n                            <td></td>\n                        </tr>\n\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n            <div class=\"row mt-1\">\n                <div class=\"col-md-12\">\n                    <div class=\"mb-3\">\n                        <label for=\"obsTA\">Observación:</label>\n                        <textarea rows=\"3\" class=\"form-control\" pInputTextarea id=\"obsTA\"\n                                  [(ngModel)]=\"formasiento.trn_observ\">\n                </textarea>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"mt-4\">\n            <div class=\"d-flex w-100 justify-content-center\">\n                <button class=\"btn btn-outline-secondary ms-3\" (click)=\"cancelar()\"><i class=\"fa fa-times\"></i>\n                    Cancelar\n                </button>\n                <button class=\"ms-2 btn btn-outline-primary\" (click)=\"guardar()\" [disabled]=\"detalles.length===0\"><i\n                        class=\"fa fa-save\"></i> Guardar\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {ArticuloService} from '../../../../services/articulo.service';\nimport {DomService} from '../../../../services/dom.service';\nimport {ArrayutilService} from '../../../../services/arrayutil.service';\nimport {SwalService} from '../../../../services/swal.service';\nimport {NumberService} from '../../../../services/number.service';\nimport {FechasService} from '../../../../services/fechas.service';\nimport {LoadingUiService} from '../../../../services/loading-ui.service';\nimport {CtesService} from '../../../../services/ctes.service';\n\n@Component({\n    selector: 'app-librodiarioform',\n    templateUrl: './librodiarioform.component.html',\n    styles: [\n            `.haberl {\n            margin-left: 70px;\n        }\n        `]\n})\nexport class LibrodiarioformComponent implements OnInit {\n    isLoading = true;\n    formasiento: any;\n    formref: any;\n    formdet: any;\n    currentdate = new Date();\n    ctasFiltrados: Array<any>;\n    detalles: Array<any>;\n    ctacontablesel: any;\n    formdetinst: any;\n    totales: any;\n    codasi: number;\n\n    constructor(private asientoService: AsientoService,\n                private artService: ArticuloService,\n                private domService: DomService,\n                private fechasService: FechasService,\n                private numberServ: NumberService,\n                private swalService: SwalService,\n                private arrayService: ArrayutilService,\n                private loadingServ: LoadingUiService,\n                private ctes: CtesService,\n                private route: ActivatedRoute,\n                private router: Router) {\n        this.route.paramMap.subscribe(params => {\n            this.codasi = parseInt(params.get('cod'), 10);\n        });\n    }\n\n    ngOnInit(): void {\n        this.detalles = [];\n        this.formdetinst = {};\n        this.totales = {\n            debe: 0.0,\n            haber: 0.0\n        };\n        this.loadForm();\n    }\n\n    loadForm() {\n        this.isLoading = true;\n        this.asientoService.getAsientoForm().subscribe(res => {\n            if (res.status === 200) {\n                this.formasiento = res.form.formasiento;\n                this.formasiento.trn_fecregobj = this.fechasService.parseString(this.formasiento.trn_fecreg);\n                this.formref = res.form.formref;\n                this.formdet = res.form.formdet;\n                this.formdetinst = this.domService.clonarObjeto(this.formdet);\n                this.setFocusInCtaConta();\n                if (this.codasi > 0) {\n                    this.asientoService.getDatosAsiContab(this.codasi).subscribe(resasi => {\n                        this.isLoading = false;\n                        if (resasi.status === 200) {\n                            this.detalles = resasi.datoasi.detalles;\n                            const auxformasiento = this.domService.clonarObjeto(this.formasiento);\n                            this.formasiento = resasi.datoasi.cabecera;\n                            this.formasiento.trn_fecregobj = this.fechasService.parseString(this.formasiento.trn_fecreg);\n                            this.formasiento.estabptoemi = auxformasiento.estabptoemi;\n                            this.formasiento.impuestos = auxformasiento.impuestos;\n                            this.totalizar();\n                        }\n                    });\n                } else {\n                    this.isLoading = false;\n                }\n            }\n        });\n    }\n\n    setFocusInCtaConta() {\n        this.domService.setFocusTm('ctasAutoCom', 100);\n    }\n\n    cancelar() {\n        this.gotoLibroDiario();\n    }\n\n    gotoLibroDiario() {\n        this.router.navigate(['librodiario']);\n    }\n\n    agregar() {\n        if (this.ctacontablesel) {\n            let dtValor = Number(this.formdetinst.dt_valor_in);\n            if (!dtValor) {\n                dtValor = 0.0;\n            }\n            if (dtValor > 0) {\n                this.formdetinst.dt_valor = dtValor;\n                this.detalles.push(this.formdetinst);\n                this.formdetinst = this.domService.clonarObjeto(this.formdet);\n                this.ctacontablesel = null;\n                this.totalizar();\n                this.setFocusInCtaConta();\n            } else {\n                this.swalService.fireToastError(this.ctes.msgMontoIncVerif);\n            }\n        } else {\n            this.swalService.fireToastError('Seleccione la cuenta contable');\n        }\n    }\n\n    buscaCtasContables($event: any) {\n        this.artService.busCtasContables($event.query).subscribe(res => {\n            if (res.status === 200) {\n                this.ctasFiltrados = res.items;\n            }\n        });\n    }\n\n    setCtaContableSel(art) {\n        this.formdetinst.cta_codigo = art.ic_id;\n        this.formdetinst.ic_nombre = art.ic_nombre;\n        this.formdetinst.ic_code = art.ic_code;\n        this.formdetinst.per_codigo = 0;\n        this.formdetinst.dt_cant = 1;\n        this.formdetinst.dt_valor = 0.0;\n        this.formdetinst.dt_debito = 1;\n    }\n\n    onEnterFiltroCtas($event) {\n        this.setFocusInMonto();\n    }\n\n    onCtaContableSelect($event: any) {\n        this.setCtaContableSel($event);\n    }\n\n    quitarItem(fila: any) {\n        this.swalService.fireDialog('¿Seguro que desea eliminar esta fila?').then(confirm => {\n            if (confirm.value) {\n                this.arrayService.removeElement(this.detalles, fila);\n                this.totalizar();\n            }\n        });\n    }\n\n    totalizar() {\n        let totaldebe = 0.0;\n        let totalhaber = 0.0;\n        this.detalles.forEach(item => {\n            if (item.dt_debito === 1) {\n                totaldebe += Number(item.dt_valor);\n            } else {\n                totalhaber += Number(item.dt_valor);\n            }\n        });\n        this.totales.debe = this.numberServ.round2(totaldebe);\n        this.totales.haber = this.numberServ.round2(totalhaber);\n    }\n\n    setFocusInMonto() {\n        this.domService.setFocusTm('montoInput', 100);\n    }\n\n    setDtDebitoValue(value: number) {\n        this.formdetinst.dt_debito = value;\n        this.setFocusInMonto();\n    }\n\n    onEnterMonto() {\n        this.agregar();\n    }\n\n    guardar() {\n        if (this.detalles.length === 0) {\n            this.swalService.fireToastError('Debe agregar items al asiento contable');\n        }\n\n        if (this.formasiento.trn_fecregobj) {\n            this.formasiento.trn_fecreg = this.fechasService.formatDate(this.formasiento.trn_fecregobj);\n        }\n\n        const formtopost = {\n            formcab: this.formasiento,\n            formref: this.formref,\n            detalles: this.detalles\n        };\n\n        let msg = '¿Confirma el registro de este asiento?';\n        if (this.codasi > 0) {\n            msg = '¿Confirma la actualización de este asiento?';\n        }\n        this.swalService.fireDialog(msg).then(confirm => {\n            if (confirm.value) {\n                this.loadingServ.publishBlockMessage();\n                if (this.codasi > 0) {\n                    this.asientoService.editarAsiento(formtopost).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.gotoLibroDiario();\n                        }\n                    });\n                } else {\n                    this.asientoService.crearAsiento(formtopost).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.gotoLibroDiario();\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n    onDtValorChange(fila) {\n        let dtValor = Number(fila.dt_valor_in);\n        if (!dtValor) {\n            dtValor = 0.0;\n        }\n        fila.dt_valor = dtValor;\n        this.totalizar();\n    }\n\n    switchDebeHaber(fila: any) {\n        fila.dt_debito = fila.dt_debito * -1;\n        this.totalizar();\n    }\n\n    movUp(fila: any) {\n        const findex = this.detalles.indexOf(fila);\n        if (findex > 0) {\n            this.arrayService.moveElement(this.detalles, findex, findex - 1);\n        } else {\n            this.swalService.fireToastWarn('No se posible');\n        }\n    }\n\n    movDown(fila: any) {\n        const findex = this.detalles.indexOf(fila);\n        if (findex < this.detalles.length - 1) {\n            this.arrayService.moveElement(this.detalles, findex, findex + 1);\n        } else {\n            this.swalService.fireToastWarn('No se posible');\n        }\n    }\n\n    marcarTexto($event: any) {\n        $event.target.select();\n    }\n}\n","<div>\n    <div class=\"d-md-flex justify-content-between align-items-end m-1\">\n        <div>\n            <h4 class=\"quitaPaddingMargin\">Libro Diario</h4>\n        </div>\n        <div>\n            <app-rangofechas [form]=\"formfiltros\"\n                             [showlabels]=\"false\"\n                             (evDesdeChange)=\"onDesdeChange($event)\"\n                             (evHastaChange)=\"onHastaChange($event)\"\n                             (evFilterSel)=\"onTipoFechaSel()\">\n            </app-rangofechas>\n        </div>\n        <div>\n            <div class=\"btn-group\">\n                <button class=\"btn btn-outline-primary\" (click)=\"loadLibroDiario()\"><i\n                        class=\"fas fa-search\"></i>\n                </button>\n                <button class=\"btn btn-outline-primary\" (click)=\"gotoFormAsiento()\"><i\n                        class=\"fa fa-plus-circle\"></i>\n                    Nuevo Asiento\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"mt-2\">\n        <div *ngIf=\"isLoading\">\n            <app-loading></app-loading>\n        </div>\n\n        <div *ngIf=\"!isLoading\">\n            <div *ngIf=\"librodiario.length===0\" class=\"p-4\">\n                <h3 class=\"text-muted\">No hay registros</h3>\n            </div>\n\n            <div class=\"table-responsive\" *ngIf=\"librodiario.length>0\">\n                <table class=\"table table-bordered table-sm\">\n                    <thead>\n                    <tr>\n                        <th scope=\"col\" width=\"10%\">\n                            <div class=\"fontsizesm\">Fecha</div>\n                        </th>\n                        <th scope=\"col\" width=\"10%\">\n                            <div class=\"fontsizesm text-center\">\n                                Código\n                            </div>\n                        </th>\n                        <th scope=\"col\" width=\"50%\">\n                            <div class=\"fontsizesm text-center\">\n                                Cuenta Contable\n                            </div>\n                        </th>\n                        <th scope=\"col\" width=\"15%\">\n                            <div class=\"fontsizesm text-center\">Debe</div>\n                        </th>\n                        <th scope=\"col\" width=\"15%\">\n                            <div class=\"fontsizesm text-center\">Haber</div>\n                        </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <ng-container *ngFor=\"let fila of librodiario\">\n                        <tr *ngIf=\"fila.tr===0\">\n                            <td class=\"border-bottom-0\">\n                                {{fila.trn_fecreg}}\n                            </td>\n                            <td colspan=\"3\">\n                                <div title=\"Click para ver detalles del asiento\"\n                                     style=\"border-top: 1px dashed rgba(0,0,0,1); \"\n                                     class=\"d-flex flex-row-reverse fontsizesm hand\" (click)=\"verDetalles(fila)\">\n                                    <div>\n                                        <span class=\"fw-bold\">#{{fila.ic_nombre}}</span>\n                                    </div>\n                                </div>\n                            </td>\n                            <td>\n                                <div class=\"d-flex flex-row-reverse\">\n                                    <div class=\"btn-group\">\n                                        <button class=\"btn btn-sm btn-outline-primary\"\n                                                *ngIf=\"fila.tra_codigo===13 && fila.bmo_id===0\"\n                                                title=\"Anular\"\n                                                (click)=\"anular(fila)\">\n                                            <i class=\"fa fa-trash\"></i>\n                                        </button>\n                                        <button class=\"btn btn-sm btn-outline-primary\"\n                                                *ngIf=\"fila.tra_codigo===13 && fila.bmo_id===0\"\n                                                title=\"Editar\"\n                                                (click)=\"gotoEditAsiento(fila)\">\n                                            <i class=\"fa fa-edit\"></i>\n                                        </button>\n                                        <button class=\"btn btn-sm btn-outline-primary\"\n                                                title=\"Ver Detalles\"\n                                                (click)=\"verDetalles(fila)\">\n                                            <i class=\"fa fa-eye\"></i>\n                                        </button>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                        <tr *ngIf=\"fila.tr===1\">\n                            <td class=\"border-top-0 border-bottom-0\">\n\n                            </td>\n                            <td>\n                                <span class=\"fontsizesm\"\n                                      [ngClass]=\"{'haberl':fila.dt_debito===-1}\">{{fila.ic_code}}</span>\n                            </td>\n                            <td>\n                                <span class=\"fontsizesm\" [ngClass]=\"{'haberl':fila.dt_debito===-1}\">\n                                {{fila.ic_nombre}}\n                                </span>\n                            </td>\n                            <td>\n                                <div class=\"d-flex flex-row-reverse fontsizesm\">{{fila.debe}}</div>\n                            </td>\n                            <td>\n                                <div class=\"d-flex flex-row-reverse fontsizesm\">{{fila.haber}}</div>\n                            </td>\n                        </tr>\n\n                        <tr *ngIf=\"fila.tr===2\">\n                            <td class=\"border-top-0\">\n\n                            </td>\n                            <td>\n\n                            </td>\n                            <td colspan=\"3\">\n                                <p class=\"fontsizesm\" style=\"white-space: pre-line\">\n                                    {{fila.ic_nombre}}\n                                </p>\n                            </td>\n                        </tr>\n                    </ng-container>\n                    <tr>\n                        <td colspan=\"3\">\n                            <div class=\"d-flex flex-row-reverse fw-bold\">TOTAL:</div>\n                        </td>\n                        <td>\n                            <div class=\"d-flex flex-row-reverse fw-bold\"> {{totales.debe}} </div>\n                        </td>\n                        <td>\n                            <div class=\"d-flex flex-row-reverse fw-bold\"> {{totales.haber}} </div>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div *ngIf=\"isShowDetAsi\">\n    <p-dialog header=\"Detalles del asiento\" [style]=\"{width: '95vw'}\" [autoZIndex]=\"false\"\n              [modal]=\"true\"\n              [closeOnEscape]=\"true\"\n              [(visible)]=\"isShowDetAsi\">\n        <app-asientoview [trncod]=\"asisel.trn_codigo\" (evCerrar)=\"hideDetAsi()\"></app-asientoview>\n    </p-dialog>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {SwalService} from '../../../../services/swal.service';\nimport {FechasService} from '../../../../services/fechas.service';\n\n@Component({\n    selector: 'app-librodiariolist',\n    templateUrl: './librodiariolist.component.html',\n    styles: [\n            `\n            .haberl {\n                margin-left: 70px;\n            }\n        `]\n})\nexport class LibrodiariolistComponent implements OnInit {\n\n    librodiario: Array<any> = [];\n    totales: any;\n    isLoading = false;\n    desde: Date;\n    hasta: Date;\n    isShowDetAsi = false;\n    asisel: any = {};\n    formfiltros: any = {};\n\n    constructor(private router: Router,\n                private asientoService: AsientoService,\n                private fechasService: FechasService,\n                private swalService: SwalService) {\n    }\n\n    ngOnInit(): void {\n        this.isLoading = true;\n        this.asientoService.getFormFiltroLibroDiario().subscribe(res => {\n            this.formfiltros = res.form;\n            this.formfiltros.desde = this.fechasService.parseString(this.formfiltros.desde);\n            this.formfiltros.hasta = this.fechasService.parseString(this.formfiltros.hasta);\n            this.loadLibroDiario();\n        });\n    }\n\n    gotoFormAsiento() {\n        this.router.navigate(['newasiento', 0]);\n    }\n\n    gotoEditAsiento(fila) {\n        const msg = '¿Seguro que desea editar este asiento?';\n        this.swalService.fireDialog(msg, '').then(confirm => {\n            if (confirm.value) {\n                this.router.navigate(['newasiento', fila.trn_codigo]);\n            }\n        });\n    }\n\n    loadLibroDiario() {\n        let desdestr = '';\n        if (this.formfiltros.desde) {\n            desdestr = this.fechasService.formatDate(this.formfiltros.desde);\n        }\n        let hastastr = '';\n        if (this.formfiltros.hasta) {\n            hastastr = this.fechasService.formatDate(this.formfiltros.hasta);\n        }\n        this.isLoading = true;\n        this.asientoService.getAsientos(desdestr, hastastr).subscribe(res => {\n            this.isLoading = false;\n            if (res.status === 200) {\n                this.librodiario = res.items;\n                this.totales = res.totales;\n            }\n        });\n    }\n\n    anular(fila: any) {\n        this.swalService.fireDialog('¿Seguro que desea anular este asiento?').then(confirm => {\n            if (confirm.value) {\n                this.asientoService.anular(fila.trn_codigo, '').subscribe(res => {\n                    if (res.status === 200) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        this.loadLibroDiario();\n                    }\n                });\n            }\n        });\n    }\n\n    verDetalles(fila: any) {\n        this.asisel = fila;\n        this.isShowDetAsi = true;\n    }\n\n    hideDetAsi() {\n        this.isShowDetAsi = false;\n    }\n\n    onDesdeChange($event: any) {\n\n    }\n\n    onHastaChange($event: any) {\n\n    }\n\n    onTipoFechaSel() {\n        this.loadLibroDiario();\n    }\n}\n","<h4>Libro Mayor</h4>\n<div *ngIf=\"isLoading\">\n    <app-loading></app-loading>\n</div>\n<div *ngIf=\"!isLoading\">\n    <div class=\"row mb-3\">\n        <div class=\"col-md-3\">\n            <app-rangofechas [form]=\"form\" (evFilterSel)=\"loadMovs()\"\n                             (evDesdeChange)=\"loadMovs()\"\n                             (evHastaChange)=\"loadMovs()\"></app-rangofechas>\n        </div>\n        <div class=\"col-md-7\">\n            <div>\n                <p class=\"quitaPaddingMargin fw-light\">Cuenta Contable:</p>\n                <div class=\"p-fluid\">\n                    <p-dropdown [options]=\"ctasContables\" id=\"cta_codigo\"\n                                [(ngModel)]=\"form.cta_codigo\"\n                                placeholder=\"Seleccione la cuenta contable\"\n                                [showClear]=\"true\"\n                                [style]=\"{width:'100%', overflow:'visible'}\"\n                                (ngModelChange)=\"onCuentaContableChange($event)\"\n                                [filterMatchMode]=\"'contains'\"\n                                filter=\"true\"\n                                optionLabel=\"ctacontab\"\n                                optionValue=\"ic_id\"\n                                inputId=\"cta_codigo\"></p-dropdown>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-2 d-flex justify-content-end align-items-end\">\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"loadMovs()\">\n                <i class=\"fa fa-search\"></i> Buscar\n            </button>\n        </div>\n    </div>\n\n    <div *ngIf=\"isLoadingData\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoadingData\">\n        <div class=\"d-flex flex-row-reverse\" *ngIf=\"grid.data && grid.data.length>0\">\n            <h4 class=\"ms-3 quitaPaddingMargin fw-bolder text-success\"> {{totales.resta}}</h4>\n            <h4>SALDO:</h4>\n        </div>\n\n        <p-table [value]=\"grid.data\" [paginator]=\"true\" [rows]=\"50\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\n                 (onRowSelect)=\"onRowSelect($event)\"\n                 [resizableColumns]=\"true\"\n                 [(contextMenuSelection)]=\"selectedItem\">\n            <ng-template pTemplate=\"header\">\n                <tr>\n                    <th *ngFor=\"let item of grid.cols\" [pSortableColumn]=\"item.field\"\n                        [ngSwitch]=\"item.field\" [width]=\"item.width\">\n                        {{item.label}}\n                        <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n                    </th>\n                    <th>\n                        Acción\n                    </th>\n                </tr>\n            </ng-template>\n            <ng-template pTemplate=\"body\" let-rowData>\n                <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\" (dblclick)=\"verDetalles(rowData)\">\n                    <td *ngFor=\"let item of grid.cols\">\n                        <p class=\"fontsizesm\" style=\"white-space: pre-line\">\n                            {{rowData[item['field']]}}\n                        </p>\n                    </td>\n                    <td>\n                        <button class=\"btn btn-sm btn-outline-dark\" (click)=\"verDetalles(rowData)\" title=\"Ver Detalles\">\n                            <i class=\"fa fa-eye\"></i>\n                        </button>\n                    </td>\n                </tr>\n            </ng-template>\n            <ng-template pTemplate=\"footer\">\n                <tr>\n                    <td colspan=\"3\">\n                        <span class=\"fw-bold\">Total:  </span>\n                    </td>\n                    <td>{{totales.totdebe}}</td>\n                    <td>{{totales.tothaber}}</td>\n                    <td><span class=\"fw-bolder text-success\"> {{totales.resta}}</span></td>\n                    <td></td>\n                </tr>\n            </ng-template>\n            <ng-template pTemplate=\"emptymessage\" let-columns>\n                <tr>\n                    <td [attr.colspan]=\"grid.cols.length+1\">\n                        <span class=\"text-muted\">No hay registros</span>\n                    </td>\n                </tr>\n            </ng-template>\n        </p-table>\n    </div>\n\n</div>\n\n<div *ngIf=\"isShowDetAsi\">\n    <p-dialog header=\"Detalles del asiento\" [style]=\"{width: '90vw'}\" [autoZIndex]=\"false\"\n              [modal]=\"true\"\n              [closeOnEscape]=\"true\"\n              [(visible)]=\"isShowDetAsi\">\n        <app-asientoview [trncod]=\"asisel.trn_codigo\" (evCerrar)=\"hideDetAsi()\"></app-asientoview>\n    </p-dialog>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ArticuloService} from '../../../../services/articulo.service';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {forkJoin} from 'rxjs';\nimport {FechasService} from '../../../../services/fechas.service';\nimport {SwalService} from '../../../../services/swal.service';\n\n@Component({\n    selector: 'app-libromayorlist',\n    templateUrl: './libromayorlist.component.html'\n})\nexport class LibromayorlistComponent implements OnInit {\n    isLoading = true;\n    ctasContables: Array<any>;\n    totales: any;\n    detalles: Array<any>;\n    form: any;\n    grid: any;\n    selectedItem: any;\n    isLoadingData: any;\n    isShowDetAsi = false;\n    asisel: any = {};\n\n    constructor(private artService: ArticuloService,\n                private fechasService: FechasService,\n                private swalService: SwalService,\n                private asientoService: AsientoService) {\n    }\n\n    ngOnInit(): void {\n        this.isLoadingData = false;\n        this.grid = {data: [], cols: []};\n        this.totales = {totdebe: 0.0, tothaber: 0.0, resta: 0.0};\n        this.initFormListas();\n    }\n\n    initFormListas() {\n        const ctasObs = this.artService.getAllCtasContables();\n        const formObs = this.asientoService.getFormLibroMayor();\n        this.isLoading = true;\n        forkJoin([ctasObs, formObs]).subscribe(res => {\n            const res0 = res[0];\n            const res1 = res[1];\n            if (res0.status === 200) {\n                this.ctasContables = res0.items;\n            }\n            if (res1.status === 200) {\n                this.form = res1.form;\n                this.form.desde = this.fechasService.parseString(res1.form.desde);\n                this.form.hasta = this.fechasService.parseString(res1.form.hasta);\n            }\n            this.isLoading = false;\n        });\n    }\n\n    loadMovs() {\n        if (this.form.cta_codigo && this.form.desde && this.form.hasta) {\n            const desdestr = this.fechasService.formatDate(this.form.desde);\n            const hastastr = this.fechasService.formatDate(this.form.hasta);\n            this.isLoadingData = true;\n            this.asientoService.listarMovsCtaContable(this.form.cta_codigo, desdestr, hastastr).subscribe(res => {\n                if (res.status === 200) {\n                    this.grid = res.res.grid;\n                    this.totales = res.res.totales;\n                }\n                this.isLoadingData = false;\n            });\n        }\n    }\n\n    onRowSelect($event: any) {\n\n    }\n\n    verDetalles(rowData: any) {\n        this.asisel = rowData;\n        this.isShowDetAsi = true;\n    }\n\n    onCuentaContableChange($event: any) {\n        this.loadMovs();\n    }\n\n    hideDetAsi() {\n        this.isShowDetAsi = false;\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {ArticuloService} from '../../../services/articulo.service';\nimport {MenuItem, TreeNode} from 'primeng/api';\nimport {DomService} from '../../../services/dom.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {SwalService} from '../../../services/swal.service';\n\n@Component({\n    selector: 'app-planctaslist',\n    template: `\n        <div>\n            <div *ngIf=\"isLoading\">\n                <app-loading></app-loading>\n            </div>\n            <div *ngIf=\"!isLoading\">\n                <p-contextMenu #cm [model]=\"itemsMenu\"></p-contextMenu>\n                <div class=\"row\">\n                    <div class=\"col-md-8\">\n                        <h4 class=\"ms-2\">Plan de cuentas</h4>\n                    </div>\n                    <div class=\"col-md-4 d-flex flex-row-reverse\">\n                        <button class=\"btn btn-outline-primary\" (click)=\"contractAll()\" title=\"Contraer Todo\">\n                            <i class=\"fas fa-angle-double-up\"></i>\n                        </button>\n                        <button class=\"btn btn-outline-primary me-1\" (click)=\"expandAll()\" title=\"Expandir Todo\">\n                            <i class=\"fas fa-angle-double-down\"></i>\n                        </button>\n                        <button class=\"btn btn-outline-primary me-1\" (click)=\"loadPlanCuentas()\" title=\"Actualizar\">\n                            <i class=\"fas fa-sync\"></i>\n                        </button>\n                    </div>\n                </div>\n                <div class=\"mt-2\">\n                    <p-tree [value]=\"planctas\" selectionMode=\"single\" [(selection)]=\"selectedPlan\"\n                            (dblclick)=\"toggleExpand($event)\"\n                            (onNodeSelect)=\"onNodeSelect($event)\" [contextMenu]=\"cm\"></p-tree>\n                </div>\n            </div>\n\n            <div *ngIf=\"isShowDet\">\n                <p-dialog header=\"Detalles de la cuenta contable\" [style]=\"{width: '50vw'}\" [autoZIndex]=\"false\"\n                          [modal]=\"true\"\n                          [closeOnEscape]=\"true\"\n                          [(visible)]=\"isShowDet\">\n                    <div *ngIf=\"isLoadingDet\">\n                        <app-loading></app-loading>\n                    </div>\n                    <div *ngIf=\"!isLoadingDet\">\n                        <div class=\"row\">\n                            <div class=\"col-md-4\">\n                                <span class=\"fw-bold\"> Código: </span>\n                            </div>\n                            <div class=\"col-md-8\">\n                                {{datosCtaContable.ic_code}}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-4\">\n                                <span class=\"fw-bold\"> Cuenta padre: </span>\n                            </div>\n                            <div class=\"col-md-8\">\n                                {{datosCtaContable.padre}}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-4\">\n                                <span class=\"fw-bold\"> Nombre: </span>\n                            </div>\n                            <div class=\"col-md-8\">\n                                {{datosCtaContable.ic_nombre}}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-4\">\n                                <span class=\"fw-bold\"> Clase: </span>\n                            </div>\n                            <div class=\"col-md-8\">\n                                {{datosCtaContable.ic_clasecc}}\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-4\">\n                                <span class=\"fw-bold\"> Observación: </span>\n                            </div>\n                            <div class=\"col-md-8\">\n                                <p style=\"white-space: pre-line\">\n                                    {{datosCtaContable.ic_nota}}\n                                </p>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-4\">\n                                        <span class=\"fw-bold\"\n                                              title=\"Selecciones las secciones donde esta cuenta contable es visible\">Secciones:</span>\n                            </div>\n                            <div class=\"col-md-8\">\n                                <div *ngFor=\"let itsec of datosCtaContable.secciones\" class=\"d-flex flex-row\">\n                                    <p-checkbox [inputId]=\"itsec.seccion.sec_id\" binary=\"true\" [disabled]=\"true\"\n                                                [(ngModel)]=\"itsec.value\"></p-checkbox>\n                                    <label [for]=\"itsec.seccion.sec_id\"\n                                           class=\"ms-2 mt-1 hand\">{{itsec.seccion.sec_nombre}}</label>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"text-center pt-3\">\n                            <button class=\"btn btn-outline-secondary\" (click)=\"cerrarVerDet()\"><i\n                                    class=\"fa fa-times\"></i> Cerrar\n                            </button>\n                        </div>\n                    </div>\n                </p-dialog>\n            </div>\n            <div *ngIf=\"isShowCrearPlanCta\">\n                <p-dialog [header]=\"titlecreaedit\" [style]=\"{width: '50vw'}\" [autoZIndex]=\"false\"\n                          [modal]=\"true\"\n                          [closeOnEscape]=\"true\"\n                          [(visible)]=\"isShowCrearPlanCta\">\n                    <div *ngIf=\"isLoadingForm\">\n                        <app-loading></app-loading>\n                    </div>\n                    <div *ngIf=\"!isLoadingForm\">\n                        <div class=\"row\">\n                            <div class=\"col-md-12\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-4\">\n                                        <span class=\"fw-bold\">Cuenta padre:</span>\n                                    </div>\n                                    <div class=\"col-md-8\">\n                                        <input type=\"text\" class=\"form-control\" disabled\n                                               [(ngModel)]=\"selectedPlan.label\" *ngIf=\"!editandoCta\">\n                                        <input type=\"text\" class=\"form-control\" disabled [(ngModel)]=\"formCrea.padre\"\n                                               *ngIf=\"editandoCta\">\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-4\">\n                                        <span class=\"fw-bold\"> Código: </span>\n                                    </div>\n                                    <div class=\"col-md-8\">\n                                        <div class=\"d-flex\" *ngIf=\"!editandoCta\">\n                                            <input type=\"text\" class=\"form-control\" disabled\n                                                   [(ngModel)]=\"formCrea.ic_code_padre\">\n                                            <input type=\"text\" class=\"form-control\" [(ngModel)]=\"formCrea.sec\">\n                                        </div>\n                                        <div *ngIf=\"editandoCta\">\n                                            <input type=\"text\" class=\"form-control\" disabled\n                                                   [(ngModel)]=\"formCrea.ic_code\">\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-4\">\n                                        <span class=\"fw-bold\">Nombre:</span>\n                                    </div>\n                                    <div class=\"col-md-8\">\n                                        <input type=\"text\" id=\"cta_ic_nombre\" class=\"form-control\"\n                                               (keyup)=\"$event.target.value=$event.target.value.toUpperCase()\"\n                                               autocomplete=\"false\"\n                                               [(ngModel)]=\"formCrea.ic_nombre\">\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-4\">\n                                        <span class=\"fw-bold\">Clase:</span>\n                                    </div>\n                                    <div class=\"col-md-8\">\n                                        <input type=\"text\" class=\"form-control\" maxlength=\"2\"\n                                               [(ngModel)]=\"formCrea.ic_clasecc\">\n                                    </div>\n                                </div>\n                                <div class=\"row\" *ngIf=\"editandoCta\">\n                                    <div class=\"col-md-4\">\n                                        <span class=\"fw-bold\">Alias:</span>\n                                    </div>\n                                    <div class=\"col-md-8\">\n                                        <input type=\"text\" class=\"form-control\" maxlength=\"80\"\n                                               [(ngModel)]=\"formCrea.ic_alias\">\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-4\">\n                                        <span class=\"fw-bold\">Observación:</span>\n                                    </div>\n                                    <div class=\"col-md-8\">\n                                        <textarea class=\"form-control\" id=\"obsInput\" maxlength=\"800\"\n                                                  [(ngModel)]=\"formCrea.ic_nota\" rows=\"5\"></textarea>\n                                    </div>\n                                </div>\n\n                                <div class=\"row\">\n                                    <div class=\"col-md-4\">\n                                        <span class=\"fw-bold\"\n                                              title=\"Selecciones las secciones donde esta cuenta contable es visible\">Secciones:</span>\n                                    </div>\n                                    <div class=\"col-md-8\">\n                                        <div *ngFor=\"let itsec of formCrea.secciones\" class=\"d-flex flex-row\">\n                                            <p-checkbox [inputId]=\"itsec.seccion.sec_id\" binary=\"true\"\n                                                        [(ngModel)]=\"itsec.value\"></p-checkbox>\n                                            <label [for]=\"itsec.seccion.sec_id\"\n                                                   class=\"ms-2 mt-1 hand\">{{itsec.seccion.sec_nombre}}</label>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <div class=\"text-center pt-3\">\n                                    <button class=\"btn btn-outline-primary me-2\" (click)=\"guardarCta()\"><i\n                                            class=\"fa fa-save\"></i> Guardar\n                                    </button>\n                                    <button class=\"btn btn-outline-secondary\" (click)=\"cancelarCrearCta()\"><i\n                                            class=\"fa fa-times\"></i> Cancelar\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </p-dialog>\n            </div>\n        </div>\n    `\n})\nexport class PlanctaslistComponent implements OnInit {\n\n    planctas: TreeNode[];\n    isLoading = true;\n    filtro: any;\n    selectedPlan: TreeNode;\n    itemsMenu: MenuItem[];\n    isShowCrearPlanCta = false;\n    isShowDet = false;\n    formCrea: any = {};\n    padreexp = 0;\n\n    isLoadingForm = false;\n    isLoadingDet = false;\n    datosCtaContable: any = {};\n    titlecreaedit: string;\n    editandoCta = false;\n    selectedPlanDbdata: any;\n    secciones: Array<any> = [];\n\n    constructor(private artService: ArticuloService,\n                private domService: DomService,\n                private swalService: SwalService,\n                private loadingUiService: LoadingUiService) {\n\n    }\n\n    ngOnInit() {\n        this.loadPlanCuentas();\n        this.loadContextMenu();\n    }\n\n    loadPlanCuentas() {\n        this.isLoading = true;\n        this.artService.getRaizPlanCuentas(this.padreexp).subscribe(res => {\n            this.isLoading = false;\n            if (res.status === 200) {\n                this.planctas = res.tree;\n            }\n        });\n    }\n\n    loadContextMenu() {\n        this.itemsMenu = [\n            {label: 'Crear subcuenta', icon: 'fa fa-plus', command: (event => this.creaSubCuenta(event))},\n            {label: 'Anular', icon: 'fa fa-trash', command: (event => this.anularCuenta(event))},\n            {label: 'Editar', icon: 'fa fa-edit', command: (event => this.editarCuenta(event))},\n            {label: 'Ver', icon: 'fa fa-eye', command: (event => this.verCuenta(event))}\n        ];\n    }\n\n    creaSubCuenta($event) {\n        this.editandoCta = false;\n        this.titlecreaedit = 'Crear cuenta contable';\n        this.isShowCrearPlanCta = true;\n        this.isLoadingForm = true;\n        this.setCodCtaContableSel();\n        this.loadingUiService.publishBlockMessage();\n        this.artService.getFormPlanCuenta(this.padreexp).subscribe(res => {\n            this.isLoadingForm = false;\n            if (res.status === 200) {\n                this.domService.setFocusTm('cta_ic_nombre', 100);\n                this.formCrea = res.form;\n            }\n        });\n    }\n\n    setCodCtaContableSel() {\n        this.selectedPlanDbdata = this.selectedPlan['dbdata'];\n        this.padreexp = this.selectedPlanDbdata.ic_id;\n    }\n\n    anularCuenta($event) {\n        this.setCodCtaContableSel();\n        if (this.selectedPlanDbdata.ic_padre) {\n            const nombreProd = this.selectedPlanDbdata.ic_nombre;\n            const msg = `¿Seguro que desea eliminar ${nombreProd} ?`;\n            this.swalService.fireDialog(msg).then(confirm => {\n                if (confirm.value) {\n                    this.loadingUiService.publishBlockMessage();\n                    this.artService.anularCtaContable(this.padreexp).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadPlanCuentas();\n                        }\n                    });\n                }\n            });\n        } else {\n            this.swalService.fireError('No es posible anular esta cuenta');\n        }\n    }\n\n    editarCuenta($event) {\n        this.setCodCtaContableSel();\n        if (this.selectedPlanDbdata.ic_padre) {\n            this.isShowCrearPlanCta = true;\n            this.titlecreaedit = 'Editar cuenta contable';\n            this.editandoCta = true;\n            this.isLoadingForm = true;\n            this.artService.getDetCtaContable(this.padreexp).subscribe(res => {\n                this.isLoadingDet = false;\n                this.isLoadingForm = false;\n                if (res.status === 200) {\n                    this.formCrea = res.datoscta;\n                }\n            });\n        } else {\n            this.swalService.fireError('No es posible editar esta cuenta');\n        }\n    }\n\n    verCuenta($event) {\n        this.isShowDet = true;\n        this.isLoadingDet = true;\n        this.setCodCtaContableSel();\n        this.artService.getDetCtaContable(this.padreexp).subscribe(res => {\n            this.isLoadingDet = false;\n            if (res.status === 200) {\n                this.datosCtaContable = res.datoscta;\n            }\n        });\n    }\n\n    onNodeSelect($event: any) {\n\n    }\n\n    cancelarCrearCta() {\n        this.isShowCrearPlanCta = false;\n    }\n\n    cerrarVerDet() {\n        this.isShowDet = false;\n    }\n\n    guardarCta() {\n        this.loadingUiService.publishBlockMessage();\n        this.artService.crearCtaContable(this.formCrea).subscribe(res => {\n            this.loadingUiService.publishUnblockMessage();\n            if (res.status === 200) {\n                this.loadingUiService.publishUnblockMessage();\n                this.swalService.fireToastSuccess(res.msg);\n                this.isShowCrearPlanCta = false;\n                this.loadPlanCuentas();\n            }\n        });\n    }\n\n    expandAll() {\n        this.planctas.forEach(node => {\n            this.expandRecursive(node, true);\n        });\n    }\n\n    contractAll() {\n        this.planctas.forEach(node => {\n            this.expandRecursive(node, false);\n        });\n    }\n\n    expandRecursive(node: TreeNode, isExpanded: boolean) {\n        node.expanded = isExpanded;\n        if (node.children) {\n            node.children.forEach(childNode => {\n                this.expandRecursive(childNode, isExpanded);\n            });\n        }\n    }\n\n    toggleExpand($event: MouseEvent) {\n        if (this.selectedPlan) {\n            this.selectedPlan.expanded = !this.selectedPlan.expanded;\n        }\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {FechasService} from '../../../../services/fechas.service';\nimport {LoadingUiService} from '../../../../services/loading-ui.service';\nimport {TreeNode} from 'primeng/api';\nimport {SwalService} from '../../../../services/swal.service';\n\n@Component({\n    selector: 'app-balancegeneral',\n    template: `\n        <div>\n            <h2>Balance general</h2>\n            <div class=\"row mt-3 mb-3\">\n                <div class=\"col-md-8\">\n                    <app-rangofechas [form]=\"form\"\n                                     (evDesdeChange)=\"onDesdeChange($event)\"\n                                     (evHastaChange)=\"onHastaChange($event)\"\n                                     (evFilterSel)=\"onTipoFiltroChange()\">\n                    </app-rangofechas>\n                </div>\n                <div class=\"col-md-4 d-flex flex-column justify-content-end\">\n                    <div class=\"d-flex\">\n                        <div class=\"btn-group btn-block\">\n                            <button class=\"btn btn-outline-primary\" (click)=\"loadBalance()\">\n                                <i class=\"fa fa-play-circle\"></i>\n                                Generar\n                            </button>\n                            <button class=\"btn btn-outline-primary\" [disabled]=\"!(datosbalance.length>0)\"\n                                    title=\"Exportar a pdf\" (click)=\"exportPdf()\">\n                                <i class=\"fa fa-file-pdf\"></i>\n                            </button>\n                            <button class=\"btn btn-outline-primary\" [disabled]=\"!(datosbalance.length>0)\"\n                                    title=\"Exportar a excel\" (click)=\"exportExcel()\">\n                                <i class=\"fa fa-file-excel\"></i>\n                            </button>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\n            <div class=\"mt-2 border\" *ngIf=\"datosbalance.length>0\">\n\n                <div class=\"text-center mt-2 mb-2\">\n                    <h5>BALANCE GENERAL</h5>\n                    <h6> {{form.desdestr}} - {{form.hastastr}} </h6>\n                </div>\n\n                <p-treeTable [value]=\"datosbalancetree\" [(selection)]=\"selectedTreeRow\" selectionMode=\"single\"\n                             (dblclick)=\"togglexpand($event)\">\n                    <ng-template pTemplate=\"header\">\n                        <tr>\n                            <th scope=\"col\" width=\"10%\">Código</th>\n                            <th scope=\"col\" width=\"55%\">Nombre</th>\n                            <th scope=\"col\" width=\"35%\">\n                                <div class=\"d-flex flex-row-reverse w-100\">\n                                    <span>Saldo</span>\n                                </div>\n                            </th>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\">\n                        <tr class=\"hand\" [ttSelectableRow]=\"rowNode\">\n                            <td class=\"quitaPadding\">\n                                <span [style]=\"getfuente(rowNode.node)\"\n                                      class=\"ms-3\"> {{rowNode.node.dbdata.ic_code}} </span>\n                            </td>\n                            <td class=\"quitaPadding\">\n                                <span [style]=\"getfuente(rowNode.node)\"> {{rowNode.node.dbdata.ic_nombre}} </span>\n                            </td>\n                            <td class=\"quitaPadding d-flex flex-row-reverse\">\n                                <p-treeTableToggler [rowNode]=\"rowNode\"></p-treeTableToggler>\n                                <span [style]=\"getestilo(rowNode.node)\"> $ {{rowNode.node.total| number: '.2'}} </span>\n                            </td>\n                        </tr>\n                    </ng-template>\n                </p-treeTable>\n            </div>\n\n            <div class=\"mt-2\" *ngIf=\"datosbalance.length>0\">\n                <div class=\"row\">\n                    <div class=\"col-md-10\">\n                        <div class=\"mt-2 mb-2\">\n                            <h5>Ecuación Contable</h5>\n                        </div>\n                        <div class=\"table-responsive\">\n                            <table class=\"table table-sm table-bordered\">\n                                <tbody>\n                                <tr>\n                                    <td>\n                                        <span class=\"fw-bold\">ACTIVOS:</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\"> {{parents['1'].total| number: '.2'}}</span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <span class=\"fw-bold\">PASIVOS:</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\">{{getabs(parents['2'].total)| number: '.2'}} </span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <span class=\"fw-bold\">PATRIMONIO:</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\">{{ getabs(parents['3'].total) | number: '.2'}} </span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <span class=\"fw-bold\">RESULTADO DEL EJERCICIO:</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\">{{ getabs(resultadoejercicio)  | number: '.2'}} </span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <span class=\"fw-bold\">ACTIVO = PASIVO + PATRIMONIO:</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\">{{parents['1'].total| number: '.2'}}\n                                            = {{getabs(parents['2'].total)| number: '.2'}}\n                                            + {{getabs(parents['3'].total)| number: '.2'}}\n                                            + {{getabs(resultadoejercicio)| number: '.2'}}\n                                            ({{(getabs(parents['2'].total) + getabs(parents['3'].total) + getabs(resultadoejercicio))| number: '.2'}}\n                                            )\n                                             </span>\n                                    </td>\n                                </tr>\n\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n        </div>\n    `\n})\nexport class BalancegeneralComponent implements OnInit {\n    datosbalance: any;\n    parents: any;\n    form: any;\n    parentres: any;\n    resultadoejercicio = 0.0;\n    selectedTreeRow: TreeNode;\n    datosbalancetree: TreeNode[];\n\n    constructor(private asientoService: AsientoService,\n                private loadingUiServ: LoadingUiService,\n                private fechasService: FechasService,\n                private swalService: SwalService) {\n    }\n\n    ngOnInit(): void {\n        this.datosbalance = [];\n        this.form = {desde: null, hasta: null, desdestr: '', hastastr: ''};\n    }\n\n    loadBalance() {\n        if (!(this.form.desde && this.form.hasta)) {\n            this.swalService.fireToastError('Verifique las fechas');\n            return;\n        }\n\n        const desdestr = this.fechasService.formatDate(this.form.desde);\n        const hastastr = this.fechasService.formatDate(this.form.hasta);\n        this.loadingUiServ.publishBlockMessage();\n        this.asientoService.getBalanceGeneral(desdestr, hastastr).subscribe(res => {\n            if (res.status === 200) {\n                this.datosbalance = res.balance;\n                this.parents = res.parents;\n                this.parentres = res.parentres;\n                this.resultadoejercicio = this.getabs(this.parentres['5'].total) - this.getabs(this.parentres['4'].total);\n                this.datosbalancetree = res.balancetree;\n            }\n        });\n    }\n\n    onTipoFiltroChange() {\n        this.onDesdeChange(null);\n        this.onHastaChange(null);\n    }\n\n    onDesdeChange($event: any) {\n        this.form.desdestr = this.fechasService.formatDate(this.form.desde);\n    }\n\n    onHastaChange($event: any) {\n        this.form.hastastr = this.fechasService.formatDate(this.form.hasta);\n    }\n\n    getestilo(fila: any) {\n        const npuntos = fila.dbdata.ic_code.split('.').length;\n        const mg = 50 * (npuntos - 1);\n        let font = 1000 - (100 * npuntos);\n        if (font < 200) {\n            font = 200;\n        }\n        return `margin-right: ${mg}px; font-weight: ${font}`;\n    }\n\n    getfuente(fila: any) {\n        const npuntos = fila.dbdata.ic_code.split('.').length;\n        let font = 1000 - (100 * npuntos);\n        if (font < 200) {\n            font = 200;\n        }\n        return `font-weight: ${font}`;\n    }\n\n    getabs(valor) {\n        return Math.abs(valor);\n    }\n\n    togglexpand($event: any) {\n        if (this.selectedTreeRow) {\n            this.selectedTreeRow.expanded = !this.selectedTreeRow.expanded;\n        }\n    }\n\n    exportPdf() {\n        this.swalService.fireToastInfo('En construcción');\n    }\n\n    exportExcel() {\n        this.swalService.fireToastInfo('En construcción');\n    }\n\n}\n","import {Component, OnInit} from '@angular/core';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {FechasService} from '../../../../services/fechas.service';\nimport {LoadingUiService} from '../../../../services/loading-ui.service';\nimport {TreeNode} from 'primeng/api';\nimport {ReportscontaService} from '../../../../services/reportsconta.service';\nimport {SwalService} from '../../../../services/swal.service';\n\n@Component({\n    selector: 'app-estadoresultados',\n    template: `\n        <div>\n            <h2>Estado de Resultados</h2>\n\n            <div class=\"row mt-3 mb-3\">\n                <div class=\"col-md-8\">\n                    <app-rangofechas [form]=\"form\"\n                                     (evDesdeChange)=\"onDesdeChange($event)\"\n                                     (evHastaChange)=\"onHastaChange($event)\"\n                                     (evFilterSel)=\"onTipoFiltroChange()\">\n                    </app-rangofechas>\n                </div>\n                <div class=\"col-md-4 d-flex flex-column justify-content-end\">\n                    <div class=\"d-flex\">\n                        <div class=\"btn-group btn-block\">\n                            <button class=\"btn btn-outline-primary\" (click)=\"loadBalance()\">\n                                <i class=\"fa fa-play-circle\"></i>\n                                Generar\n                            </button>\n                            <button class=\"btn btn-outline-primary\" [disabled]=\"!(datosbalance.length>0)\"\n                                    title=\"Exportar a pdf\" (click)=\"exportPdf()\">\n                                <i class=\"fa fa-file-pdf\"></i>\n                            </button>\n                            <button class=\"btn btn-outline-primary\" [disabled]=\"!(datosbalance.length>0)\"\n                                    title=\"Exportar a excel\" (click)=\"exportExcel()\">\n                                <i class=\"fa fa-file-excel\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"mt-2 border\" *ngIf=\"datosbalance.length>0\">\n                <div class=\"text-center mt-2 mb-2\">\n                    <h5>ESTADO DE RESULTADOS</h5>\n                    <h6> {{form.desdestr}} - {{form.hastastr}} </h6>\n                </div>\n                <p-treeTable [value]=\"datosbalancetree\" [(selection)]=\"selectedTreeRow\" selectionMode=\"single\"\n                             (dblclick)=\"togglexpand($event)\">\n                    <ng-template pTemplate=\"header\">\n                        <tr>\n                            <th scope=\"col\" width=\"10%\">Código</th>\n                            <th scope=\"col\" width=\"55%\">Nombre</th>\n                            <th scope=\"col\" width=\"35%\">\n                                <div class=\"d-flex flex-row-reverse w-100\">\n                                    <span>Saldo</span>\n                                </div>\n                            </th>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\">\n                        <tr class=\"hand\" [ttSelectableRow]=\"rowNode\">\n                            <td class=\"quitaPadding\">\n                                <span [style]=\"getfuente(rowNode.node)\"\n                                      class=\"ms-3\"> {{rowNode.node.dbdata.ic_code}} </span>\n                            </td>\n                            <td class=\"quitaPadding\">\n                                <span [style]=\"getfuente(rowNode.node)\"> {{rowNode.node.dbdata.ic_nombre}} </span>\n                            </td>\n                            <td class=\"quitaPadding d-flex flex-row-reverse\">\n                                <p-treeTableToggler [rowNode]=\"rowNode\"></p-treeTableToggler>\n                                <span [style]=\"getestilo(rowNode.node)\"> $ {{rowNode.node.total| number: '.2'}} </span>\n                            </td>\n                        </tr>\n                    </ng-template>\n                </p-treeTable>\n            </div>\n\n            <div class=\"mt-2\" *ngIf=\"datosbalance.length>0\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n                        <div class=\"mt-2 mb-2\">\n                            <h5>UTILIDAD O PÉRDIDA DEL EJERCICIO</h5>\n                        </div>\n                        <div class=\"table-responsive\">\n                            <table class=\"table table-sm table-bordered\">\n                                <tbody>\n                                <tr>\n                                    <td>\n                                        <span class=\"fw-bold\">INGRESOS:</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\"> {{getabs(parents['5'].total)| number: '.2'}}</span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <span class=\"fw-bold\">GASTOS:</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\">{{getabs(parents['4'].total)| number: '.2'}} </span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td>\n                                        <span class=\"fw-bold\">UTILIDAD O PÉRDIDA:</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\">{{getabs(parents['5'].total)| number: '.2'}}\n                                            - {{getabs(parents['4'].total)| number: '.2'}}\n                                            = {{(getabs(parents['5'].total) - getabs(parents['4'].total))| number: '.2'}} </span>\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class EstadoresultadosComponent implements OnInit {\n    datosbalance: any;\n    parents: any;\n    form: any;\n    selectedTreeRow: TreeNode;\n    datosbalancetree: TreeNode[];\n\n    constructor(private asientoService: AsientoService,\n                private loadingUiServ: LoadingUiService,\n                private fechasService: FechasService,\n                private swalService: SwalService,\n                private reportsContaServ: ReportscontaService) {\n    }\n\n    ngOnInit(): void {\n        this.datosbalance = [];\n        this.form = {desde: null, hasta: null, desdestr: '', hastastr: ''};\n    }\n\n    loadBalance() {\n        if (!(this.form.desde && this.form.hasta)) {\n            this.swalService.fireToastError('Verifique las fechas');\n            return;\n        }\n\n        const desdestr = this.fechasService.formatDate(this.form.desde);\n        const hastastr = this.fechasService.formatDate(this.form.hasta);\n        this.loadingUiServ.publishBlockMessage();\n        this.asientoService.getEstadoResultados(desdestr, hastastr).subscribe(res => {\n            if (res.status === 200) {\n                this.datosbalance = res.balance;\n                this.parents = res.parents;\n                this.datosbalancetree = res.balancetree;\n            }\n        });\n    }\n\n    onTipoFiltroChange() {\n        this.onDesdeChange(null);\n        this.onHastaChange(null);\n    }\n\n    onDesdeChange($event: any) {\n        this.form.desdestr = this.fechasService.formatDate(this.form.desde);\n    }\n\n    onHastaChange($event: any) {\n        this.form.hastastr = this.fechasService.formatDate(this.form.hasta);\n    }\n\n    getestilo(fila: any) {\n        const npuntos = fila.dbdata.ic_code.split('.').length;\n        const mg = 50 * npuntos;\n        let font = 1000 - (100 * npuntos);\n        if (font < 200) {\n            font = 200;\n        }\n        return `margin-right: ${mg}px; font-weight: ${font}`;\n    }\n\n    getfuente(fila: any) {\n        const npuntos = fila.dbdata.ic_code.split('.').length;\n        let font = 1000 - (100 * npuntos);\n        if (font < 200) {\n            font = 200;\n        }\n        return `font-weight: ${font}`;\n    }\n\n    getabs(valor) {\n        return Math.abs(valor);\n    }\n\n    togglexpand($event: any) {\n        if (this.selectedTreeRow) {\n            this.selectedTreeRow.expanded = !this.selectedTreeRow.expanded;\n        }\n    }\n\n    getnombrearchivo() {\n        const fechaactual = this.fechasService.formatDate(new Date());\n        return `estadoresultados_${fechaactual}`;\n    }\n\n    exportPdf() {\n        this.reportsContaServ.exportPdf(this.datosbalance, this.form, this.getnombrearchivo(), 'ESTADO DE RESULTADOS');\n    }\n\n    exportExcel() {\n        this.reportsContaServ.exportExcel(this.datosbalance, this.getnombrearchivo());\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {FautService} from '../../services/faut.service';\n\n@Component({\n    selector: 'app-home',\n    templateUrl: './home.component.html'\n})\nexport class HomeComponent implements OnInit {\n\n    constructor(private fautService: FautService,\n                private router: Router) {\n    }\n\n    ngOnInit() {\n        if (this.fautService.isAuthenticated()) {\n            this.goToLoggedHome();\n        } else {\n            this.goToEvento();\n        }\n    }\n\n    goToEvento() {\n        this.router.navigate(['home']);\n    }\n\n    goToLoggedHome() {\n        this.router.navigate(['lghome']);\n    }\n\n}\n","<div class=\"p-5 rounded-3\">\n    <h1 class=\"display-4\">M A V I L</h1>\n    <p class=\"lead\">Bienvenid@.</p>\n    <hr class=\"my-4\">\n</div>\n","import {Component} from '@angular/core';\n\n@Component({\n    selector: 'app-loading',\n    template: `\n        <div class=\"text-center\">\n            <p class=\"p-5 m-5\">\n                <img src=\"assets/anim.gif\"\n                     alt=\"procesando\">\n                <br>\n                <span class=\"text-info\"> Espere un momento... </span>\n            </p>\n        </div>\n    `\n})\nexport class LoadingComponent {\n    constructor() {\n\n    }\n}\n","<h4 class=\"quitaPaddingMargin border-bottom\">\n    <i class=\"far fa-money-bill-alt\"></i>\n    Ingresos y Gastos\n</h4>\n<div class=\"mt-3 w-100\">\n    <div>\n        <div class=\"d-flex justify-content-between\">\n            <div class=\"d-flex flex-row\">\n                <h6>Billeteras <i class=\"fa fa-wallet\"></i></h6>\n                <button class=\"ms-4 btn btn-sm btn-outline-primary\" (click)=\"loadBilleteras()\">\n                    <i class=\"fa fa-sync\"></i>\n                </button>\n                <button class=\"ms-2 btn btn-sm btn-outline-primary\" (click)=\"crearBilletera()\"><i\n                        class=\"fa fa-plus-circle\"></i>\n                    Nuevo\n                </button>\n            </div>\n        </div>\n        <div *ngIf=\"isLoading\">\n            <app-loading></app-loading>\n        </div>\n        <div class=\"p-3\" *ngIf=\"!isLoading\">\n            <div class=\"row\" *ngIf=\"billeteras.length>0\">\n                <div class=\"col-md-3 quitaPaddingMargin\" *ngFor=\"let bill of billeteras\">\n                    <div class=\"pt-3 pb-1 ps-3 pe-3 me-4 mb-2 hand  border rounded shadow d-flex flex-column\">\n                        <div (click)=\"showMovsBill(bill)\">\n                            <span class=\"fontsizenr\">{{bill.bil_code}}</span>\n                            <h6 class=\"quitaPaddingMargin fw-bold\">{{bill.bil_nombre}}</h6>\n                            <div class=\"d-flex\">\n                                <span class=\"fw-bold\" style=\"font-size: large\">SALDO:</span>\n                                <span class=\"ms-2 fw-bold text-success\"\n                                      style=\"font-size: large\">{{bill.bil_saldo | number: '.2'}}</span>\n                            </div>\n                        </div>\n                        <div class=\"d-flex flex-row-reverse\">\n                            <span class=\"fa fa-eye text-muted\" (click)=\"showDetBill(bill)\"></span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"row\" *ngIf=\"billeteras.length>1\">\n                <div class=\"col quitaPaddingMargin d-flex flex-row\">\n                    <div class=\"px-2 pt-2 d-flex flex-row\"\n                         title=\"Saldo total en todas las billeteras\">\n                        <h6 class=\"fw-bold\">TOTAL: </h6>\n                        <h6 class=\"fw-bold ms-2 text-success\">{{saldotot}}</h6>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"billeteras.length===0\">\n                <h6 class=\"text-muted\"> No tiene billeteras registradas </h6>\n            </div>\n        </div>\n        <div class=\"mt-3\">\n            <div class=\"d-flex flex-row\">\n                <h6>Movimientos <i class=\"fa fa-comments-dollar\"></i></h6>\n\n                <div class=\"d-flex flex-row\" *ngIf=\"!isShowFilter\">\n                    <button class=\"btn btn-outline-primary btn-sm ms-4\" (click)=\"loadMovimientos()\"\n                            title=\"Actualizar listado\">\n                        <i class=\"fa fa-sync\"></i>\n                    </button>\n                    <button class=\"btn btn-outline-primary btn-sm ms-1\" (click)=\"toggleShowFilter()\">\n                        <i class=\"fa fa-filter\"></i> Filtrar\n                    </button>\n\n                    <div class=\"ms-1 btn-group btn-group-sm dropend\">\n                        <button type=\"button\" class=\"btn btn-outline-primary dropdown-toggle\"\n                                data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                            <i class=\"fa fa-plus-circle\"></i> Crear\n                        </button>\n                        <div class=\"dropdown-menu\" style=\"\">\n                            <a href=\"#\" class=\"dropdown-item\" (click)=\"goToForm(1, $event)\"> Ingreso </a>\n                            <a href=\"#\" class=\"dropdown-item\" (click)=\"goToForm(2, $event)\"> Gasto </a>\n                            <!--\n                            <a href=\"#\" class=\"dropdown-item\" (click)=\"goToForm(3, $event)\"> Transferencia </a>\n                            -->\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            <div *ngIf=\"isShowFilter\" class=\"mt-2 p-2 d-flex flex-column border\">\n                <div class=\"col-md-7 offset-md-3\">\n                    <div class=\"row\">\n                        <div class=\"col-md-2\">\n                            <span class=\"fw-normal\">Fechas:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <app-rangofechas [form]=\"formfiltros\"\n                                             [showlabels]=\"false\"\n                                             (evDesdeChange)=\"onDesdeChange($event)\"\n                                             (evHastaChange)=\"onHastaChange($event)\"\n                                             (evFilterSel)=\"onTipoFechaSel()\">\n                            </app-rangofechas>\n                        </div>\n\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-2\">\n                            <span class=\"fw-normal\">Tipo:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <p-dropdown [options]=\"tipos\" optionLabel=\"label\"\n                                        optionValue=\"value\"\n                                        placeholder=\"Seleccione el tipo\"\n                                        (onChange)=\"onFiltroTipoSel($event)\"\n                                        [(ngModel)]=\"formfiltros.tipo\"></p-dropdown>\n                        </div>\n                    </div>\n                    <div class=\"row\" *ngIf=\"formfiltros.tipo>0\">\n                        <div class=\"col-md-2\">\n                            <span class=\"fw-normal\">Cuenta:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <p-dropdown [options]=\"cuentas\" optionLabel=\"ic_nombre\"\n                                        filter=\"false\"\n                                        optionValue=\"ic_id\"\n                                        placeholder=\"Seleccione la cuenta\"\n                                        (onChange)=\"onFiltroCuentaSel($event)\"\n                                        [showClear]=\"false\"\n                                        [(ngModel)]=\"formfiltros.cuenta\"></p-dropdown>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-2\">\n                            <span class=\"fw-normal\">Usuario:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <p-dropdown [options]=\"users\" optionLabel=\"nomapel\"\n                                        filter=\"false\"\n                                        optionValue=\"us_id\"\n                                        placeholder=\"Seleccione el usuario\"\n                                        (onChange)=\"onUsuarioSel($event)\"\n                                        [showClear]=\"false\"\n                                        [(ngModel)]=\"formfiltros.user\"></p-dropdown>\n                        </div>\n                    </div>\n                    <div class=\"row mt-3\">\n                        <div class=\"col-md offset-md-2\">\n                            <div class=\"d-flex flex-row\">\n                                <button class=\"btn btn-sm btn-outline-primary\" (click)=\"loadMovimientos()\"><i\n                                        class=\"fa fa-search\"></i> Buscar\n                                </button>\n                                <button class=\"ms-2 btn btn-sm btn-outline-secondary\" (click)=\"cancelFiltro()\"><i\n                                        class=\"fa fa-times\"></i> Cancelar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"mt-2\">\n                <div *ngIf=\"isLoadingMovs\">\n                    <app-loading></app-loading>\n                </div>\n                <p-table *ngIf=\"!isLoadingMovs\" [value]=\"grid.data\" [paginator]=\"true\" [rows]=\"50\"\n                         selectionMode=\"single\"\n                         [responsive]=\"true\"\n                         [resizableColumns]=\"true\">\n                    <ng-template pTemplate=\"header\">\n                        <tr>\n                            <th *ngFor=\"let item of grid.cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\"\n                                [width]=\"item.width\">\n                                <span class=\"fontsizesm\">{{item.label}}</span>\n                                <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n                            </th>\n                            <th>\n\n                            </th>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowData>\n                        <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\" (dblclick)=\"verDetalles(rowData)\">\n                            <td *ngFor=\"let item of grid.cols\" [width]=\"item.width\">\n                                <span class=\"p-column-title\">{{item.label}}</span>\n                                <span class=\"fontsizesm\">\n                                    {{rowData[item['field']]}}\n                                </span>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-sm btn-outline-dark\"\n                                        (click)=\"verDetalles(rowData)\"\n                                        title=\"Ver Detalles\">\n                                    <i class=\"fa fa-eye\"></i>\n                                </button>\n                            </td>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"emptymessage\" let-columns>\n                        <tr>\n                            <td [attr.colspan]=\"grid.cols?.length+1\">\n                                <span class=\"text-muted\">No hay registros</span>\n                            </td>\n                        </tr>\n                    </ng-template>\n                </p-table>\n            </div>\n        </div>\n\n    </div>\n</div>\n\n<p-dialog *ngIf=\"isShowNewBill\" [header]=\"titleFormBill\" [modal]=\"true\" [style]=\"{width:'70vw'}\"\n          [(visible)]=\"isShowNewBill\">\n    <div *ngIf=\"isLoadingFormBill\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoadingFormBill\">\n        <div class=\"row\">\n            <div class=\"col-md-3\">\n                <span class=\"fw-normal\"> <span class=\"text-danger\">*</span> Número: </span>\n            </div>\n            <div class=\"col-md\">\n                <div class=\"input-group\">\n                    <input type=\"text\" class=\"form-control\"\n                           [disabled]=\"formbill.bil_autogencode===1 && formbill.bil_id===0\"\n                           [ngClass]=\"{'is-invalid':(isFormBillSubmit && fieldHasError('bil_code'))}\"\n                           [(ngModel)]=\"formbill.bil_code.value\" id=\"bil_code\">\n                    <button class=\"btn btn-outline-secondary\" (click)=\"toggleAutogencode()\"><i\n                            class=\"fa fa-edit\"></i></button>\n                </div>\n            </div>\n        </div>\n        <div class=\"row mt-2\">\n            <div class=\"col-md-3\">\n                <span class=\"fw-normal\"> <span class=\"text-danger\">*</span> Nombre: </span>\n            </div>\n            <div class=\"col-md\">\n                <input type=\"text\" class=\"form-control\"\n                       [(ngModel)]=\"formbill.bil_nombre.value\"\n                       [ngClass]=\"{'is-invalid':(isFormBillSubmit && fieldHasError('bil_nombre'))}\"\n                       id=\"bil_nombre\">\n            </div>\n        </div>\n        <div class=\"row mt-2\">\n            <div class=\"col-md-3\">\n                <span class=\"fw-normal\"> <span class=\"text-danger\">*</span> Saldo Inicial: </span>\n            </div>\n            <div class=\"col-md\">\n                <input type=\"text\" class=\"form-control\"\n                       (focusin)=\"$event.target.select()\"\n                       [disabled]=\"formbill.bil_id>0 && selBillHasMoves\"\n                       [ngClass]=\"{'is-invalid':(isFormBillSubmit && fieldHasError('bil_saldoini')||evalPattern('bil_saldoini',numbersPattern))}\"\n                       [(ngModel)]=\"formbill.bil_saldoini.value\">\n            </div>\n        </div>\n        <div class=\"row mt-2\" *ngIf=\"formbill.haycajasdisp===1 && formbill.bil_id===0\">\n            <div class=\"col-md-3\">\n                <span class=\"fw-normal\"> <span class=\"text-danger\">*</span> Cta Contable: </span>\n            </div>\n            <div class=\"col-md\">\n                <p-dropdown [options]=\"cajasdisp\" optionLabel=\"ic_nombre\"\n                            optionValue=\"ic_id\"\n                            [ngClass]=\"{'ng-invalid ng-dirty':(isFormBillSubmit && ctacontabhaserror())}\"\n                            placeholder=\"Seleccione la cuenta contable para esta billetera\"\n                            [(ngModel)]=\"formbill.ic_id.value\"></p-dropdown>\n            </div>\n        </div>\n\n        <div class=\"row mt-2\" *ngIf=\"formbill.bil_id>0\">\n            <div class=\"col-md-3\">\n                <span class=\"fw-normal\"> <span class=\"text-danger\">*</span> Cta Contable: </span>\n            </div>\n            <div class=\"col-md\">\n                <input type=\"text\" class=\"form-control\" disabled [(ngModel)]=\"formbill.ic_nombre\">\n            </div>\n        </div>\n\n        <div class=\"row mt-2\">\n            <div class=\"col-md-3\">\n                <span class=\"fw-normal\">Observación: </span>\n            </div>\n            <div class=\"col-md\">\n                <textarea pInputTextarea maxlength=\"1000\" class=\"form-control\"\n                          [(ngModel)]=\"formbill.bil_obs.value\"\n                          name=\"bil_obs\" id=\"bil_obs\"\n                          rows=\"5\"></textarea>\n            </div>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col-md-3\">\n                        <span class=\"fw-bold\"\n                              title=\"Selecciones las secciones donde esta cuenta contable es visible\">Secciones:</span>\n            </div>\n            <div class=\"col-md\">\n                <div *ngFor=\"let itsec of formbill.secciones\" class=\"d-flex flex-row\">\n                    <p-checkbox [inputId]=\"itsec.seccion.sec_id\" binary=\"true\"\n                                [(ngModel)]=\"itsec.value\"></p-checkbox>\n                    <label [for]=\"itsec.seccion.sec_id\"\n                           class=\"ms-2 mt-1 hand\">{{itsec.seccion.sec_nombre}}</label>\n                </div>\n            </div>\n        </div>\n\n    </div>\n    <p-footer *ngIf=\"!isLoadingFormBill\">\n        <button class=\"btn btn-outline-primary\" (click)=\"doSaveBill()\">\n            <i class=\"fa fa-save\"></i>\n            {{formbill.bil_id === 0 ? 'Crear' : 'Actualizar'}}\n        </button>\n        <button class=\"btn btn-outline-primary\" *ngIf=\"formbill.bil_id>0\" (click)=\"doDeleteBill()\"\n                [disabled]=\"selBillHasMoves\">\n            <i class=\"fa fa-trash\"></i>\n            Borrar\n        </button>\n        <button class=\"btn btn-outline-secondary\" (click)=\"cancelCreaBill()\">\n            <i class=\"fa fa-times\"></i>\n            Cancelar\n        </button>\n    </p-footer>\n</p-dialog>\n\n<div *ngIf=\"isShowDetalleMov\">\n    <p-dialog header=\"Detalles de la transacción\" [style]=\"{width: '95vw'}\" [autoZIndex]=\"false\"\n              [modal]=\"true\"\n              [(visible)]=\"isShowDetalleMov\">\n        <app-ingegrview [codmov]=\"codmovsel\" (evCerrarBtn)=\"closeModalDet($event)\"\n                        (evAnula)=\"onAnulaView($event)\" (evConfirma)=\"onConfirmaView($event)\"></app-ingegrview>\n    </p-dialog>\n</div>\n\n<div *ngIf=\"isShowDetAsi\">\n    <p-dialog header=\"Detalles del asiento\" [style]=\"{width: '95vw'}\" [autoZIndex]=\"false\"\n              [modal]=\"true\"\n              [(visible)]=\"isShowDetAsi\">\n        <app-asientoview [trncod]=\"filasel.trn_codigo\" (evCerrar)=\"hideDetAsi()\"></app-asientoview>\n    </p-dialog>\n</div>\n\n\n<p-dialog header=\"Detalles del documento\" [modal]=\"true\" [style]=\"{width: '95vw'}\" [baseZIndex]=\"10000\"\n          [(visible)]=\"isShowFactura\">\n    <app-facturaview [trncod]=\"filasel.trn_codigo\" (evBtnClosed)=\"closeDetallesFact()\"></app-facturaview>\n</p-dialog>\n","import {Component, OnInit} from '@angular/core';\nimport {BilleteraService} from '../../../services/billetera.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {DomService} from '../../../services/dom.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {Router} from '@angular/router';\nimport {BilleteramovService} from '../../../services/billeteramov.service';\nimport {FechasService} from '../../../services/fechas.service';\n\n@Component({\n    selector: 'app-ingegr',\n    templateUrl: './ingegr.component.html'\n})\nexport class IngegrComponent implements OnInit {\n    isLoading = false;\n    billeteras = [];\n    isShowNewBill = false;\n    isLoadingFormBill = false;\n    formbill: any = {};\n    cajasdisp = [];\n    isFormBillSubmit = false;\n    numbersPattern = '^[0-9]*\\\\.*[0-9]*$';\n    titleFormBill = '';\n\n    grid: any = {};\n    total = 0.0;\n    isLoadingMovs = false;\n    isShowFilter = false;\n\n    formfiltros: any = {};\n    tipos: Array<any> = [];\n    cuentas: Array<any> = [];\n    isShowDetalleMov = false;\n    codmovsel: number;\n    selBillHasMoves = false;\n    saldotot = 0.0;\n    isShowDetAsi = false;\n    isShowFactura = false;\n    filasel: any = {};\n    users: Array<any> = [];\n\n    constructor(private billeteraService: BilleteraService,\n                private billmovService: BilleteramovService,\n                private domService: DomService,\n                private router: Router,\n                private fechasService: FechasService,\n                private loadingUiService: LoadingUiService,\n                private swalService: SwalService) {\n\n    }\n\n    ngOnInit(): void {\n        this.isLoading = false;\n        this.loadBilleteras();\n        this.loadMovimientos();\n    }\n\n    loadBilleteras() {\n        this.isLoading = true;\n        this.billeteraService.listar().subscribe(res => {\n            if (res.status === 200) {\n                this.billeteras = res.billeteras;\n                this.saldotot = res.saldotot;\n            }\n            this.isLoading = false;\n        });\n    }\n\n    crearBilletera() {\n        this.isLoadingFormBill = true;\n        this.selBillHasMoves = false;\n        this.titleFormBill = 'Nueva Billetera';\n        this.billeteraService.getForm().subscribe(res => {\n            if (res.status === 200) {\n                this.formbill = res.form;\n                this.cajasdisp = res.form.cajas;\n            }\n            this.isLoadingFormBill = false;\n            this.isShowNewBill = true;\n            this.domService.setFocusTm('bil_nombre', 500);\n        });\n    }\n\n    cancelCreaBill() {\n        this.isShowNewBill = false;\n    }\n\n    toggleAutogencode() {\n        this.formbill.bil_autogencode = this.formbill.bil_autogencode === 1 ? 0 : 1;\n        if (this.formbill.bil_autogencode === 0) {\n            this.domService.setFocusTm('bil_code', 100);\n        }\n    }\n\n    doSaveBill() {\n        this.isFormBillSubmit = true;\n\n        if (!this.domService.txtInputFieldHasValue(this.formbill.bil_code) ||\n            !this.domService.txtInputFieldHasValue(this.formbill.bil_nombre) ||\n            (this.formbill.bil_id === 0 && this.formbill.haycajasdisp === 1 && !this.domService.cmbInputFieldHasValue(this.formbill.ic_id))\n        ) {\n            this.swalService.fireToastError('Datos Incorrectos verifique por favor');\n            return;\n        }\n        let msg = '¿Confirma la creación de esta billetera?';\n        if (this.formbill.bil_id > 0) {\n            msg = '¿Confirma la actualización de esta billetera?';\n        }\n\n        if (confirm(msg)) {\n            this.loadingUiService.publishBlockMessage();\n            let billsaveobs = null;\n            if (this.formbill.bil_id > 0) {\n                billsaveobs = this.billeteraService.actualizar(this.formbill);\n            } else {\n                billsaveobs = this.billeteraService.crear(this.formbill);\n            }\n            this.isShowNewBill = false;\n            billsaveobs.subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.loadBilleteras();\n                    this.isFormBillSubmit = false;\n                }\n            });\n        }\n    }\n\n    ctacontabhaserror() {\n        return this.formbill.ic_id.value === 0;\n    }\n\n    fieldHasError(field) {\n        let haserror = false;\n        if (this.formbill[field].required) {\n            haserror = this.formbill[field].value.toString().trim().length === 0;\n        }\n        return haserror;\n    }\n\n    evalPattern(field, pattern) {\n        const re = new RegExp(pattern);\n        return !re.test(this.formbill[field].value);\n    }\n\n    showDetBill(bill) {\n        this.titleFormBill = 'Datos de la billetera';\n        this.selBillHasMoves = false;\n        this.billeteraService.getFormSecs(bill.ic_id).subscribe(res => {\n            if (res.status === 200) {\n                this.formbill = res.form;\n                this.cajasdisp = res.form.cajas;\n            }\n            this.isLoadingFormBill = false;\n            this.formbill.bil_id = bill.bil_id;\n            this.formbill.bil_code.value = bill.bil_code;\n            this.formbill.bil_nombre.value = bill.bil_nombre;\n            this.formbill.bil_saldoini.value = bill.bil_saldoini;\n            this.formbill.bil_obs.value = bill.bil_obs;\n            this.formbill.ic_nombre = bill.ic_nombre;\n            this.isShowNewBill = true;\n        });\n\n        this.billeteraService.hasMoves(bill.bil_id).subscribe(resb => {\n            if (resb.status === 200) {\n                this.selBillHasMoves = resb.hasmoves;\n            }\n        });\n    }\n\n    doDeleteBill() {\n        if (confirm('¿Confirma que desea anular esta billetera?')) {\n            this.billeteraService.anular(this.formbill.bil_id).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.loadBilleteras();\n                    this.isShowNewBill = false;\n                }\n            });\n        }\n    }\n\n    verDetalles(rowData) {\n        this.filasel = rowData;\n        const isinggas = this.filasel.bmo_id > 0;\n        const isfactura = this.filasel.tra_codigo === 1 || this.filasel.tra_codigo === 2 || this.filasel.tra_codigo === 7;\n\n        if (isinggas) {\n            this.codmovsel = rowData.bmo_id;\n            this.isShowDetalleMov = true;\n        } else if (isfactura) {\n            this.isShowFactura = true;\n        } else {\n            this.isShowDetAsi = true;\n        }\n    }\n\n    loadMovimientos() {\n        this.isLoadingMovs = true;\n        let desde = '';\n        let hasta = '';\n        let tipo = 0;\n        let cuenta = 0;\n        let cuentabill = 0;\n        let user = 0;\n\n        if (this.formfiltros?.desde) {\n            desde = this.fechasService.formatDate(this.formfiltros.desde);\n        }\n        if (this.formfiltros?.hasta) {\n            hasta = this.fechasService.formatDate(this.formfiltros.hasta);\n        }\n        if (this.formfiltros?.tipo) {\n            tipo = this.formfiltros.tipo;\n        }\n        if (this.formfiltros?.cuenta) {\n            cuenta = this.formfiltros.cuenta;\n        }\n        if (this.formfiltros?.cuentabill) {\n            cuentabill = this.formfiltros.cuentabill;\n        }\n        if (this.formfiltros?.user) {\n            user = this.formfiltros.user;\n        }\n\n        this.billmovService.listargrid(desde, hasta, tipo, cuenta, cuentabill, user).subscribe(res => {\n            if (res.status === 200) {\n                this.grid = res.grid;\n            }\n            this.isLoadingMovs = false;\n        });\n    }\n\n    goToForm(tipo: number, $event: MouseEvent) {\n        $event.preventDefault();\n        this.router.navigate(['vtickets', 'form', tipo]);\n    }\n\n    toggleShowFilter() {\n        this.isShowFilter = !this.isShowFilter;\n        if (this.isShowFilter) {\n            this.loadFormFiltros();\n        }\n    }\n\n    cancelFiltro() {\n        this.isShowFilter = false;\n        this.formfiltros = {};\n        this.loadMovimientos();\n    }\n\n    loadFormFiltros() {\n        this.formfiltros = {};\n        this.loadingUiService.publishBlockMessage();\n        this.billmovService.getFormFiltros().subscribe(res => {\n            if (res.status === 200) {\n                this.formfiltros = res.formfiltro;\n                this.tipos = res.tiposmovs;\n                this.users = res.users;\n            }\n        });\n    }\n\n    onDesdeChange($event: any) {\n\n    }\n\n    onHastaChange($event: any) {\n\n    }\n\n    onTipoFechaSel() {\n\n    }\n\n    onFiltroTipoSel($event: any) {\n        this.cuentas = [];\n        if (this.formfiltros?.tipo > 0) {\n            this.billmovService.getCuentasBytTipo(this.formfiltros.tipo).subscribe(res => {\n                if (res.status === 200) {\n                    this.cuentas = res.cuentas;\n                }\n            });\n        } else {\n            this.formfiltros.cuenta = 0;\n        }\n    }\n\n    onFiltroCuentaSel($event: any) {\n\n    }\n\n    closeModalDet($event: any) {\n        this.isShowDetalleMov = false;\n    }\n\n    onAnulaView($event: any) {\n        this.isShowDetalleMov = false;\n        this.loadMovimientos();\n        this.loadBilleteras();\n    }\n\n    onConfirmaView($event: any) {\n        this.isShowDetalleMov = false;\n        this.loadMovimientos();\n        this.loadBilleteras();\n    }\n\n    showMovsBill(bill: any) {\n        this.formfiltros.cuentabill = bill.ic_id;\n        this.loadMovimientos();\n    }\n\n    hideDetAsi() {\n        this.isShowDetAsi = false;\n    }\n\n    closeDetallesFact() {\n        this.isShowFactura = false;\n    }\n\n    onUsuarioSel($event: any) {\n        console.log('On usuario sel:', $event);\n    }\n}\n","<div class=\"row justify-content-center\">\n    <div class=\"col-md-10\">\n        <h4>Nuevo {{titulo}}</h4>\n    </div>\n</div>\n<div *ngIf=\"isLoading\">\n    <app-loading></app-loading>\n</div>\n<div *ngIf=\"!isLoading\">\n    <div class=\"row justify-content-center\">\n        <div class=\"col-md-10\">\n            <div class=\"card border-primary\">\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-md-10\">\n                            <div class=\"row quitaPaddingMargin\">\n                                <div class=\"col-md-6 quitaPaddingMargin\">\n                                    <div class=\"row mt-2\">\n                                        <div class=\"col-md-4\">\n                                            <span class=\"fw-normal\"> Número: </span>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <input type=\"text\" class=\"form-control\" disabled\n                                                   [(ngModel)]=\"form.bmo_numero\">\n                                        </div>\n                                    </div>\n                                    <div class=\"row mt-2\">\n                                        <div class=\"col-md-4\">\n                                            <span class=\"fw-normal\"> Fecha: </span>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <p-calendar id=\"vt_fecha\"\n                                                        [(ngModel)]=\"form.bmo_fechatransaccobj\"\n                                                        inputId=\"bmo_fechatransacc\"\n                                                        [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                                        [maxDate]=\"currentDate\"\n                                                        yearRange=\"2020:2100\"\n                                                        dateFormat=\"dd/mm/yy\">\n                                            </p-calendar>\n                                        </div>\n                                    </div>\n                                    <div class=\"row mt-2\">\n                                        <div class=\"col-md-4\">\n                                            <span class=\"fw-normal\"> <i class=\"fa fa-dollar\"></i> Monto Total: </span>\n                                        </div>\n                                        <div class=\"col-md\">\n                                            <input type=\"text\" class=\"form-control\" id=\"bmo_monto\"\n                                                   (focusin)=\"$event.target.select();\" (keyup.enter)=\"onMontoEnter()\"\n                                                   [(ngModel)]=\"form.bmo_monto\">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div class=\"row mt-3\">\n                                <div class=\"col-md d-flex flex-column\">\n                                    <span class=\"fw-normal\">\n                                        Tipo {{titulo}}:\n                                    </span>\n                                    <div>\n                                        <div class=\"d-flex flex-column\"\n                                             *ngFor=\"let fcuenta of form.cuentas; let i=index\">\n                                            <div class=\"d-flex flex-row\">\n                                                <div>\n                                                    <p-dropdown [options]=\"cuentasformov\" optionLabel=\"codnombre\"\n                                                                id=\"tipoInput_{{i}}\"\n                                                                inputId=\"tipoInput_{{i}}\"\n                                                                filter=\"true\"\n                                                                optionValue=\"ic_id\"\n                                                                placeholder=\"Seleccione el tipo de {{titulo}}\"\n                                                                (onChange)=\"ontiposel(fcuenta, $event)\"\n                                                                [showClear]=\"false\"\n                                                                [(ngModel)]=\"fcuenta.cta_codigo\"></p-dropdown>\n                                                </div>\n                                                <div>\n                                                    <input type=\"text\" class=\"ms-1 form-control\" id=\"tipo_valor_{{i}}\"\n                                                           [(ngModel)]=\"fcuenta.dt_valor\"\n                                                           [disabled]=\"fcuenta.cta_codigo===0\"\n                                                           (focusin)=\"$event.target.select();\">\n                                                </div>\n                                                <div>\n                                                    <div class=\"ms-1 btn-group btn-group-sm\" role=\"group\">\n                                                        <button class=\"btn btn-outline-secondary btn-sm  p-1\"\n                                                                *ngIf=\"i>0\"\n                                                                title=\"Quitar esta fila\"\n                                                                (click)=\"removeCuenta(fcuenta)\">\n                                                            <i class=\"fa fa-minus-circle\"> </i>\n                                                        </button>\n                                                        <button class=\"btn btn-outline-secondary btn-sm  p-1\"\n                                                                *ngIf=\"i===form.cuentas.length-1\"\n                                                                title=\"Agregar otro ingreso\" (click)=\"addcuentas()\">\n                                                            <i class=\"fa fa-plus-circle\"> </i>\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row mt-3\">\n                                <div class=\"col-md\">\n                                    <div class=\"d-flex flex-column\">\n                                        <span class=\"fw-normal\">\n                                            <i class=\"fa fa-wallet\"></i> Billetera Afectada:\n                                        </span>\n                                        <div class=\"d-flex flex-column\"\n                                             *ngFor=\"let fbill of form.billeteras; let i=index\">\n                                            <div class=\"d-flex flex-row\">\n                                                <div>\n                                                    <p-dropdown [options]=\"billeteras\" optionLabel=\"bilnomcodsald\"\n                                                                optionValue=\"ic_id\"\n                                                                placeholder=\"Seleccione la billetera afectada\"\n                                                                filter=\"true\"\n                                                                (onChange)=\"onbillsel(fbill, $event)\"\n                                                                [showClear]=\"false\"\n                                                                [(ngModel)]=\"fbill.cta_codigo\"></p-dropdown>\n                                                </div>\n                                                <div>\n                                                    <input type=\"text\" class=\"ms-1 form-control\" id=\"bill_valor_{{i}}\"\n                                                           (focusin)=\"$event.target.select();\"\n                                                           [(ngModel)]=\"fbill.dt_valor\"\n                                                           [disabled]=\"fbill.cta_codigo===0\">\n                                                </div>\n                                                <div>\n                                                    <div class=\"ms-1 btn-group btn-group-sm\" role=\"group\">\n                                                        <button class=\"btn btn-outline-secondary btn-sm quitaPaddingMargin p-1\"\n                                                                *ngIf=\"i>0\"\n                                                                title=\"Quitar billetera afectada\">\n                                                            <i class=\"fa fa-minus-circle\"\n                                                               (click)=\"removeBilletera(fbill)\"> </i>\n                                                        </button>\n                                                        <button class=\"btn btn-outline-secondary btn-sm quitaPaddingMargin p-1\"\n                                                                *ngIf=\"i==form.billeteras.length-1\"\n                                                                title=\"Agregar otra billetera\"\n                                                                (click)=\"addbilleteras()\">\n                                                            <i class=\"fa fa-plus-circle\"> </i>\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"row\">\n                                <div class=\"col-md \">\n                                    <div class=\"mt-3 d-flex flex-column\"><span> <i class=\"fa fa-paperclip\"></i> Adjunto:</span>\n                                        <input type=\"file\" id=\"archivoinput\"\n                                               accept=\"image/*,application/pdf, application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n                                               class=\"form-control\"\n                                               (change)=\"onFileChange($event)\"/>\n                                    </div>\n                                    <div class=\"mt-3\">\n                                        <label for=\"obsInput\">\n                                            <i class=\"fa fa-sticky-note\"></i>\n                                            Observación</label>\n                                        <textarea class=\"form-control\" id=\"obsInput\" maxlength=\"800\" name=\"tk_obs\"\n                                                  [(ngModel)]=\"form.bmo_obs\" rows=\"5\"></textarea>\n                                    </div>\n                                </div>\n                                <div class=\"ms-1 mt-1 col-md-4 quitaPaddingMargin\" *ngIf=\"filepreview && adjisimage\">\n                                    <img [src]=\"filepreview\" class=\"img-responsive\" *ngIf=\"filepreview\" width=\"260px\"\n                                         height=\"270px\"/>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-md-2\">\n                            <div class=\"d-grid gap-2\">\n                                <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"guardar()\">\n                                    <i class=\"fa fa-save\"></i>\n                                    Guardar\n                                </button>\n                                <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancelar()\">\n                                    <i class=\"fa fa-times\"></i>\n                                    Cancelar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SwalService} from '../../../services/swal.service';\nimport {BilleteramovService} from '../../../services/billeteramov.service';\nimport {DomService} from '../../../services/dom.service';\nimport {ArrayutilService} from '../../../services/arrayutil.service';\nimport {NumberService} from '../../../services/number.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {FechasService} from '../../../services/fechas.service';\nimport {CtesService} from '../../../services/ctes.service';\n\n@Component({\n    selector: 'app-ingegrform',\n    templateUrl: './ingegrform.component.html'\n})\nexport class IngegrformComponent implements OnInit {\n    titulo = 'Ingreso';\n    tiporouting = 1;\n    isLoading = false;\n\n    datafile: any;\n    filepreview: any;\n    base64data: any = null;\n    adjisimage = false;\n    cuentasformov: Array<any> = [];\n    billeteras: Array<any> = [];\n\n    form: any = {};\n    formasiento: any = {};\n    currentDate = new Date();\n\n    constructor(private router: Router,\n                private route: ActivatedRoute,\n                private domService: DomService,\n                private numberService: NumberService,\n                private fechasService: FechasService,\n                private loadingService: LoadingUiService,\n                private arrayService: ArrayutilService,\n                private billMovService: BilleteramovService,\n                private ctes: CtesService,\n                private swalService: SwalService) {\n        this.route.paramMap.subscribe(params => {\n            this.tiporouting = parseInt(params.get('tipo'), 10);\n            this.setTitle();\n            this.loadForm();\n        });\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    setTitle() {\n        if (this.tiporouting === 1) {\n            this.titulo = 'Ingreso';\n        } else if (this.tiporouting === 2) {\n            this.titulo = 'Gasto';\n        } else if (this.tiporouting === 3) {\n            this.titulo = 'Transferencia';\n        }\n    }\n\n    guardar() {\n        // Validar los monto ingresados\n        const montotal = this.form.bmo_monto;\n        if (this.numberService.round2(montotal) <= 0) {\n            this.swalService.fireToastError(this.ctes.msgMontoIncVerif);\n            return;\n        }\n\n        let totalcuentas = Number(0.0);\n        let totalbill = Number(0.0);\n        this.form.cuentas.forEach(cuenta => {\n            totalcuentas += Number(cuenta.dt_valor);\n        });\n\n        this.form.billeteras.forEach(bill => {\n            totalbill += Number(bill.dt_valor);\n        });\n\n        // Verificar fecha ingresada\n        if (!this.form.bmo_fechatransaccobj) {\n            this.swalService.fireToastError('Debe ingresar la fecha de la transacción');\n            return;\n        }\n        this.form.bmo_fechatransacc = this.fechasService.formatDate(this.form.bmo_fechatransaccobj);\n\n        if (this.numberService.round2(totalcuentas) !== this.numberService.round2(totalbill)) {\n            this.swalService.fireToastError('Los valores no coinciden, favor verificar');\n        } else {\n            if (this.numberService.round2(montotal) === this.numberService.round2(totalcuentas)) {\n\n                let filetopost = null;\n                if (this.datafile && this.base64data) {\n                    filetopost = {\n                        rxd_filename: this.datafile.name,\n                        archivo: this.base64data\n                    };\n                }\n                const formtopost = {\n                    form: this.form,\n                    formasiento: this.formasiento,\n                    archivo: null\n                };\n\n                if (filetopost) {\n                    formtopost.archivo = filetopost;\n                }\n                this.swalService.fireDialog('¿Confirma que desea crear este registro?', '').then(confirm => {\n                    if (confirm.value) {\n                        this.loadingService.publishBlockMessage();\n                        this.billMovService.crear(formtopost).subscribe(res => {\n                            if (res.status === 200) {\n                                this.swalService.fireToastSuccess(res.msg);\n                                this.gotolist();\n                            }\n                        });\n                    }\n                });\n\n            } else {\n                this.swalService.fireToastError('Los montos ingresados no coinciden, favor verificar');\n            }\n        }\n    }\n\n    cancelar() {\n        this.gotolist();\n    }\n\n    gotolist() {\n        this.router.navigate(['vtickets']);\n    }\n\n    ontiposel(tipo: any, $event: any) {\n        const idx = this.form.cuentas.indexOf(tipo);\n        const inputid = `tipo_valor_${idx}`;\n        this.domService.setFocusTm(inputid, 100);\n        tipo.dt_valor = this.auxGetMontoFila(this.form.cuentas, idx);\n    }\n\n    auxGetMontoFila(thearray, idx) {\n        return this.arrayService.getMontoFila(thearray, idx, this.form.bmo_monto);\n    }\n\n    onbillsel(fila: any, $event: any) {\n        const idx = this.form.billeteras.indexOf(fila);\n        this.domService.setFocusTm(`bill_valor_${idx}`, 100);\n        fila.dt_valor = this.auxGetMontoFila(this.form.billeteras, idx);\n    }\n\n    clearFile() {\n        this.filepreview = null;\n        this.base64data = null;\n    }\n\n    processFile() {\n        const mimeType = this.datafile.type;\n        const rega = /image|pdf|document/;\n        const regimg = /image/;\n        this.adjisimage = regimg.test(mimeType);\n        if (rega.test(mimeType)) {\n            const reader = new FileReader();\n            reader.readAsDataURL(this.datafile);\n            reader.onload = (e) => {\n                this.filepreview = reader.result;\n                this.base64data = this.filepreview;\n            };\n        } else {\n            this.clearFile();\n            this.swalService.fireError('Este tipo de archivo no esta admitido');\n        }\n    }\n\n    onFileChange(fileInput: any) {\n        this.datafile = fileInput.target.files[0];\n        this.adjisimage = false;\n        if (this.datafile) {\n            const length = (this.datafile.size / 1024) / 1024;\n            if (length > 10) {\n                this.clearFile();\n                this.swalService.fireError('El tamaño del archivo es muy grande, elija otro (Tamaño máximo 10MB)');\n            } else {\n                this.processFile();\n            }\n        } else {\n            this.filepreview = null;\n            this.base64data = null;\n        }\n    }\n\n    loadForm() {\n        this.isLoading = true;\n        this.billMovService.getForm(this.tiporouting).subscribe(res => {\n            if (res.status === 200) {\n                this.form = res.form.formbillmov;\n                this.form.bmo_fechatransaccobj = this.fechasService.parseString(this.form.bmo_fechatransacc);\n                this.cuentasformov = res.form.cuentasformov;\n                this.billeteras = res.form.billeterasformov;\n                this.formasiento = res.form.formasiento;\n                this.domService.setFocusTm('bmo_monto', 300);\n            }\n            this.isLoading = false;\n        });\n    }\n\n    addcuentas() {\n        this.form.cuentas.push({cta_codigo: 0, dt_valor: 0.0});\n    }\n\n    removeCuenta(fila) {\n        this.arrayService.removeElement(this.form.cuentas, fila);\n    }\n\n    addbilleteras() {\n        this.form.billeteras.push({cta_codigo: 0, dt_valor: 0.0});\n    }\n\n    removeBilletera(fila) {\n        this.arrayService.removeElement(this.form.billeteras, fila);\n    }\n\n    onMontoEnter() {\n        this.domService.setFocusTm('tipo_valor_0', 100);\n    }\n}\n","<div>\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Número: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold\"> {{datosmov.bmo_numero}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Tipo: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold\"> {{datosmov.clase}} </span>\n                    </div>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Fecha: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold\"> {{datosmov.bmo_fechatransacc}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Monto Total: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold\"> $ {{datosmov.bmo_monto}} </span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-6\">\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Estado: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold\"> {{datosmov.estado}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Registrado por: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold\"> {{datosmov.refusercrea}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Fecha de registro: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <span class=\"fw-bold\"> {{datosmov.bmo_fechacrea}} </span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Adjunto: </span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <div *ngIf=\"datosmov.rxd_id>0\">\n                                    <span class=\"fw-bold\"> <i\n                                            class=\"fas fa-paperclip\"></i> {{datosmov.rxd_filename}} </span>\n                            <button class=\"btn btn-outline-secondary btn-sm ms-3\" (click)=\"showAdjunto()\"> Ver\n                            </button>\n                        </div>\n                        <span class=\"text-muted\" *ngIf=\"!datosmov.rxd_id>0\"> Sin adjunto </span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-2\">\n                <span class=\"fw-light\"> Observación: </span>\n            </div>\n            <div class=\"col-md\">\n                <p style=\"white-space: pre-line\"> {{datosasiento.cabecera.trn_observ}} </p>\n            </div>\n        </div>\n\n        <div class=\"card\">\n            <div class=\"card-head\">\n                <div class=\"col-md\">\n                    <span class=\"fw-bold\"> Cuentas Afectadas: </span>\n                </div>\n                <div class=\"row quitaPaddingMargin\">\n                    <div class=\"col-md\"><span class=\"fw-bold\">Crédito:</span></div>\n                    <div class=\"col-md\"><span class=\"fw-bold\">Débito:</span></div>\n                </div>\n            </div>\n            <div>\n                <div class=\"row quitaPaddingMargin\">\n                    <div class=\"col-md quitaPaddingMargin ms-3\">\n                        <div class=\"table-responsive\">\n                            <table class=\"table table-sm table-bordered\">\n                                <thead>\n                                <tr>\n                                    <th scope=\"col\">Cuenta</th>\n                                    <th scope=\"col\">Monto</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                <tr *ngFor=\"let fila of filasdebe\">\n                                    <td>\n                                        <span class=\"text-muted fontsizenr\"> {{fila.ic_nombre}} </span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\">\n                                            ${{fila.dt_valor | number: '.2'}}\n                                        </span>\n                                    </td>\n                                </tr>\n                            </table>\n                        </div>\n                    </div>\n                    <div class=\"col-md ms-2 quitaPaddingMargin\">\n                        <div class=\"table-responsive\">\n                            <table class=\"table table-sm table-bordered\">\n                                <thead>\n                                <tr>\n                                    <th scope=\"col\">Cuenta</th>\n                                    <th scope=\"col\">Monto</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                <tr *ngFor=\"let fila of filashaber\">\n                                    <td>\n                                        <span class=\"text-muted fontsizenr\"> {{fila.ic_nombre}} </span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fw-bold\">\n                                            ${{fila.dt_valor | number: '.2'}}\n                                        </span>\n                                    </td>\n                                </tr>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!--\n        <div class=\"row\" *ngIf=\"adjisimage\">\n            <div class=\"col\">\n                <div style=\"width: 100%; height: 300px; overflow: auto\">\n                    <img [src]=\"urlimgadj\" class=\"img-responsive\"/>\n                </div>\n            </div>\n        </div>\n        -->\n        <div class=\"row\">\n            <div class=\"col\">\n                <div class=\"mt-2 d-flex flex-row-reverse\">\n                    <button class=\"btn btn-outline-primary ms-1\" (click)=\"onCerraBtn()\"><i\n                            class=\"fa fa-times\"></i>\n                        Cerrar\n                    </button>\n                    <button class=\"btn btn-outline-primary ms-1\" (click)=\"onConfirmarBtn()\"\n                            *ngIf=\"datosmov.bmo_estado===0\">\n                        <i class=\"fa fa-check\"></i>\n                        Confirmar\n                    </button>\n                    <button class=\"btn btn-outline-primary\" (click)=\"onAnularBtn()\"\n                            *ngIf=\"datosmov.bmo_estado===0\">\n                        <i class=\"fa fa-trash\"></i>\n                        Anular\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {BilleteramovService} from '../../../services/billeteramov.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {RxdocsService} from '../../../services/rxdocs.service';\nimport {SwalService} from '../../../services/swal.service';\n\n@Component({\n    selector: 'app-ingegrview',\n    templateUrl: './ingegrview.component.html'\n})\nexport class IngegrviewComponent implements OnInit, OnChanges {\n\n    @Input() codmov: number;\n    @Output() evCerrarBtn = new EventEmitter<any>();\n    @Output() evConfirma = new EventEmitter<any>();\n    @Output() evAnula = new EventEmitter<any>();\n\n    isLoading = true;\n    adjisimage = false;\n    urlimgadj = '';\n    datosmov: any = {};\n    datosasiento: any = {};\n    filasdebe: Array<any> = [];\n    filashaber: Array<any> = [];\n\n    constructor(private billMovService: BilleteramovService,\n                private loadingUiService: LoadingUiService,\n                private rxDocsServ: RxdocsService,\n                private swalService: SwalService) {\n\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const codmovchange = changes.codmov;\n        const currentvalue = codmovchange.currentValue;\n        if (currentvalue) {\n            this.loadDatosMov();\n        }\n    }\n\n    loadDatosMov() {\n        this.isLoading = true;\n        this.adjisimage = false;\n        this.urlimgadj = '';\n        this.billMovService.getDatosMov(this.codmov).subscribe(res => {\n            if (res.status === 200) {\n                this.datosmov = res.datosmov.datosmov;\n                this.datosasiento = res.datosmov.asiento;\n                this.computeDatosAsiento();\n                const mimeType = this.datosmov.rxd_ext;\n                if (mimeType) {\n                    const regimg = /image/;\n                    this.adjisimage = regimg.test(mimeType);\n                    this.urlimgadj = this.rxDocsServ.getDownloadUrlNode(this.datosmov);\n                }\n            }\n            this.isLoading = false;\n        });\n    }\n\n    computeDatosAsiento() {\n        this.filasdebe = this.datosasiento?.detalles.filter(row => row.dt_debito === 1);\n        this.filashaber = this.datosasiento?.detalles.filter(row => row.dt_debito === -1);\n    }\n\n    onCerraBtn() {\n        this.evCerrarBtn.emit('');\n    }\n\n    onAnularBtn() {\n        if (this.datosmov.bmo_estado === 0) {\n            this.swalService.fireDialog('¿Confirma que desea anular este registro?', '').then(confirm => {\n                    if (confirm.value) {\n                        this.loadingUiService.publishBlockMessage();\n                        this.billMovService.anular(this.codmov).subscribe(res => {\n                            if (res.status === 200) {\n                                this.swalService.fireToastSuccess(res.msg);\n                                this.evAnula.emit('');\n                            }\n                        });\n                    }\n                }\n            );\n        } else {\n            this.swalService.fireToastError('No es posible');\n        }\n    }\n\n    onConfirmarBtn() {\n        if (this.datosmov.bmo_estado === 0) {\n            this.swalService.fireDialog('¿Confirmar este registro?', '').then(confirm => {\n                    if (confirm.value) {\n                        this.loadingUiService.publishBlockMessage();\n                        this.billMovService.confirmar(this.codmov).subscribe(res => {\n                            if (res.status === 200) {\n                                this.swalService.fireToastSuccess(res.msg);\n                                this.evConfirma.emit('');\n                            }\n                        });\n                    }\n                }\n            );\n        } else {\n            this.swalService.fireToastError('No es posible');\n        }\n    }\n\n    showAdjunto() {\n        const url = this.rxDocsServ.getDownloadUrlNode(this.datosmov);\n        window.open(url, '_blank', 'toolbar=yes,scrollb ars=yes,resizable=yes,top=50,left=100,width=800,height=600');\n    }\n}\n","<div class=\"mt-2\">\n    <div class=\"row\">\n        <div class=\"col-md\">\n            <div class=\"row quitaPaddingMargin mt-2\">\n                <div class=\"col-md-3 quitaPaddingMargin\">\n                    <div class=\"d-flex\">\n                        <span class=\"me-2\">Sección:</span>\n                        <span class=\"datouser rounded px-2\"> {{seccion.sec_nombre}} </span>\n                    </div>\n                </div>\n                <div class=\"col-md-5 quitaPaddingMargin\">\n                    <div class=\"d-flex\">\n                        <span class=\"text-primary me-2\">Bienvenid@</span>\n                        <span class=\"datouser rounded px-2\"> {{userinfo.per_nombres}} {{userinfo.per_apellidos}} </span>\n                    </div>\n                </div>\n                <div class=\"col-md-4 quitaPaddingMargin\">\n                    <div class=\"d-md-flex flex-md-row-reverse\">\n                        <span class=\"me-2 datouser px-2\"> {{fechaactualstr}} </span>\n                    </div>\n                </div>\n            </div>\n\n            <!--\n            <div class=\"mt-4\">\n                <span class=\"text-muted\">Accesos Directos:</span>\n            </div>\n            -->\n            <div *ngIf=\"isLoading\">\n                <app-loading></app-loading>\n            </div>\n            <div class=\"mt-4 border rounded\" *ngIf=\"!isLoading\">\n                <div class=\"row my-3\">\n                    <div class=\"col-md-3\" *ngFor=\"let acc of accesosdir\">\n                        <div class=\"mx-2 my-1\">\n                            <button (mouseover)=\"onAccDirOver(acc)\"\n                                    (mouseout)=\"onAccDirOut(acc)\"\n                                    (click)=\"doroute(acc)\"\n                                    class=\"btn d-flex flex-column w-100\" [ngClass]=\"acc.css\" [title]=\"acc.title\">\n                                <div class=\"w-100 my-2\">\n                                    <div class=\"d-flex justify-content-center\">\n                                        <span style=\"font-size: 1.5rem\" [class]=\"acc.icon\"></span>\n                                    </div>\n                                    <div class=\"d-flex justify-content-center\">\n                                        <span>{{acc.label}}</span>\n                                    </div>\n                                </div>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n            <div class=\"row mt-4\">\n                <div class=\"col-md-4\">\n                    <div>\n                        <span class=\"text-muted\"> Secciones Disponibles: </span>\n                    </div>\n                    <div class=\"card mt-2\">\n                        <ul class=\"list-group\">\n                            <li class=\"list-group-item hand quitaPaddingMargin py-1 px-3 list-group-item-action d-flex flex-row justify-content-between\"\n                                *ngFor=\"let item of secciones\" (click)=\"cambiarSeccion(item)\">\n                                <span>{{item.sec_nombre}}</span>\n                                <i class=\"fa  {{item.sec_id==seccion.sec_id?'fa-check':''}}\"></i>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"col-md mt-lg-auto\">\n                    <div class=\"d-flex flex-column\">\n                        <div class=\"d-flex flex-row-reverse\">\n                            <h1 class=\"colormavil\">MAVIL</h1>\n                        </div>\n                        <div class=\"d-flex flex-row-reverse\" *ngIf=\"!isLoading\">\n                        <span class=\"fontsizesm\">\n                            Registrado a nombre de: {{datosempresa.emp_razonsocial}}\n                        </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n\n<div class=\"mt-5\">\n    <app-appfooter></app-appfooter>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {FautService} from '../../../services/faut.service';\nimport {Router} from '@angular/router';\nimport {SeccionService} from '../../../services/seccion.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {MenuItem} from 'primeng/api';\nimport {FechasService} from '../../../services/fechas.service';\nimport {DatosloggedService} from '../../../services/datoslogged.service';\nimport {TtpdvService} from '../../../services/ttpdv.service';\n\n@Component({\n    selector: 'app-logged-home',\n    templateUrl: './logged-home.component.html',\n    styles: [\n            `.datouser {\n            background: #e2e2e2;\n            border-radius: 5px;\n        }\n        `]\n})\nexport class LoggedHomeComponent implements OnInit {\n\n    menuApp: MenuItem[];\n    secciones: Array<any>;\n    seccion: any = {};\n    userinfo: any = {};\n    fechaactualstr = '';\n    accesosdir: Array<any> = [];\n    isLoading = false;\n    datosempresa: any = {};\n    vapp = '';\n\n    constructor(private fautService: FautService,\n                private router: Router,\n                private fechasService: FechasService,\n                private seccionService: SeccionService,\n                private ttpdvService: TtpdvService,\n                private datosLoggedServ: DatosloggedService,\n                private swalService: SwalService) {\n        this.menuApp = [];\n    }\n\n    ngOnInit() {\n        const menuApp = this.fautService.getMenuApp();\n        if (menuApp) {\n            this.menuApp = menuApp;\n        }\n        this.loadSeciones();\n        this.fautService.source.subscribe(msg => {\n            if (msg === 'updateSecciones') {\n                this.loadSeciones();\n            } else if (msg === 'loadmenu') {\n                const menu = this.fautService.getMenuApp();\n                if (menu) {\n                    this.menuApp = menu;\n                }\n            } else if (msg === 'updateSeccion') {\n                this.seccion = this.fautService.getSeccionInfoSaved();\n            }\n        });\n\n        const userInfoSaved = this.fautService.getUserInfoSaved();\n        if (userInfoSaved) {\n            this.userinfo = userInfoSaved;\n        }\n\n        this.fechaactualstr = '';\n\n        this.loadDatosLogged();\n\n        // Verificar si se debe traer la informacion del punto de emision\n        this.checkTtpdv();\n\n    }\n\n    checkTtpdv() {\n        if (!this.fautService.isTdvCodSaved()) {\n            this.ttpdvService.listarMin().subscribe(restpdv => {\n                if (restpdv.status === 200) {\n                    if (restpdv.ttpdvs) {\n                        this.fautService.setTtpdvs(restpdv.ttpdvs);\n                        const tdvcod = restpdv.ttpdvs[0].tdv_codigo;\n                        this.ttpdvService.setTdvcodigo(tdvcod).subscribe(res => {\n                            if (res.status === 200) {\n                                this.swalService.fireToastSuccess('Nuevo punto de emisión seleccionado');\n                                this.fautService.updateTokenAndTdvcod(res.token, tdvcod);\n                            }\n                        });\n                    }\n                    this.fautService.publishMessage('updateTtpdvs');\n                }\n            });\n        }\n    }\n\n    loadDatosLogged() {\n        this.isLoading = true;\n        this.datosLoggedServ.getDatosLogged().subscribe(res => {\n            this.isLoading = false;\n            if (res.status === 200) {\n                this.fechaactualstr = res.datlogged.fecha;\n                this.accesosdir = res.datlogged.accesosdir;\n                this.fautService.setMenuApp(res.datlogged.menu);\n                this.fautService.setVersionApp(res.datlogged.vapp);\n                this.fautService.publishMessage('loadmenu');\n                this.fautService.publishMessage('loadvapp');\n                this.datosempresa = res.datlogged.datosemp;\n            }\n        });\n    }\n\n    loadSeciones() {\n        this.secciones = this.fautService.getSecciones();\n        this.seccion = this.fautService.getSeccionInfoSaved();\n    }\n\n    cambiarSeccion(seccion) {\n        this.seccionService.setSeccion(seccion.sec_id).subscribe(res => {\n            if (res.status === 200) {\n                this.swalService.fireToastSuccess('Nueva sección seleccionada');\n                this.fautService.updateTokenAndSec(res.token, res.seccion);\n                this.seccion = res.seccion;\n                this.fautService.publishMessage('updateSeccion');\n                this.fautService.setTtpdvs(res.ttpdvs);\n                this.fautService.updateTokenAndTdvcod(res.token, res.tdv_codigo);\n                this.fautService.publishMessage('updateTtpdvs');\n            }\n        });\n    }\n\n    changeCss(acc: any, estilo: string) {\n        acc.css = estilo;\n    }\n\n    onAccDirOver(acc: any) {\n        this.changeCss(acc, 'btn-outline-primary');\n    }\n\n    onAccDirOut(acc: any) {\n        this.changeCss(acc, 'btn-outline-secondary');\n    }\n\n    doroute(acc: any) {\n        this.router.navigate([acc.route]);\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {SwalService} from '../../services/swal.service';\nimport {Router} from '@angular/router';\nimport {LocalStorageService} from '../../services/local-storage.service';\nimport {FautService} from '../../services/faut.service';\nimport {SeccionService} from '../../services/seccion.service';\nimport {UsertokenService} from '../../services/usertoken.service';\nimport {LoadingUiService} from '../../services/loading-ui.service';\nimport {DomService} from '../../services/dom.service';\nimport {TtpdvService} from '../../services/ttpdv.service';\n\n@Component({\n    selector: 'app-login',\n    styleUrls: ['./login.component.css'],\n    templateUrl: './login.component.html'\n})\nexport class LoginComponent implements OnInit {\n    loginForm: FormGroup;\n    submited: boolean;\n    secciones: Array<any>;\n\n    constructor(\n        private fb: FormBuilder,\n        private fautService: FautService,\n        private swalService: SwalService,\n        private router: Router,\n        private localStorageService: LocalStorageService,\n        private seccionService: SeccionService,\n        private ttpdvService: TtpdvService,\n        private domService: DomService,\n        private userTokenService: UsertokenService,\n        private loadingServ: LoadingUiService\n    ) {\n\n    }\n\n    get f() {\n        return this.loginForm.controls;\n    }\n\n    ngOnInit() {\n        this.createForm();\n        this.verificarLogueado();\n    }\n\n    verificarLogueado() {\n        if (this.fautService.isAuthenticated()) {\n            this.router.navigate(['lghome']);\n        }\n    }\n\n    createForm() {\n        const globalCodEmpresa = this.localStorageService.getItem('GLOBAL_COD_EMPRESA');\n        let codEmpresa = '';\n        let codFocus = 'empresaInput';\n        if (globalCodEmpresa) {\n            codEmpresa = globalCodEmpresa;\n            codFocus = 'usernameInput';\n        }\n        this.loginForm = this.fb.group({\n            empresa: [codEmpresa, Validators.required],\n            username: ['', Validators.required],\n            password: ['', Validators.required]\n        });\n        this.domService.setFocusTm(codFocus, 500);\n    }\n\n    onclickSubmit() {\n        this.submited = true;\n        if (this.loginForm.invalid) {\n            return;\n        }\n\n\n        const form = this.loginForm.value;\n        this.loadingServ.publishBlockMessage();\n        this.fautService.autenticar(form.empresa, form.username, form.password).subscribe(\n            res => {\n                if (res.autenticado) {\n                    this.localStorageService.setItem('GLOBAL_COD_EMPRESA', form.empresa);\n                    this.fautService.publishMessage('login');\n                    this.fautService.setAsAuthenticated(res.userinfo, res.token, res.menu, res.seccion,\n                        res.empNombreComercial, res.sqm, res.tdv_codigo);\n                    this.swalService.fireToastSuccess('', 'Bienvenido: ' + res.userinfo.per_nombres);\n                    this.router.navigate(['lghome']);\n                    this.seccionService.listar().subscribe(ressec => {\n                        if (ressec.status === 200) {\n                            this.secciones = ressec.items;\n                            this.fautService.setSecciones(this.secciones);\n                            this.fautService.publishMessage('updateSecciones');\n                        }\n                    });\n                    this.ttpdvService.listarMin().subscribe(restpdv => {\n                        if (restpdv.status === 200) {\n                            this.fautService.setTtpdvs(restpdv.ttpdvs);\n                            this.fautService.publishMessage('updateTtpdvs');\n                        }\n                    });\n                    this.userTokenService.getMenu(res.userinfo.us_id).subscribe(resMenu => {\n                        if (resMenu.status === 200) {\n                            this.fautService.setMenuApp(resMenu.menu);\n                            this.fautService.publishMessage('loadmenu');\n                        }\n                    });\n                } else {\n                    this.swalService.fireWarning('Usuario o clave incorrectos');\n                }\n            }\n        );\n    }\n}\n","<div class=\"fondoLogin\">\n    <div class=\"row justify-content-center\">\n        <div class=\"col-md-6\">\n            <h2 class=\"title\"> Ingreso al sistema </h2>\n            <div>\n                <form [formGroup]=\"loginForm\" (ngSubmit)=\"onclickSubmit()\">\n                    <div class=\"mb-3\">\n                        <input type=\"text\" class=\"form-control form-control-lg\" id=\"empresaInput\"\n                               aria-describedby=\"emailHelp\"\n                               placeholder=\"Ingrese el codigo de la empresa\" name=\"empresa\" formControlName=\"empresa\"\n                               [ngClass]=\"{'is-invalid':submited && f.empresa.errors}\">\n                    </div>\n                    <div class=\"mb-3\">\n                        <input type=\"email\" class=\"form-control form-control-lg\" id=\"usernameInput\"\n                               aria-describedby=\"emailHelp\"\n                               placeholder=\"Ingrese el  nombre de usuario\" name=\"username\" formControlName=\"username\"\n                               [ngClass]=\"{'is-invalid':submited && f.username.errors}\">\n                    </div>\n                    <div class=\"mb-3\">\n                        <input type=\"password\" class=\"form-control form-control-lg\" id=\"passwordInput\"\n                               name=\"password\"\n                               placeholder=\"Ingrese la clave\" formControlName=\"password\"\n                               [ngClass]=\"{'is-invalid':submited && f.password.errors}\">\n                    </div>\n\n                    <div class=\"d-flex flex-row justify-content-around mt-5\">\n                        <button type=\"submit\" value=\"Ingresar\" class=\"btn btn-primary\">Ingresar <span\n                                class=\"fas fa-sign-in-alt\"></span></button>\n                        <button type=\"button\" value=\"Olvidé mi clave\" class=\"btn btn-secondary \">Olvidé mi clave\n                        </button>\n                    </div>\n\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {LoadingUiService} from '../../services/loading-ui.service';\nimport {PersonaService} from '../../services/persona.service';\nimport {SwalService} from '../../services/swal.service';\nimport {FechasService} from '../../services/fechas.service';\nimport {DomService} from '../../services/dom.service';\nimport {ArrayutilService} from '../../services/arrayutil.service';\nimport {CatalogosService} from '../../services/catalogos.service';\nimport {LugarService} from '../../services/lugar.service';\nimport {forkJoin} from 'rxjs';\nimport {CtesService} from '../../services/ctes.service';\n\n@Component({\n    selector: 'app-datosref',\n    styles: [\n            `.dato-fila {\n            margin: 15px 5px;\n        }\n\n        .datopac {\n            background: #e2e2e2;\n            border-radius: 5px;\n            padding-left: 10px;\n        }\n        `],\n    template: `\n        <div>\n            <div *ngIf=\"!editando\" class=\"ms-2\">\n                <div class=\"row\">\n                    <div class=\"col-md-4 d-flex flex-column\">\n                        <div class=\"d-flex flex-column mt-2\">\n                            <span class=\"text-muted\">\n                                Ci/RUC/Pasaporte:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.per_ciruc}}\n                            </span>\n                        </div>\n\n                        <div class=\"d-flex flex-column mt-2\">\n                            <span class=\"text-muted\">\n                                Nombres:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.per_nombres}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\">\n                            <span class=\"text-muted\">\n                                Apellidos:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.per_apellidos}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\" *ngIf=\"!isProveedorPacFull()\">\n                            <span class=\"text-muted\">\n                                Fecha de nacimiento:\n                            </span>\n                            <span class=\"datopac\" *ngIf=\"datosPacienteFull.per_fechanac\">\n                                {{datosPacienteFull.per_fechanac}} - <small> {{datosPacienteFull.per_edad.years}}\n                                año(s), {{datosPacienteFull.per_edad.months}}\n                                mes(es), {{datosPacienteFull.per_edad.days}}\n                                dia(s)</small>\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\" *ngIf=\"!isProveedorPacFull()\">\n                            <span class=\"text-muted\">\n                                Sexo:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.genero}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\" *ngIf=\"datosmedicos && !isProveedorPacFull()\">\n                            <span class=\"text-muted\">\n                                Tipo de sangre:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.tiposangre}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\" *ngIf=\"!isProveedorPacFull()\">\n                            <span class=\"text-muted\">\n                                Estado Civil:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.estadocivil}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\" *ngIf=\"!datosmedicos\">\n                            <span class=\"text-muted\">\n                                Tipo:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.tiporef}}\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"col-md-4 d-flex flex-column\">\n                        <div class=\"d-flex flex-column mt-2\">\n                            <span class=\"text-muted\">\n                                Lugar de residencia:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.residencia}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\">\n                            <span class=\"text-muted\">\n                                Dirección:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.per_direccion}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\" *ngIf=\"!isProveedorPacFull()\">\n                            <span class=\"text-muted\">\n                                Profesión/Ocupación:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.profesion}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\">\n                            <span class=\"text-muted\">\n                                Correo Electrónico:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.per_email}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\">\n                            <span class=\"text-muted\">\n                                Teléfono Convencional:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.per_telf}}\n                            </span>\n                        </div>\n                        <div class=\"d-flex flex-column mt-2\">\n                            <span class=\"text-muted\">\n                                Celular:\n                            </span>\n                            <span class=\"datopac\">\n                                {{datosPacienteFull.per_movil}}\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"col-md-3\">\n                        <div class=\"mt-3\">\n                            <button class=\"btn btn-outline-secondary\" (click)=\"editar()\">\n                                <i class=\"fa fa-edit\"></i> Editar\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"editando\">\n                <div class=\"row\">\n                    <div class=\"col-md\">\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span class=\"required\">*</span><span>Ci/RUC/Pasaporte:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <div class=\"input-group\">\n                                    <input type=\"text\" class=\"form-control\"\n                                           [(ngModel)]=\"paciente.per_ciruc\"\n                                           (blur)=\"verificaPacienteRegistrado()\" autocomplete=\"false\"\n                                           (keydown.enter)=\"buscarPaciente(false, 'perNombresInput')\"\n                                           id=\"perCirucInput\">\n                                    <div class=\"input-group-append\">\n                                        <button class=\"btn btn-outline-secondary\" type=\"button\"\n                                                (click)=\"buscarPaciente(false, 'perNombresInput')\"\n                                                title=\"Presiona este botón para buscar el paciente por numero de cédula, ruc o pasaporte \">\n                                            <span class=\"fa fa-search\"></span>\n                                        </button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\" *ngIf=\"!datosmedicos\">\n                            <div class=\"col-12\">\n                                <span>Tipo:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <p-dropdown [options]=\"tiposRefList\" optionLabel=\"lval_nombre\"\n                                            placeholder=\"Seleccione el tipo de referente\"\n                                            [showClear]=\"false\"\n                                            [(ngModel)]=\"paciente.per_tipo\"></p-dropdown>\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span class=\"required\">*</span><span>Nombres:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <input type=\"text\" class=\"form-control\"\n                                       [(ngModel)]=\"paciente.per_nombres\" id=\"perNombresInput\"\n                                       autocomplete=\"false\">\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span>Apellidos:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <input type=\"text\" class=\"form-control\"\n                                       [(ngModel)]=\"paciente.per_apellidos\"\n                                       autocomplete=\"false\">\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\" *ngIf=\"!isProveedor()\">\n                            <div class=\"col-12\">\n                                <span>Fecha de nacimiento (dd/mm/aaaa):</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <p-calendar id=\"per_fechanac\"\n                                            [(ngModel)]=\"paciente.per_fechanac\"\n                                            [showIcon]=\"true\"\n                                            inputId=\"per_fechanac\"\n                                            [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                            [maxDate]=\"currentDate\"\n                                            (onSelect)=\"calcularEdad()\"\n                                            yearRange=\"1900:2100\"\n                                            dateFormat=\"dd/mm/yy\"></p-calendar>\n                                <span> {{paciente.per_edad.years}} año(s) </span>\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\" *ngIf=\"!isProveedor()\">\n                            <div class=\"col-12\">\n                                <span class=\"required\">*</span><span>Sexo:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <p-radioButton name=\"sexo\" *ngFor=\"let it of generosList\"\n                                               value=\"{{it.lval_valor}}\"\n                                               label=\"{{it.lval_nombre}}\"\n                                               [(ngModel)]=\"paciente.per_genero\"></p-radioButton>\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\" *ngIf=\"!isProveedor()\">\n                            <div class=\"col-12\">\n                                <span>Estado Civil:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <p-dropdown [options]=\"estadoCivilList\" optionLabel=\"lval_nombre\"\n                                            placeholder=\"Seleccione el estado civil\"\n                                            [showClear]=\"true\"\n                                            [(ngModel)]=\"paciente.per_estadocivil\"></p-dropdown>\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\" *ngIf=\"datosmedicos\">\n                            <div class=\"col-12\">\n                                <span>Tipo de sangre :</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <p-dropdown [options]=\"tipoSangreList\" optionLabel=\"lval_nombre\"\n                                            placeholder=\"Seleccione el tipo de sangre\"\n                                            [showClear]=\"true\"\n                                            [(ngModel)]=\"paciente.per_tiposangre\"></p-dropdown>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md\">\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span>Lugar de residencia:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <p-dropdown [options]=\"lugares\" id=\"catic_id\"\n                                            [(ngModel)]=\"paciente.per_lugresidencia\"\n                                            [virtualScroll]=\"true\"\n                                            placeholder=\"Seleccione el lugar de residencia\"\n                                            [showClear]=\"true\"\n                                            [style]=\"{width:'100%', overflow:'visible'}\"\n                                            [filterMatchMode]=\"'startsWith'\"\n                                            filter=\"true\"\n                                            itemSize=\"50\"\n                                            optionLabel=\"lug_nombre\"\n                                            inputId=\"per_lugresidencia\"></p-dropdown>\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span>Dirección:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <input type=\"text\" class=\"form-control\"\n                                       [(ngModel)]=\"paciente.per_direccion\"\n                                       autocomplete=\"false\" maxlength=\"80\">\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\" *ngIf=\"!isProveedor()\">\n                            <div class=\"col-12\">\n                                <span>Profesión/Ocupación:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <p-dropdown [options]=\"ocupaciones\" id=\"per_ocupacion\"\n                                            [(ngModel)]=\"paciente.per_ocupacion\"\n                                            [virtualScroll]=\"true\"\n                                            placeholder=\"Seleccione la profesión/ocupación\"\n                                            [showClear]=\"true\"\n                                            [style]=\"{width:'100%', overflow:'visible'}\"\n                                            [filterMatchMode]=\"'contains'\"\n                                            filter=\"true\"\n                                            itemSize=\"50\"\n                                            optionLabel=\"lval_nombre\"\n                                            inputId=\"per_ocupacion\"></p-dropdown>\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span>Correo Electrónico:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <input type=\"text\" class=\"form-control\"\n                                       [(ngModel)]=\"paciente.per_email\"\n                                       autocomplete=\"false\">\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span>Teléfono Convencial:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <input type=\"text\" class=\"form-control\"\n                                       [(ngModel)]=\"paciente.per_telf\"\n                                       [autocomplete]=\"false\">\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span>Celular:</span>\n                            </div>\n                            <div class=\"col-12\">\n                                <input type=\"text\" class=\"form-control\" [autocomplete]=\"false\"\n                                       [(ngModel)]=\"paciente.per_movil\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"mt-1 d-flex justify-content-center\">\n                    <button class=\"btn btn-outline-primary\" (click)=\"guardaDatosPaciente()\">\n                        <i class=\"fa fa-save\"></i> Guardar\n                    </button>\n                    <button class=\"ms-4 btn btn-outline-primary\" (click)=\"cancelarRegistro()\"\n                            *ngIf=\"codPaciente===0 || editando\">\n                        <i class=\"fa fa-times\"></i> Cancelar\n                    </button>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class DatosrefComponent implements OnInit, OnChanges {\n\n    @Input() codPaciente: number;\n    @Input() datosmedicos = true;\n\n    @Output() pacienteLoaded = new EventEmitter<any>();\n    @Output() pacienteSaved = new EventEmitter<any>();\n    @Output() creacionCancelada = new EventEmitter<any>();\n    @Output() datosIncompletosEv = new EventEmitter<any>();\n    paciente: any;\n    datosPacienteFull: any;\n    estadoCivilList: Array<any>;\n    tipoSangreList: Array<any>;\n    generosList: Array<any>;\n    lugares: Array<any>;\n    ocupaciones: Array<any>;\n    tiposRefList: Array<any>;\n    currentDate = new Date();\n\n    datosIncompletos: boolean;\n    editando: boolean;\n\n    constructor(private loadingUiService: LoadingUiService, private personaService: PersonaService,\n                private swalService: SwalService, private fechasService: FechasService, private domService: DomService,\n                private arrayUtil: ArrayutilService, private catalogosServ: CatalogosService, private ctes: CtesService,\n                private lugarService: LugarService) {\n\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const pacchange = changes.codPaciente;\n        const codcurrentvalue = pacchange.currentValue;\n        if (codcurrentvalue !== null) {\n            this.loadFormOrData();\n        }\n    }\n\n    ngOnInit(): void {\n        this.datosPacienteFull = {per_edad: {}};\n        this.datosIncompletos = false;\n        this.paciente = {per_edad: {}};\n    }\n\n    isProveedor() {\n        return this.paciente ? (this.paciente.per_tipo ? this.paciente.per_tipo.lval_valor === '3' : false) : false;\n    }\n\n    isProveedorPacFull() {\n        return this.datosPacienteFull ? (this.datosPacienteFull.per_tipo ? this.datosPacienteFull.per_tipo === 3 : false) : false;\n    }\n\n    editar() {\n        this.editando = true;\n        this.loadListasAndSetupForm();\n    }\n\n    loadFormOrData() {\n        this.editando = false;\n        if (this.codPaciente === 0) {\n            this.editando = true;\n            this.loadListasAndSetupForm();\n        } else {\n            this.buscarPacientePorCod();\n        }\n    }\n\n    verificaPacienteRegistrado() {\n        if (this.paciente.per_id === 0) {\n            this.buscarPaciente(false, this.ctes.perNombresInput);\n        }\n    }\n\n    logicaDatosIncompletos(showMessage) {\n        this.domService.setFocusTm(this.ctes.perNombresInput, 600);\n        if (showMessage) {\n            this.swalService.fireToastWarn(this.ctes.msgDataIncompleteRef);\n        }\n    }\n\n    isPersonDataIncomplete(personaDb: any) {\n        return !personaDb.per_fechanac || personaDb.per_fechanac.trim().length === 0;\n    }\n\n    loadDataPerson(persona: any) {\n        this.personaService.loadDataToform(this.paciente, persona);\n        if (this.paciente.per_genero) {\n            this.paciente.per_genero = persona.per_genero.toString();\n        }\n\n        this.paciente.per_estadocivil = null;\n        if (persona.per_estadocivil) {\n            this.paciente.per_estadocivil = this.arrayUtil.getFirstResult(\n                this.estadoCivilList, el => {\n                    return el.lval_id === persona.per_estadocivil;\n                }\n            );\n        }\n\n        if (persona.per_tiposangre) {\n            this.paciente.per_tiposangre = this.arrayUtil.getFirstResult(\n                this.tipoSangreList, el => {\n                    return el.lval_id === persona.per_tiposangre;\n                }\n            );\n        }\n        if (persona.per_tipo) {\n            this.paciente.per_tipo = this.arrayUtil.getFirstResult(\n                this.tiposRefList, el => {\n                    return parseInt(el.lval_valor, 10) === persona.per_tipo;\n                }\n            );\n        }\n\n        this.paciente.per_lugresidencia = null;\n        if (persona.per_lugresidencia) {\n            this.paciente.per_lugresidencia = this.arrayUtil.getFirstResult(\n                this.lugares, el => {\n                    return el.lug_id === persona.per_lugresidencia;\n                }\n            );\n        }\n\n        this.paciente.per_ocupacion = null;\n        if (persona.per_ocupacion) {\n            this.paciente.per_ocupacion = this.arrayUtil.getFirstResult(\n                this.ocupaciones, el => {\n                    return el.lval_id === persona.per_ocupacion;\n                }\n            );\n        }\n    }\n\n    buscarPacientePorCod() {\n        this.datosIncompletos = false;\n        this.loadingUiService.publishBlockMessage();\n        this.personaService.buscarPorCodfull(this.codPaciente).subscribe(res => {\n            if (res.status === 200) {\n                this.datosPacienteFull = res.persona;\n                this.pacienteLoaded.emit(res.persona);\n                if (res.persona.per_tipo !== 3) {\n                    this.datosIncompletos = this.isPersonDataIncomplete(res.persona);\n                }\n                if (this.datosIncompletos && this.datosmedicos) {\n                    this.datosIncompletosEv.emit(res.persona);\n                    this.logicaDatosIncompletos(true);\n                    this.editando = true;\n                    this.loadListasAndSetupForm();\n                }\n            }\n        });\n    }\n\n    loadListasAndSetupForm() {\n        this.loadingUiService.publishBlockMessage();\n        const genObs = this.catalogosServ.getCatalogos(1);\n        const estCivilObs = this.catalogosServ.getCatalogos(2);\n        const ocupObs = this.catalogosServ.getCatalogos(3);\n        const tipsangObs = this.catalogosServ.getCatalogos(4);\n        const tiposRefObs = this.catalogosServ.getCatalogos(5);\n        const lugObs = this.lugarService.listarTodos();\n        const formObs = this.personaService.getForm();\n\n        forkJoin([genObs, estCivilObs, ocupObs, tipsangObs, lugObs, tiposRefObs, formObs]).subscribe(res => {\n            if (res[0].status === 200) {\n                this.generosList = res[0].items;\n            }\n            if (res[1].status === 200) {\n                this.estadoCivilList = res[1].items;\n            }\n            if (res[2].status === 200) {\n                this.ocupaciones = res[2].items;\n            }\n            if (res[3].status === 200) {\n                this.tipoSangreList = res[3].items;\n            }\n            if (res[4].status === 200) {\n                this.lugares = res[4].items;\n            }\n            if (res[5].status === 200) {\n                this.tiposRefList = res[5].items;\n            }\n            if (res[6].status === 200) {\n                this.paciente = res[6].form;\n                this.domService.setFocusTm(this.ctes.perCirucInput, 100);\n            }\n            if (this.datosPacienteFull.per_id) {\n                this.loadDataPerson(this.datosPacienteFull);\n            } else {\n                this.loadDataPerson(this.paciente);\n                this.editando = true;\n            }\n        });\n    }\n\n    buscarPaciente(showMessage, focusInput) {\n        const per_ciruc = this.paciente.per_ciruc;\n        this.datosIncompletos = false;\n        if (per_ciruc && per_ciruc.trim().length > 0) {\n            this.loadingUiService.publishBlockMessage();\n            this.personaService.buscarPorCifull(per_ciruc).subscribe(res => {\n                    if (res.status === 200) {\n                        if (showMessage) {\n                            this.swalService.fireToastInfo(this.ctes.msgRefRegistered);\n                        }\n                        this.loadDataPerson(res.persona);\n                        this.datosPacienteFull = res.persona;\n                        this.pacienteLoaded.emit(res.persona);\n                    } else {\n                        this.domService.setFocusTm(focusInput, 600);\n                        if (showMessage) {\n                            this.swalService.fireToastWarn(this.ctes.msgNewRefEnterDataFil);\n                        }\n                        this.paciente.per_ciruc = per_ciruc;\n                    }\n                }\n            );\n        }\n    }\n\n    guardaDatosPaciente() {\n        const perId = this.paciente.per_id;\n        const formPaciente = this.paciente;\n        const estadoCivil = formPaciente.per_estadocivil;\n        const residencia = formPaciente.per_lugresidencia;\n        const genero = formPaciente.per_genero;\n        const tiposangre = formPaciente.per_tiposangre;\n        const tiporef = formPaciente.per_tipo;\n\n        if (!genero && !this.isProveedor()) {\n            this.swalService.fireToastError(this.ctes.msgMustSelectGenRef);\n            return;\n        }\n\n        if (this.datosmedicos && !estadoCivil && !this.isProveedor()) {\n            this.swalService.fireToastError(this.ctes.msgMustSelectEstCivRef);\n            return;\n        }\n\n        if (this.datosmedicos && !formPaciente.per_fechanac && !this.isProveedor()) {\n            this.swalService.fireToastError(this.ctes.msgMustEnterFechaNac);\n            return;\n        }\n\n        const perEstadocivil = estadoCivil ? estadoCivil.lval_id : 0;\n        const perGenero = genero;\n        const perLugresidencia = residencia ? residencia.lug_id : 0;\n\n        const formToPost: any = {};\n        for (const prop of Object.keys(formPaciente)) {\n            formToPost[prop] = formPaciente[prop];\n        }\n        formToPost.per_estadocivil = perEstadocivil;\n        formToPost.per_genero = perGenero;\n        formToPost.per_lugresidencia = perLugresidencia;\n\n        if (formPaciente.per_fechanac) {\n            formToPost.per_fechanacp = this.fechasService.formatDate(formPaciente.per_fechanac);\n        }\n\n        formToPost.per_tiposangre = tiposangre ? tiposangre.lval_id : 0;\n        formToPost.per_tipo = tiporef ? tiporef.lval_valor : 1;\n\n        this.loadingUiService.publishBlockMessage();\n        this.personaService.actualizar(perId, formToPost).subscribe(res => {\n            if (res.status === 200) {\n                this.swalService.fireToastSuccess(res.msg);\n                this.domService.setFocusTm(this.ctes.motivoConsultaTextArea, 600);\n                if (res.per_id) {\n                    this.paciente.per_id = res.per_id;\n                }\n                this.pacienteSaved.emit(this.paciente.per_id);\n                this.editando = false;\n                this.codPaciente = this.paciente.per_id;\n                this.buscarPacientePorCod();\n            }\n        });\n    }\n\n    calcularEdad() {\n        this.personaService.setPerEdad(this.paciente);\n    }\n\n    cancelarRegistro() {\n        if (this.editando && this.codPaciente > 0) {\n            this.editando = false;\n        } else {\n            this.creacionCancelada.emit('');\n        }\n    }\n}\n","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {PersonaService} from '../../services/persona.service';\n\n@Component({\n    selector: 'app-listadorefs',\n    template: `\n        <div>\n            <div class=\"row\">\n                <div class=\"col-md\">\n                    <input class=\"form-control form-rounded\" id=\"buscaPacNomCiInput\" type=\"text\"\n                           autocomplete=\"false\"\n                           placeholder=\"Buscar referente por nombres o número de cédula\" [(ngModel)]=\"filtro\"\n                           (keyup)=\"onFiltroTyped()\">\n                </div>\n                <div class=\"col-md-3\">\n                    <div class=\"d-grid\">\n                        <button class=\"btn btn-outline-primary\" (click)=\"crearPaciente()\"> Nuevo <span\n                                class=\"fa fa-plus-circle\"></span></button>\n                    </div>\n                </div>\n            </div>\n            <div style=\"padding-top: 10px\">\n                <div class=\"divpacientesemtpy rounded-lg\"\n                     *ngIf=\"pacientesArray.length===0 && filtro && filtro.trim().length>0 && !showAnim\">\n                    <div class=\"text-center\">\n                        <h3 class=\"text-muted\"> No hay resultados <i class=\"fa fa-search\"></i></h3>\n                    </div>\n                </div>\n                <div class=\"divpacientes rounded-lg\">\n                    <div *ngIf=\"showAnim\">\n                        <app-loading></app-loading>\n                    </div>\n                    <div class=\"list-group\" *ngIf=\"pacientesArray.length>0\">\n                        <a class=\"list-group-item list-group-item-action hand\" *ngFor=\"let item of pacientesArray\"\n                           (click)=\"selectPaciente(item)\">\n                            <div class=\"d-flex w-100 justify-content-between align-items-center\">\n                                <div style=\"padding-right:20px !important; width: 6%\">\n                                    <img src=\"assets/imgs/{{item.per_genero===2?'female.png':'male.png'}}\"\n                                         alt=\"Avatar\" class=\"img-fluid\">\n                                </div>\n                                <div style=\"width: 90%\">\n                                    <h6 class=\"mb-0\">{{item.nomapel}}</h6>\n                                    <div class=\"mb-0 text-muted\">\n                                        <h6>{{item.per_ciruc}}</h6>\n                                    </div>\n                                    <div class=\"mb-0 text-muted\">\n                                        <h6>{{item.lugresidencia}}</h6>\n                                    </div>\n                                </div>\n                                <div>\n                                    <i class=\"fa fa-chevron-right\"></i>\n                                </div>\n                            </div>\n                        </a>\n                        <a class=\"list-group-item list-group-item-action\" *ngIf=\"hayMasFilasPac\">\n                            <p class=\"text-center\">\n                                <button class=\"btn btn-outline-primary\" (click)=\"loadMorePacientes()\"> Listar mas\n                                </button>\n                            </p>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class ListadorefsComponent implements OnInit {\n\n    @Output() evCrearPaciente = new EventEmitter<any>();\n    @Output() evSelPaciente = new EventEmitter<any>();\n\n    filtro: string;\n    previustimer: any = 0;\n    pacientesArray: Array<any>;\n    currentPagPacientes: number;\n    showAnim: boolean;\n    hayMasFilasPac: boolean;\n\n    constructor(private personaService: PersonaService) {\n    }\n\n    ngOnInit(): void {\n        this.filtro = '';\n        this.pacientesArray = [];\n        this.currentPagPacientes = 0;\n        this.hayMasFilasPac = false;\n        this.buscarPacientes();\n    }\n\n    delayKeyup(callback, ms, prevtimer, context) {\n        clearTimeout(prevtimer);\n        return setTimeout(() => {\n            callback(context);\n        }, ms);\n    }\n\n    filtroDelayFn(context) {\n        context.currentPagPacientes = 0;\n        context.pacientesArray = [];\n        context.bottomAlcanzado = false;\n        context.buscarPacientes();\n    }\n\n    onFiltroTyped() {\n        this.previustimer = this.delayKeyup(this.filtroDelayFn, 600, this.previustimer, this);\n    }\n\n    crearPaciente() {\n        this.evCrearPaciente.emit(this.filtro);\n    }\n\n    loadMorePacientes() {\n        if (this.hayMasFilasPac) {\n            this.buscarPacientes();\n        }\n    }\n\n    buscarPacientes() {\n        this.showAnim = true;\n        this.personaService.buscarPorNomapelCiPag(this.filtro, this.currentPagPacientes).subscribe(res => {\n            if (res.status === 200) {\n                this.pacientesArray.push.apply(this.pacientesArray, res.items);\n                this.hayMasFilasPac = res.hasMore;\n                if (res.hasMore) {\n                    this.currentPagPacientes = res.nextp;\n                }\n            }\n            this.showAnim = false;\n        });\n    }\n\n    selectPaciente(item: any) {\n        this.evSelPaciente.emit(item);\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-referentes',\n    template: `\n        <h5 class=\"quitaPaddingMargin mb-2 mt-1 ms-2\">\n            <span class=\"fas fa-users\"></span> Referentes\n        </h5>\n        <app-listadorefs (evSelPaciente)=\"onSelPaciente($event)\"\n                         (evCrearPaciente)=\"onCreaPaciente($event)\"></app-listadorefs>\n\n    `\n})\nexport class ReferenteslistComponent implements OnInit {\n\n    constructor(private router: Router) {\n\n    }\n\n    ngOnInit(): void {\n    }\n\n    onSelPaciente($event: any) {\n        this.router.navigate(['referentes', $event.per_id]);\n    }\n\n    onCreaPaciente($event: any) {\n        this.router.navigate(['referentes', 0]);\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {PersonaService} from '../../services/persona.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {PersonEvService} from '../../services/personev.service';\n\n@Component({\n    selector: 'app-referenteview',\n    template: `\n        <div *ngIf=\"isLoading\">\n            <app-loading></app-loading>\n        </div>\n        <div *ngIf=\"!isLoading\">\n\n            <h5 class=\"quitaPaddingMargin mb-1 ms-2\">\n                <span class=\"fas fa-user\"></span> Datos del referente\n            </h5>\n\n            <div *ngIf=\"referente\">\n                <app-resumenref [referente]=\"referente\" (evBtnTabClic)=\"onTabRefClic($event)\"\n                                (evBtnCerrar)=\"cancelCreaRef()\" [totalestrns]=\"tottrns\"></app-resumenref>\n            </div>\n            <div *ngIf=\"tabactive===1\">\n                <app-datosref [codPaciente]=\"codref\" (pacienteLoaded)=\"onReferenteLoaded($event)\"\n                              (pacienteSaved)=\"onReferenteSaved($event)\"\n                              (datosIncompletosEv)=\"onDatosIncompletos($event)\"\n                              [datosmedicos]=\"false\"\n                              (creacionCancelada)=\"cancelCreaRef()\"></app-datosref>\n            </div>\n            <div *ngIf=\"tabactive ===3\">\n                <app-factpagos [codpaciente]=\"codref\" [clase]=\"1\"\n                               (evDeudasChange)=\"reloadStatusDeudas($event)\"></app-factpagos>\n            </div>\n            <div *ngIf=\"tabactive ===5\">\n                <app-factpagos [codpaciente]=\"codref\" [clase]=\"2\"\n                               (evDeudasChange)=\"reloadStatusDeudas($event)\"></app-factpagos>\n            </div>\n            <div *ngIf=\"tabactive ===6\">\n                <app-credreflist [codref]=\"codref\" [clase]=\"1\"\n                                 (evDeudasChange)=\"reloadStatusDeudas($event)\"></app-credreflist>\n            </div>\n            <div *ngIf=\"tabactive ===7\">\n                <app-credreflist [codref]=\"codref\" [clase]=\"2\"\n                                 (evDeudasChange)=\"reloadStatusDeudas($event)\"></app-credreflist>\n            </div>\n        </div>\n    `\n})\nexport class ReferenteviewComponent implements OnInit {\n    codref: number;\n    isLoading: boolean;\n    referente: any;\n    tabactive: number;\n    tottrns: any = {};\n\n    constructor(private personaService: PersonaService,\n                private route: ActivatedRoute,\n                private personEvService: PersonEvService,\n                private router: Router) {\n        this.isLoading = true;\n        this.route.paramMap.subscribe(params => {\n            this.codref = parseInt(params.get('codref'), 10);\n            this.isLoading = false;\n            this.loadTotalesTransacc();\n        });\n    }\n\n    ngOnInit(): void {\n        this.tabactive = 1;\n    }\n\n    onReferenteLoaded($event: any) {\n        this.referente = $event;\n    }\n\n    onReferenteSaved($event: any) {\n\n    }\n\n    onDatosIncompletos($event: any) {\n\n    }\n\n    cancelCreaRef() {\n        this.router.navigate(['referentes']);\n    }\n\n    onTabRefClic($event: any) {\n        this.tabactive = $event;\n    }\n\n    reloadStatusDeudas($event: any) {\n        this.personEvService.publishUpdateDeudaMsg();\n        this.loadTotalesTransacc();\n    }\n\n    loadTotalesTransacc() {\n        this.personaService.getTotalesTransacc(this.codref).subscribe(res => {\n            if (res.status === 200) {\n                this.tottrns = res.totales;\n            }\n        });\n    }\n}\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {PersonaService} from '../../services/persona.service';\nimport {PersonEvService} from '../../services/personev.service';\n\n@Component({\n    selector: 'app-resumenref',\n    template: `\n        <div class=\"card\"\n             *ngIf=\"referente.per_id>0\">\n            <div class=\"card-body\">\n                <div class=\"row\">\n                    <div class=\"col-md-1\">\n                        <img src=\"assets/imgs/{{referente.per_genero===2?'female.png':'male.png'}}\"\n                             alt=\"Avatar\" class=\"img-fluid\">\n                    </div>\n                    <div class=\"col-md-7\">\n                        <h5 class=\"quitaPaddingMargin\">\n                            {{referente.per_nombres + ' ' + referente.per_apellidos}}\n                        </h5>\n                        <h6 class=\"quitaPaddingMargin\">\n                            {{referente.per_ciruc}}\n                        </h6>\n                        <h6 class=\"quitaPaddingMargin\">\n                            {{referente.residencia}} {{referente.per_direccion ? ('-' + referente.per_direccion) : ''}}\n                        </h6>\n                        <h6 class=\"quitaPaddingMargin\">\n                            {{referente.per_movil}}\n                        </h6>\n                    </div>\n                    <div class=\"col-md-4\">\n                        <div class=\"bg-warning bg-gradient p-2 rounded\" *ngIf=\"totaldeuda>0||totalcxp>0\">\n                            <div *ngIf=\"totaldeuda>0\">\n                                <span> <i class=\"fa fa-warning\"></i> Cuentas por cobrar:  </span>\n                                <span class=\"fw-bold ms-1\">$ {{totaldeuda| number: '.2'}} </span>\n                            </div>\n                            <div *ngIf=\"totalcxp>0\">\n                                <span> <i class=\"fa fa-warning\"></i> Cuentas por pagar:  </span>\n                                <span class=\"fw-bold ms-1\">$ {{totalcxp| number: '.2'}} </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"card-footer d-md-flex flex-row justify-content-between flex-wrap\">\n                <div>\n                    <ul class=\"nav nav-pills\">\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link hand\" [ngClass]=\"{'active':cssIsActive(1)}\"\n                               (click)=\"selectMasterTab(1, $event)\">\n                                Datos </a>\n                        </li>\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link hand\" [ngClass]=\"{'active':cssIsActive(3)}\"\n                               (click)=\"selectMasterTab(3, $event)\">\n                                Ventas <span class=\"badge \" *ngIf=\"totalestrns?.ventas>0\"\n                                             [ngClass]=\"classBadge(3)\"> {{totalestrns.ventas}} </span> </a>\n                        </li>\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link hand\" [ngClass]=\"{'active':cssIsActive(5)}\"\n                               (click)=\"selectMasterTab(5, $event)\">\n                                Compras <span class=\"badge \" *ngIf=\"totalestrns?.compras>0\"\n                                              [ngClass]=\"classBadge(5)\"> {{totalestrns.compras}} </span> </a>\n                        </li>\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link hand\" [ngClass]=\"{'active':cssIsActive(6)}\"\n                               (click)=\"selectMasterTab(6, $event)\">\n                                Cuentas por cobrar <span *ngIf=\"totalestrns?.cxcobrar>0\"\n                                                         class=\"badge \"\n                                                         [ngClass]=\"classBadge(6)\"> {{totalestrns.cxcobrar}} </span></a>\n                        </li>\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link hand\" [ngClass]=\"{'active':cssIsActive(7)}\"\n                               (click)=\"selectMasterTab(7, $event)\">\n                                Cuentas por pagar <span *ngIf=\"totalestrns.cxpagar>0\"\n                                                        class=\"badge \"\n                                                        [ngClass]=\"classBadge(7)\"> {{totalestrns.cxpagar}} </span> </a>\n                        </li>\n                    </ul>\n                </div>\n                <div>\n                    <ul class=\"nav nav-pills\">\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link hand\" (click)=\"cerrar()\">\n                                <i class=\"fa fa-times\"></i>\n                                Cerrar</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class ResumenrefComponent implements OnInit, OnChanges {\n\n    @Input() referente: any;\n    @Output() evBtnTabClic = new EventEmitter<any>();\n    @Output() evBtnCerrar = new EventEmitter<any>();\n    @Input() totalestrns: any = {};\n    selectedMasterTab: number;\n    totaldeuda: number;\n    totalcxp: number;\n\n    constructor(private personService: PersonaService,\n                private personEvService: PersonEvService) {\n        this.personEvService.source.subscribe(msg => {\n            if (msg && msg.tipo === 1) {\n                this.loadDeudas();\n            }\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const refchange = changes.referente;\n        if (refchange?.currentValue) {\n            this.loadDeudas();\n        }\n    }\n\n    loadDeudas() {\n        if (this.referente) {\n            this.personService.getTotalDeudas(this.referente.per_id).subscribe(res => {\n                if (res.status === 200) {\n                    this.totaldeuda = res.deudas;\n                    this.totalcxp = res.totalcxp;\n                }\n            });\n        }\n    }\n\n    cssIsActive(tabnum: number) {\n        return tabnum === this.selectedMasterTab;\n    }\n\n    classBadge(tabnum: number) {\n        return tabnum === this.selectedMasterTab ? 'bg-light text-primary' : 'bg-primary text-light';\n    }\n\n    ngOnInit(): void {\n        this.totaldeuda = -1.0;\n        this.selectedMasterTab = 1;\n        if (!this.referente) {\n            this.referente = {};\n        }\n    }\n\n    selectMasterTab(btnId: number, $event: MouseEvent) {\n        this.selectedMasterTab = btnId;\n        this.evBtnTabClic.emit(btnId);\n    }\n\n    cerrar() {\n        this.evBtnCerrar.emit();\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {endOfMonth, startOfMonth, startOfWeek, startOfYear, subMonths} from 'date-fns';\n\n@Component({\n    selector: 'app-rangofechas',\n    template: `\n        <div class=\"d-flex\">\n            <div>\n                <div class=\"d-flex\" *ngIf=\"showlabels\">\n                    <p class=\"quitaPaddingMargin fw-light\">Desde:</p>\n                </div>\n                <div class=\"p-fluid\">\n                    <p-calendar [showIcon]=\"showicons\"\n                                styleClass=\"p-inputtext-sm\"\n                                [(ngModel)]=\"form.desde\"\n                                [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                (ngModelChange)=\"onDesdeChange()\"\n                                yearRange=\"2019:2050\"\n                                dateFormat=\"dd/mm/yy\"></p-calendar>\n                </div>\n            </div>\n            <div>\n                <div class=\"d-flex justify-content-between\" *ngIf=\"showlabels\">\n                    <p class=\"quitaPaddingMargin fw-light\">Hasta:</p>\n                </div>\n                <div class=\"p-fluid d-flex\">\n                    <p-calendar [showIcon]=\"showicons\"\n                                [(ngModel)]=\"form.hasta\"\n                                styleClass=\"p-inputtext-sm\"\n                                [monthNavigator]=\"true\" [yearNavigator]=\"true\" [minDate]=\"form.desde\"\n                                (ngModelChange)=\"onHastaChange()\"\n                                yearRange=\"2019:2050\"\n                                dateFormat=\"dd/mm/yy\"></p-calendar>\n\n\n                    <div class=\"ms-1 btn-group btn-group-sm dropend\">\n                        <button class=\"btn btn-light dropdown-toggle\" style=\"padding: 5px 1px !important;\"\n                                type=\"button\"\n                                id=\"dropdownMB\"\n                                data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                            <i class=\"fa fa-filter\"></i>\n                        </button>\n                        <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMB\">\n                            <a href=\"#\" (click)=\"doFilterFec(5, $event)\" class=\"dropdown-item\"> Hoy </a>\n                            <a href=\"#\" (click)=\"doFilterFec(1, $event)\" class=\"dropdown-item\"> Esta Semana </a>\n                            <a href=\"#\" (click)=\"doFilterFec(2, $event)\" class=\"dropdown-item\"> Este Mes </a>\n                            <a href=\"#\" (click)=\"doFilterFec(3, $event)\" class=\"dropdown-item\"> Mes anterior </a>\n                            <a href=\"#\" (click)=\"doFilterFec(4, $event)\" class=\"dropdown-item\"> Este Año </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class ApprangofechasComponent implements OnInit {\n\n    @Input() form: any;\n    @Input() showicons = false;\n    @Input() showlabels = true;\n\n    @Output() evDesdeChange = new EventEmitter<any>();\n    @Output() evHastaChange = new EventEmitter<any>();\n    @Output() evFilterSel = new EventEmitter<any>();\n\n    ngOnInit(): void {\n    }\n\n    doFilterFec(tipo: number, event) {\n        event.preventDefault();\n        const hoy = new Date();\n        let start = hoy;\n        let end = hoy;\n        if (tipo === 1) {// Esta semana\n            start = startOfWeek(hoy);\n        } else if (tipo === 2) {// Este mes\n            start = startOfMonth(hoy);\n        } else if (tipo === 3) {// Mes anterior\n            start = startOfMonth(subMonths(hoy, 1));\n            end = endOfMonth(start);\n        } else if (tipo === 4) {// Este año\n            start = startOfYear(hoy);\n        } else if (tipo === 5) {// Hoy\n            start = hoy;\n        }\n        this.form.desde = start;\n        this.form.hasta = end;\n        this.evFilterSel.emit(tipo);\n    }\n\n    onDesdeChange() {\n        this.evDesdeChange.emit(this.form.desde);\n    }\n\n    onHastaChange() {\n        this.evHastaChange.emit(this.form.hasta);\n    }\n\n}\n","export class BaseComponent {\n\n    public isResultOk(result) {\n        return result?.status === 200;\n    }\n}\n","import {BaseComponent} from '../base.component';\nimport {Component, EventEmitter, Input, Output} from '@angular/core';\nimport {PersonaService} from '../../../services/persona.service';\nimport {CtesService} from '../../../services/ctes.service';\nimport {DomService} from '../../../services/dom.service';\n\n@Component({\n    selector: 'app-buscaref',\n    template: `\n        <div class=\"row g-0\" *ngIf=\"form\">\n            <div class=\"p-fluid {{form?.referente?.per_id>0?'col-sm-11':'col-sm-12'}}\">\n                <p-autoComplete [(ngModel)]=\"form.referente\"\n                                [suggestions]=\"personFiltered\"\n                                (completeMethod)=\"findRefs($event)\" field=\"nomapel\"\n                                inputId=\"refAutoCom\"\n                                autofocus=\"true\"\n                                inputStyleClass=\"form-control {{form.referente?.per_id?'is-valid':'is-invalid'}}\"\n                                [delay]=\"200\"\n                                (keyup.enter)=\"onEnterRef()\"\n                                [forceSelection]=\"true\"\n                                placeholder=\"Digite los nombres o el número de cédula del referente\"\n                                (onSelect)=\"onRefSelect()\">\n                    <ng-template let-ref pTemplate=\"item\">\n                        <div>\n                            <div class=\"d-flex justify-content-between\">\n                                <span>{{ref.nomapel}}</span>\n                                <span>{{ref.per_ciruc}}</span>\n                            </div>\n                        </div>\n                    </ng-template>\n                </p-autoComplete>\n            </div>\n            <div class=\"col-sm d-flex\" *ngIf=\"form.referente?.per_id>0\">\n                <button title=\"Limpiar búsqueda\" class=\"btn btn-outline-secondary\" type=\"button\"\n                        (click)=\"limpiarRef()\">\n                    <i class=\"fa fa-eraser\"></i>\n                </button>\n            </div>\n        </div>`\n})\nexport class BuscarefComponent extends BaseComponent {\n    @Input() form: any = {};\n\n    @Output() evOnEnterRef = new EventEmitter<any>();\n    @Output() evOnSelectRef = new EventEmitter<any>();\n\n    personFiltered: Array<any> = [];\n\n    constructor(private personService: PersonaService,\n                private ctes: CtesService,\n                private domService: DomService) {\n        super();\n    }\n\n    findRefs($event: any) {\n        this.personService.buscarPorNomapelCiPag($event.query, 0).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.personFiltered = res.items;\n            }\n        });\n    }\n\n    limpiarRef() {\n        this.form.referente = {};\n        this.domService.setFocusTm(this.ctes.refAutoCom, 100);\n    }\n\n\n    onEnterRef() {\n        this.evOnEnterRef.emit('');\n    }\n\n    onRefSelect() {\n        this.evOnSelectRef.emit(this.form.referente);\n    }\n}\n","import {Component, OnInit} from '@angular/core';\n\n@Component({\n  selector: 'app-fusayfooter',\n  templateUrl: './fusayfooter.component.html',\n  styleUrls: ['./fusayfooter.component.css']\n})\nexport class FusayfooterComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"container subscription textwhite mt-5 rounded-top\">\n    <hr class=\"quitaPaddingMargin\"/>\n\n    <div class=\"row mt-4\">\n        <div class=\"col-md-6\">\n            <p class=\"d-flex justify-content-center\">\n                ¿Desea mas información?\n            </p>\n            <div class=\"d-flex justify-content-center\">\n                <img src=\"assets/imgs/Mavil_White.png\" class=\"img-fluid imgmavilpie\" alt=\"Mavil Site\">\n            </div>\n            <div class=\"d-flex justify-content-center\">\n                <ul class=\"list-inline social-icons\">\n                    <li class=\"list-inline-item\" style=\"margin: 0 20px\"><a\n                            href=\"https://www.facebook.com/mavil.site\"\n                            target=\"_blank\">\n                        <span style=\"font-size: 2em;\">\n                            <i class=\"fab fa-facebook\"></i>\n                        </span>\n                    </a></li>\n                    <li class=\"list-inline-item\" style=\"margin: 0 20px\"><a\n                            href=\"https://www.instagram.com/mavil.site/\"\n                            target=\"_blank\">\n                        <span style=\"font-size: 2em;\">\n                            <i class=\"fab fa-instagram\"></i>\n                        </span>\n                    </a></li>\n                    <li class=\"list-inline-item\" style=\"margin: 0 20px\"><a\n                            href=\"https://www.instagram.com/mavil.site/\"\n                            target=\"_blank\">\n                        <span style=\"font-size: 2em;\">\n                            <i class=\"fab fa-youtube\"></i>\n                        </span>\n                    </a></li>\n                </ul>\n            </div>\n        </div>\n        <div class=\"col-md-6\">\n            <h5 class=\"d-flex justify-content-center\">Información de Contacto</h5>\n            <div class=\"d-flex justify-content-center\">\n                <ul class=\"list-unstyled\">\n                    <li>\n                        <img src=\"assets/imgs/small/Home_Icon.png\" alt=\"\">\n                        <span>Saraguro - Loja - Ecuador</span>\n                    </li>\n                    <li>\n                        <a href=\"tel:0985039009\" class=\"mavilanchor\">\n                            <img src=\"assets/imgs/small/Whatsapp_Icon2.png\" alt=\"\">\n                            0985039009</a>\n                    </li>\n                    <li>\n                        <a href=\"mailto:agenciachel@gmail.com\" class=\"mavilanchor\">\n                            <img src=\"assets/imgs/small/Mail_Icon.png\" alt=\"\">\n                            support@mavil.site, agenciachel@gmail.com</a></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <hr class=\"quitaPaddingMargin\"/>\n    <div class=\"text-center\">\n        <p>\n            Copyright © 2021\n            <a href=\"http://agenciachel.com\" target=\"_blank\" class=\"mavilanchor\">agenciachel.com</a>\n        </p>\n    </div>\n</div>\n\n","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-fusaynavbar',\n    templateUrl: './fusaynavbar.component.html',\n    styleUrls: ['./fusaynavbar.component.css']\n})\nexport class FusaynavbarComponent implements OnInit {\n\n    constructor(private router: Router) {\n    }\n\n    ngOnInit() {\n    }\n\n    goToLogin() {\n        this.router.navigate(['login']);\n    }\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light bg-light border-bottom\">\n    <div class=\"container\">\n        <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarTogglerDemo01\"\n                aria-controls=\"navbarTogglerDemo01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        <div>\n            <a class=\"navbar-brand\" href=\"#\">MAVIL</a>\n        </div>\n\n        <div class=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\n            <ul class=\"navbar-nav me-auto mt-2 mt-lg-0\">\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" href=\"#\">\n                        <span class=\"fa fa-home\"></span>\n                        Inicio <span class=\"sr-only\">(current)</span></a>\n                </li>\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" href=\"#\">Características</a>\n                </li>\n            </ul>\n            <form class=\"d-flex my-2 my-lg-0\">\n                <button class=\"btn btn-outline-primary my-2 my-sm-0 letras colormavil\" (click)=\"goToLogin()\"\n                        title=\"Ingresar al sistema\">\n                    <span class=\"fas fa-sign-in-alt\"></span>\n                    <span>Ingresar</span>\n                </button>\n            </form>\n        </div>\n    </div>\n</nav>\n\n","import {Component, OnInit} from '@angular/core';\nimport {FautService} from '../../../services/faut.service';\n\n@Component({\n    selector: 'app-appfooter',\n    styles: [\n            `.footer {\n            background-color: #F3F4F7 !important;\n            border-top: solid 1px #e2e3e6;\n            font-size: 12px;\n        }\n        `],\n    template: `\n        <div class=\"footer h-auto py-5\">\n            <div class=\"text-center\">\n                <p class=\"text-muted\">Copyright © 2021 Mavil <span>v{{versionApp}}</span> <a\n                        href=\"http://agenciachel.com\" target=\"_blank\">\n                    agenciachel.com</a></p>\n            </div>\n        </div>\n    `\n})\nexport class AppfooterComponent implements OnInit {\n    versionApp = '';\n\n    constructor(private fautService: FautService) {\n\n    }\n\n    ngOnInit() {\n        this.fautService.source.subscribe(msg => {\n            if (msg === 'loadvapp') {\n                this.versionApp = this.fautService.getVersionApp() || '';\n            }\n        });\n    }\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light bg-light shadow-sm\">\n    <div class=\"container-fluid\">\n\n\n        <button class=\"btn btn-sm btn-outline-primary me-2\" (click)=\"toggleSidebar()\" title=\"Menú de opciones\">\n            <i class=\"fa fa-bars\"></i>\n        </button>\n        <a class=\"navbar-brand d-flex\" href=\"#\"\n           title=\"Mavil, registrado a nombre de {{empNombreComercial}}, sección actual: {{seccion.sec_nombre}}\">\n            <div class=\"d-flex justify-content-center align-items-center\">\n                <img src=\"/assets/imgs/logomavilsm.png\">\n            </div>\n            <span class=\"ms-2\">{{empNombreComercial}}</span>\n            <div class=\"d-flex ms-1 align-items-end\">\n                <small>{{seccion.sec_nombre}}</small>\n            </div>\n        </a>\n        <button class=\"btn btn-sm btn-outline-primary ms-2\" (click)=\"goHome()\" title=\"Ir al inicio\">\n            <span class=\"fa fa-home\"></span>\n        </button>\n        <div class=\"w-100 d-flex flex-row-reverse\">\n            <div class=\"d-none d-md-inline d-lg-inline-block d-xl-inline-block\" id=\"navbarSupportedContent\">\n                <ul class=\"navbar-nav d-flex flex-row\">\n                    <li class=\"nav-item dropdown\" *ngIf=\"ttpdvs.length>1\">\n                        <a class=\"nav-link text-primary dropdown-bs-toggle\" href=\"#\" id=\"dropdownPtoEmi\"\n                           role=\"button\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\"\n                           aria-expanded=\"false\" title=\"PtoEmision\">\n                            PtoEmi\n                        </a>\n                        <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"dropdownPtoEmi\">\n                            <li *ngFor=\"let ttpdv of ttpdvs\">\n                                <button class=\"dropdown-item\" type=\"button\" (click)=\"cambiarTtpdv(ttpdv)\">\n                                    <i *ngIf=\"ttpdv.tdv_codigo === currTdvcod\" class=\"fa fa-check\"></i>\n                                    {{ttpdv.tdv_numero}}- {{ttpdv.tdv_nombre}}\n                                </button>\n                            </li>\n                        </ul>\n                    </li>\n\n                    <li class=\"nav-item dropdown\" *ngIf=\"secciones.length>1\">\n                        <a class=\"nav-link text-primary dropdown-toggle\" href=\"#\" id=\"dropdownSeccion\"\n                           role=\"button\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\"\n                           aria-expanded=\"false\" title=\"Seccion\">\n                            Sección\n                        </a>\n                        <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"dropdownSeccion\">\n                            <li *ngFor=\"let sec of secciones\">\n                                <button class=\"dropdown-item\" type=\"button\" (click)=\"cambiarSeccion(sec)\">\n                                    <i *ngIf=\"sec.sec_id === seccion.sec_id\" class=\"fa fa-check\"></i>\n                                    {{sec.sec_nombre}}\n                                </button>\n                            </li>\n                        </ul>\n                    </li>\n                    <li class=\"nav-item dropdown\">\n                        <a class=\"nav-link text-primary dropdown-toggle\" href=\"#\" id=\"navbarDropdown\"\n                           role=\"button\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\"\n                           aria-expanded=\"false\" title=\"{{userinfo?.per_nombres + ' ' + userinfo?.per_apellidos}}\">\n                            <i class=\"fas fa-user\"></i>\n                            {{userinfo?.per_nombres?.charAt(0) + userinfo?.per_apellidos?.charAt(0)}}\n                        </a>\n                        <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"navbarDropdown\">\n                            <li>\n                                <button class=\"dropdown-item\"\n                                        type=\"button\">{{userinfo.per_nombres + ' ' + userinfo.per_apellidos}}</button>\n                            </li>\n                            <li>\n                                <button class=\"dropdown-item\" type=\"button\" (click)=\"logout()\">\n                                    <i class=\"fas fa-sign-out-alt\"></i>\n                                    Salir\n                                </button>\n                            </li>\n                        </ul>\n                    </li>\n\n                </ul>\n\n                <!--\n                <ul class=\"navbar-nav d-none d-md-block d-lg-block d-xl-block\">\n\n                </ul>\n                <ul class=\"navbar-nav d-none d-md-block d-lg-block d-xl-block\">\n\n                </ul>\n                -->\n\n            </div>\n        </div>\n    </div>\n\n</nav>\n<div>\n    <p-sidebar [(visible)]=\"isSideVisible\" styleClass=\"quitaPaddingMargin\" [blockScroll]=\"true\" position=\"left\"\n               [closeOnEscape]=\"true\">\n        <div class=\"mt-1 d-flex flex-column align-items-center\">\n            <span>\n                <img src=\"/assets/imgs/logomavilsm.png\">\n            </span>\n            <span class=\"fw-light fontsizesm\">{{userinfo?.per_nombres + ' ' + userinfo?.per_apellidos}}</span>\n            <div>\n                <a class=\"dropdown-item fontsizexsm\" href=\"#\" (click)=\"logout()\">\n                    <i class=\"fas fa-sign-out-alt\"></i> Salir\n                </a>\n            </div>\n        </div>\n\n        <div class=\"mt-2 leftpanel\">\n            <div>\n                <p-panelMenu [model]=\"menuApp\" [transitionOptions]=\"'0ms'\" [style]=\"{'width':'100%'}\"\n                             [multiple]=\"false\" styleClass=\"quitaPaddingMargin\"></p-panelMenu>\n            </div>\n            <div class=\"mt-3 w-100 d-flex align-items-center justify-content-center\">\n                <span class=\"fontsizexsm text-muted\"> Mavil V{{versionApp}} </span>\n            </div>\n        </div>\n    </p-sidebar>\n</div>\n\n","import {Component, OnInit} from '@angular/core';\nimport {FautService} from '../../../services/faut.service';\nimport {NavigationEnd, NavigationStart, Router, RouterEvent} from '@angular/router';\nimport {MenuItem} from 'primeng/api';\nimport {filter} from 'rxjs/operators';\nimport {TtpdvService} from '../../../services/ttpdv.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {SeccionService} from '../../../services/seccion.service';\n\n@Component({\n    selector: 'app-loggednavbar',\n    templateUrl: './loggednavbar.component.html',\n    styles: [\n            `.leftpanel {\n            overflow-y: scroll;\n            height: calc(100vh - 85px);\n        }\n        `]\n})\nexport class LoggednavbarComponent implements OnInit {\n    userinfo: any;\n    seccion: any;\n    empNombreComercial: any;\n    menuApp: MenuItem[];\n    isLogged: boolean;\n    isSideVisible = false;\n    versionApp = '';\n    secciones: Array<any> = [];\n    ttpdvs: Array<any> = [];\n    currTdvcod = 1;\n\n    constructor(private fautService: FautService,\n                private swalService: SwalService,\n                private seccionService: SeccionService,\n                private ttpdvService: TtpdvService,\n                private router: Router) {\n        this.userinfo = {};\n        this.menuApp = [];\n        router.events.pipe(\n            filter((ev): ev is RouterEvent => {\n                return ev instanceof RouterEvent;\n            })\n        ).subscribe((evn: RouterEvent) => {\n            if (evn instanceof NavigationStart) {\n                this.isSideVisible = false;\n            } else if (evn instanceof NavigationEnd) {\n                // console.log('Evento NavigationEnd: ', evn);\n            }\n        });\n    }\n\n    ngOnInit() {\n        const userInfoSaved = this.fautService.getUserInfoSaved();\n        if (userInfoSaved) {\n            this.userinfo = userInfoSaved;\n        }\n        this.loadSeciones();\n        this.loadTtpdvs();\n\n        this.empNombreComercial = this.fautService.getNombreComercialSaved();\n        if (!this.empNombreComercial) {\n            this.empNombreComercial = 'SmartFact';\n        }\n\n        const menuAppCli = this.fautService.getMenuApp();\n        if (menuAppCli) {\n            this.menuApp = menuAppCli;\n        }\n\n        this.fautService.source.subscribe(msg => {\n            if (msg === 'updateSeccion') {\n                this.seccion = this.fautService.getSeccionInfoSaved();\n            } else if (msg === 'updateTdvcod') {\n                this.currTdvcod = this.fautService.getTdvCodigo();\n            } else if (msg === 'logout') {\n                this.isLogged = false;\n            } else if (msg === 'login') {\n                this.isLogged = true;\n            } else if (msg === 'loadmenu') {\n                const menu = this.fautService.getMenuApp();\n                if (menu) {\n                    this.menuApp = menu;\n                }\n            } else if (msg === 'loadvapp') {\n                this.versionApp = this.fautService.getVersionApp() || '';\n            } else if (msg === 'updateSecciones') {\n                this.loadSeciones();\n            } else if (msg === 'updateTtpdvs') {\n                this.loadTtpdvs();\n            }\n\n            if (this.isLogged) {\n            }\n        });\n        this.isLogged = this.fautService.isAuthenticated();\n    }\n\n    logout() {\n        this.fautService.clearInfoAuthenticated();\n        this.fautService.publishMessage('logout');\n        this.router.navigate(['/']);\n    }\n\n    goHome() {\n        this.router.navigate(['lghome']);\n    }\n\n    cambiarTtpdv(ttpdv) {\n        this.ttpdvService.setTdvcodigo(ttpdv.tdv_codigo).subscribe(res => {\n            if (res.status === 200) {\n                this.swalService.fireToastSuccess('Nuevo punto de emisión seleccionado');\n                this.fautService.updateTokenAndTdvcod(res.token, ttpdv.tdv_codigo);\n            }\n        });\n    }\n\n    cambiarSeccion(seccion) {\n        this.seccionService.setSeccion(seccion.sec_id).subscribe(res => {\n            if (res.status === 200) {\n                this.swalService.fireToastSuccess('Nueva sección seleccionada');\n                this.fautService.updateTokenAndSec(res.token, res.seccion);\n                this.seccion = res.seccion;\n                this.fautService.publishMessage('updateSeccion');\n                this.fautService.setTtpdvs(res.ttpdvs);\n                this.fautService.updateTokenAndTdvcod(res.token, res.tdv_codigo);\n                this.fautService.publishMessage('updateTtpdvs');\n            }\n        });\n    }\n\n    loadSeciones() {\n        this.secciones = this.fautService.getSecciones();\n        this.seccion = this.fautService.getSeccionInfoSaved();\n    }\n\n    loadTtpdvs() {\n        this.ttpdvs = this.fautService.getTtpdvs();\n        this.currTdvcod = this.fautService.getTdvCodigo();\n    }\n\n    toggleSidebar() {\n        this.isSideVisible = !this.isSideVisible;\n    }\n}\n","import {Component} from '@angular/core';\n\n@Component({\n    selector: 'app-start',\n    templateUrl: './start.component.html'\n})\nexport class StartComponent {\n    constructor() {\n    }\n}\n","<div class=\"text-center\">\n    <img src=\"assets/imgs/MavilCuadro.png\" alt=\"Sistema de facturación, contable, citas médicas y citas odontológicas\"\n         class=\"img-fluid\">\n    <p class=\"lead\" style=\"margin-top: 30px\">Sistema de facturación, contable, citas médicas y citas odontológicas.</p>\n</div>\n<br>\n\n<div>\n    <div class=\"row row-cols-md-3 mb-3\">\n        <div class=\"col\">\n            <div class=\"card mb-4 shadow-sm border-primary\">\n                <div class=\"card-header\">\n                    <div class=\"my-0 fw-normal\">\n                        <h6 class=\"quitaPaddingMargin\">Mavil</h6>\n                        <h2 class=\"quitaPaddingMargin\">Standar</h2>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row quitaPaddingMargin\">\n                        <div class=\"col-8\"></div>\n                        <div class=\"col-4\"><h3 class=\"card-title pricing-card-title\"> &nbsp; </h3></div>\n                    </div>\n                    <h3 class=\"card-title pricing-card-title\">Registro: $30</h3>\n                    <ul class=\"list-unstyled mt-3 mb-4\">\n                        <li>1 - 500 Pacientes</li>\n                        <li>1 Usuario</li>\n                        <li><h1>$25,00</h1></li>\n                        <li>Pago Mensual</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class=\"col\">\n            <div class=\"card mb-4 shadow-sm azulmavil text-white\">\n                <div class=\"card-header\">\n                    <div class=\"my-0 fw-normal\">\n                        <h6 class=\"quitaPaddingMargin\">Mavil</h6>\n                        <h2 class=\"quitaPaddingMargin\">Pro</h2>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row quitaPaddingMargin\">\n                        <div class=\"col-8\"></div>\n                        <div class=\"col-4 quitaPaddingMargin\"><h3\n                                class=\"card-title pricing-card-title quitaPaddingMargin\">\n                            $30 </h3></div>\n                    </div>\n                    <div class=\"row quitaPaddingMargin\">\n                        <div class=\"col-8 d-flex flex-row-reverse quitaPaddingMargin\"><h3\n                                class=\"card-title pricing-card-title\">Registro: </h3></div>\n                        <div class=\"col-4 quitaPaddingMargin\"><h3\n                                class=\"card-title pricing-card-title quitaPaddingMargin\">\n                            <span style=\"text-decoration: line-through;\" class=\"text-secondary\"> $40 </span></h3></div>\n                    </div>\n                    <ul class=\"list-unstyled mt-3 mb-4\">\n                        <li>500 - 5k Pacientes</li>\n                        <li>1 Usuario</li>\n                        <li><h1>$30,00</h1></li>\n                        <li>Pago Mensual</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n        <div class=\"col\">\n            <div class=\"card mb-4 shadow-sm border-primary\">\n                <div class=\"card-header\">\n                    <div class=\"my-0 fw-normal\">\n                        <h6 class=\"quitaPaddingMargin\">Mavil</h6>\n                        <h2 class=\"quitaPaddingMargin\">Enterprise</h2>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row quitaPaddingMargin\">\n                        <div class=\"col-8\"></div>\n                        <div class=\"col-4 quitaPaddingMargin\"><h3\n                                class=\"card-title pricing-card-title quitaPaddingMargin\"></h3></div>\n                    </div>\n                    <div class=\"row quitaPaddingMargin\">\n                        <div class=\"col-8 d-flex flex-row-reverse quitaPaddingMargin\"><h3\n                                class=\"card-title pricing-card-title\">Registro: </h3></div>\n                        <div class=\"col-4 quitaPaddingMargin\"><h3\n                                class=\"card-title pricing-card-title quitaPaddingMargin\">\n                            $$ </h3></div>\n                    </div>\n                    <ul class=\"list-unstyled mt-3 mb-4\">\n                        <li> Nro pacientes sin límite</li>\n                        <li> Múltiples usuarios</li>\n                        <li> Múltiples módulos</li>\n                        <li><h1> $$$ </h1></li>\n                        <li> Pago Mensual</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","<h4>Tickets</h4>\n\n<div *ngIf=\"isLoading\">\n    <app-loading></app-loading>\n</div>\n\n<div *ngIf=\"!isLoading\">\n    <div class=\"row mb-3\">\n        <div class=\"col-md-3\">\n            <app-rangofechas [form]=\"form\"\n                             (evDesdeChange)=\"onDesdeChange($event)\"\n                             (evHastaChange)=\"onHastaChange($event)\"\n                             (evFilterSel)=\"onTipoFiltroChange()\">\n            </app-rangofechas>\n        </div>\n        <div class=\"col-md-5\">\n            <div>\n                <p class=\"quitaPaddingMargin fw-light\">Tipo:</p>\n                <div class=\"p-fluid\">\n                    <p-multiSelect [options]=\"servicios\" [(ngModel)]=\"selectedServices\" [filter]=\"false\"\n                                   defaultLabel=\"Filtrar por tipo de servicio\"\n                                   optionLabel=\"ic_nombre\" optionValue=\"ic_id\"></p-multiSelect>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-2\">\n            <div>\n                <p class=\"quitaPaddingMargin fw-light\">Sección:</p>\n                <div class=\"p-fluid\">\n                    <p-dropdown [options]=\"secciones\" [(ngModel)]=\"selectedSection\" (onChange)=\"loadGrid()\"\n                                optionLabel=\"sec_nombre\"\n                                optionValue=\"sec_id\">\n                    </p-dropdown>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-2 d-flex justify-content-end align-items-end\">\n            <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n                <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"loadGrid()\">\n                    <i class=\"fa fa-search\"></i> Buscar\n                </button>\n                <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"nuevo()\">\n                    <i class=\"fa fa-plus-circle\"></i> Crear\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <p-table [value]=\"items\" [paginator]=\"true\" [rows]=\"50\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\n             (onRowSelect)=\"onRowSelect($event)\"\n             [responsive]=\"true\"\n             [autoLayout]=\"false\"\n             [resizableColumns]=\"true\"\n             [(contextMenuSelection)]=\"selectedItem\"\n             [contextMenu]=\"cm\"\n             (onRowUnselect)=\"onUnRowSelect($event)\">\n        <ng-template pTemplate=\"header\">\n            <tr>\n                <th *ngFor=\"let item of cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\"\n                    [width]=\"item.width\">\n                    {{item.label}}\n                    <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n                </th>\n                <th>\n                    Acción\n                </th>\n            </tr>\n        </ng-template>\n        <ng-template pTemplate=\"body\" let-rowData>\n            <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\" (dblclick)=\"onRowDblClick(rowData)\">\n                <td *ngFor=\"let item of cols\">\n                    <span class=\"p-column-title\">{{item.label}}</span>\n                    <span class=\"fontsizesm\">\n                    {{rowData[item['field']]}}\n                    </span>\n                </td>\n                <td>\n                    <button class=\"btn btn-sm btn-outline-dark\" (click)=\"verDetalles(rowData)\" title=\"Ver Detalles\">\n                        <i class=\"fa fa-eye\"></i>\n                    </button>\n                </td>\n            </tr>\n        </ng-template>\n        <ng-template pTemplate=\"footer\">\n            <tr>\n                <td [colSpan]=\"cols.length-1\">\n                    <span class=\"fw-bold\">Total:  </span>\n                </td>\n                <td>{{total}}</td>\n                <td></td>\n            </tr>\n        </ng-template>\n        <ng-template pTemplate=\"emptymessage\" let-columns>\n            <tr>\n                <td [attr.colspan]=\"cols.length+1\">\n                    <span class=\"text-muted\">No hay registros</span>\n                </td>\n            </tr>\n        </ng-template>\n    </p-table>\n</div>\n\n\n<p-contextMenu #cm [model]=\"itemsCtxMenu\"></p-contextMenu>\n\n<p-dialog header=\"Detalles del ticket\" [modal]=\"true\" [style]=\"{width: '90vw'}\" [autoZIndex]=\"true\"\n          [(visible)]=\"isShowDetTk\">\n    <app-ticketview [tkid]=\"tksel.tk_id\" (evCerrar)=\"closeModalTicket()\" (evReload)=\"loadGrid()\"></app-ticketview>\n</p-dialog>\n\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {TicketService} from '../../../services/ticket.service';\nimport {parse} from 'date-fns';\nimport {SwalService} from '../../../services/swal.service';\nimport {FechasService} from '../../../services/fechas.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {MenuItem} from 'primeng/api';\n\n@Component({\n    selector: 'app-ticket',\n    templateUrl: './ticket.component.html'\n})\nexport class TicketComponent implements OnInit {\n\n    items: Array<any>;\n    cols: Array<any>;\n    selectedItem: any;\n    dia: Date;\n    enableBtns: boolean;\n\n    itemsCtxMenu: MenuItem[];\n    total: any;\n    desde: Date;\n    hasta: Date;\n    servicios: Array<any>;\n    selectedServices: Array<any>;\n    selectedSection: any;\n    secciones: Array<any>;\n    isLoading = false;\n    form: any;\n    isShowDetTk = false;\n    tksel: any = {};\n\n    constructor(private router: Router,\n                private route: ActivatedRoute,\n                private swalService: SwalService,\n                private fechasService: FechasService,\n                private ticketService: TicketService,\n                private loadingUiService: LoadingUiService) {\n    }\n\n    ngOnInit() {\n        this.form = {desde: new Date(), hasta: new Date(), desdestr: '', hastastr: ''};\n        this.selectedServices = [];\n        this.selectedSection = 0;\n        this.items = [];\n        this.cols = [];\n        this.servicios = [];\n        this.total = 0.0;\n\n        this.isLoading = true;\n        this.ticketService.getFormListado().subscribe(res => {\n            this.dia = parse(res.dia, 'd/M/yyyy', new Date());\n            this.desde = parse(res.desde, 'd/M/yyyy', new Date());\n            this.hasta = parse(res.hasta, 'd/M/yyyy', new Date());\n\n            this.form.desde = this.desde;\n            this.form.hasta = this.hasta;\n            this.form.desdestr = res.desde;\n            this.form.hastastr = res.hasta;\n            this.selectedSection = res.sec_def;\n            this.secciones = res.secciones;\n            this.servicios = res.prods;\n            this.isLoading = false;\n            this.loadGrid();\n        });\n\n        this.itemsCtxMenu = [\n            {label: 'Imprimir', icon: 'fa fa-print', command: (event) => this.imprimirRow(this.selectedItem)},\n            {label: 'Anular', icon: 'fa fa-trash', command: (event) => this.anularRow(this.selectedItem)}\n        ];\n\n    }\n\n    onRowSelect(event) {\n        this.enableBtns = true;\n    }\n\n    onUnRowSelect(event) {\n        this.enableBtns = false;\n    }\n\n    loadGrid() {\n        this.isLoading = true;\n        const diaStr = this.fechasService.formatDate(this.dia);\n        const servicios = this.selectedServices ? this.selectedServices.toString() : '';\n        this.ticketService.listar(diaStr, this.form.desdestr, this.form.hastastr, this.selectedSection, servicios).subscribe(res => {\n            this.cols = res.res.cols;\n            this.items = res.res.data;\n            this.total = res.suma;\n            this.isLoading = false;\n        });\n    }\n\n    nuevo() {\n        this.router.navigate(['ticket', 'form']);\n    }\n\n    imprimir() {\n        if (this.selectedItem) {\n            this.ticketService.imprimir(this.selectedItem.tk_id);\n        }\n    }\n\n    verDetalles(row) {\n        this.tksel = row;\n        this.showModalTicket();\n    }\n\n    imprimirRow(row) {\n        this.ticketService.imprimir(row.tk_id);\n    }\n\n    anular() {\n        if (this.selectedItem) {\n            this.swalService.fireDialog('¿Confirma que desea anular este ticket?', '').then(confirm => {\n                    if (confirm.value) {\n                        this.loadingUiService.publishBlockMessage();\n                        this.ticketService.anular(this.selectedItem.tk_id).subscribe(res => {\n                            if (res.status === 200) {\n                                this.swalService.fireToastSuccess(res.msg);\n                                this.loadGrid();\n                            }\n                        });\n                    }\n                }\n            );\n        }\n    }\n\n    anularRow(row) {\n        this.tksel = row;\n        this.showModalTicket();\n        this.swalService.fireDialog('¿Confirma que desea anular este ticket?', '').then(confirm => {\n                if (confirm.value) {\n                    this.loadingUiService.publishBlockMessage();\n                    this.ticketService.anular(row.tk_id).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadGrid();\n                        }\n                    });\n                }\n            }\n        );\n    }\n\n    onDesdeChange($event: any) {\n        this.form.desdestr = this.fechasService.formatDate(this.form.desde);\n    }\n\n    onHastaChange($event: any) {\n        this.form.hastastr = this.fechasService.formatDate(this.form.hasta);\n    }\n\n    onTipoFiltroChange() {\n        this.onDesdeChange(null);\n        this.onHastaChange(null);\n        this.loadGrid();\n    }\n\n    closeModalTicket() {\n        this.isShowDetTk = false;\n    }\n\n    showModalTicket() {\n        this.isShowDetTk = true;\n    }\n\n    onRowDblClick(rowData) {\n        this.verDetalles(rowData);\n    }\n}\n","<div *ngIf=\"isLoading\">\n    <app-loading></app-loading>\n</div>\n<div *ngIf=\"!isLoading\">\n    <div class=\"row justify-content-center\">\n        <div class=\"col-md-10\">\n            <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"row\">\n                        <div class=\"col-md-3\">\n                            <h3>Nuevo Ticket</h3>\n                        </div>\n                        <div class=\"col-md-2 d-flex\">\n                            <span class=\"me-2\">#</span>\n                            <input type=\"text\" class=\"form-control text-primary\" id=\"nroImput\" placeholder=\"Nro\"\n                                   [(ngModel)]=\"form.tk_nro\">\n                        </div>\n                        <div class=\"col-md-4\">\n                            <i class=\"fa fa-calendar\"></i>\n                            <span> {{form.dia_str}} </span>\n                        </div>\n                        <div class=\"col-md-3 d-flex\">\n                            <span class=\"fw-bold me-2\">Sección:</span>\n                            <span>{{seccion.sec_nombre}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card-body\">\n                    <div class=\"row\">\n                        <div class=\"col-md\">\n                            <form>\n                                <div class=\"mb-3\">\n                                    <label for=\"ciPasInput\" class=\"text-primary\">Número Cédula/Pasaporte:</label>\n                                    <input type=\"text\" maxlength=\"15\" class=\"form-control\"\n                                           (keyup.enter)=\"setFocus('nomApelInput')\" id=\"ciPasInput\" name=\"per_ciruc\"\n                                           (blur)=\"buscarPersona()\" [(ngModel)]=\"formcli.per_ciruc\" placeholder=\"\"\n                                           autocomplete=\"off\">\n                                </div>\n\n                                <div class=\"mb-3\">\n                                    <label for=\"nomApelInput\" class=\"text-primary\">\n                                        <span class=\"required\">*</span>\n                                        Nombres:</label>\n                                    <input type=\"text\" maxlength=\"80\" class=\"form-control\"\n                                           (keyup)=\"$event.target.value=$event.target.value.toUpperCase()\"\n                                           (keyup.enter)=\"setFocus('ApelInput')\" id=\"nomApelInput\" name=\"per_nombres\"\n                                           [(ngModel)]=\"formcli.per_nombres\" placeholder=\"\" autocomplete=\"off\">\n                                </div>\n\n                                <div class=\"mb-3\">\n                                    <label for=\"ApelInput\" class=\"text-primary\">Apellidos:</label>\n                                    <input type=\"email\" maxlength=\"80\" class=\"form-control \" id=\"ApelInput\"\n                                           (keyup)=\"$event.target.value=$event.target.value.toUpperCase()\"\n                                           (keyup.enter)=\"setFocus('numCelInput')\" name=\"per_apellidos\"\n                                           [(ngModel)]=\"formcli.per_apellidos\" placeholder=\"\" autocomplete=\"off\">\n                                </div>\n\n                                <div class=\"mb-3\">\n                                    <label for=\"numCelInput\" class=\"text-primary\">\n                                        <i class=\"fa fa-phone\"></i>\n                                        Nro Teléfono Celular:</label>\n                                    <input type=\"email\" class=\"form-control \" id=\"numCelInput\"\n                                           (keyup.enter)=\"setFocus('emailInput')\" name=\"per_movil\"\n                                           [(ngModel)]=\"formcli.per_movil\" placeholder=\"\" autocomplete=\"off\">\n                                </div>\n\n                                <div class=\"mb-3\">\n                                    <label for=\"emailInput\" class=\"text-primary\">\n                                        <i class=\"fa fa-envelope\"></i>\n                                        Email:</label>\n                                    <input type=\"email\" class=\"form-control \" id=\"emailInput\" name=\"per_email\"\n                                           (keyup.enter)=\"setFocus('obsInput')\" [(ngModel)]=\"formcli.per_email\"\n                                           placeholder=\"\" autocomplete=\"off\">\n                                </div>\n\n                                <div class=\"mb-3\">\n                                    <label for=\"obsInput\" class=\"text-primary\">\n                                        <i class=\"fa fa-sticky-note\"></i>\n                                        Observación</label>\n                                    <textarea class=\"form-control\" id=\"obsInput\" maxlength=\"800\" name=\"tk_obs\"\n                                              [(ngModel)]=\"form.tk_obs\" rows=\"5\"></textarea>\n                                </div>\n\n                            </form>\n                        </div>\n                        <div class=\"col-md\">\n                            <div class=\"mb-3\">\n                                <label for=\"emailInput\" class=\"text-primary\">\n                                    <span class=\"required\">*</span>\n                                    <i class=\"fa fa-usd\"></i> Costo:</label>\n                                <input type=\"email\" class=\"form-control \" id=\"costoInput\" name=\"per_email\"\n                                       [(ngModel)]=\"form.tk_costo\" placeholder=\"\" autocomplete=\"off\">\n                            </div>\n\n                            <div>\n                                <div>\n                                    <span class=\"text-primary\">Lugar de residencia:</span>\n                                </div>\n                                <div>\n                                    <p-dropdown [options]=\"lugares\" id=\"catic_id\"\n                                                [(ngModel)]=\"formcli.per_lugresidencia\"\n                                                [virtualScroll]=\"true\"\n                                                placeholder=\"Seleccione el lugar de residencia\"\n                                                [showClear]=\"true\"\n                                                [style]=\"{width:'100%', overflow:'visible'}\"\n                                                [filterMatchMode]=\"'startsWith'\"\n                                                filter=\"true\"\n                                                itemSize=\"50\"\n                                                optionLabel=\"lug_nombre\"\n                                                inputId=\"per_lugresidencia\"></p-dropdown>\n                                </div>\n                            </div>\n\n                            <div class=\"mt-3\">\n                                <div>\n                                    <span class=\"text-primary\">Dirección:</span>\n                                </div>\n                                <div>\n                                    <input type=\"text\" class=\"form-control\"\n                                           [(ngModel)]=\"formcli.per_direccion\"\n                                           autocomplete=\"false\" maxlength=\"80\">\n                                </div>\n                            </div>\n\n                            <div class=\"card mt-3\">\n                                <div class=\"card-header\">\n                                    <span class=\"text-primary\"> Servicios: </span>\n                                </div>\n                                <ul class=\"list-group list-group-flush\">\n                                    <li class=\"list-group-item hand list-group-item-action {{item.ic_marca?'list-group-item-primary':''}}\"\n                                        *ngFor=\"let item of servicios\" (click)=\"selectService(item)\"><i\n                                            *ngIf=\"item.ic_marca\" class=\"far fa-check-circle\"></i>\n                                        {{item.ic_nombre}} </li>\n                                </ul>\n                            </div>\n\n                            <div class=\"mt-3 d-flex justify-content-around\">\n                                <button type=\"button\" class=\"btn btn-lg btn-outline-primary\"\n                                        (click)=\"guardar()\">\n                                    <i class=\"fa fa-save\"></i> <span class=\"ms-2\">Guardar</span>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-lg btn-outline-secondary\"\n                                        (click)=\"cancelar()\">\n                                    <i class=\"fa fa-times\"></i> <span class=\"ms-2\">Cancelar</span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {TicketService} from '../../../services/ticket.service';\nimport {PersonaService} from '../../../services/persona.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {LugarService} from '../../../services/lugar.service';\nimport {ArrayutilService} from '../../../services/arrayutil.service';\nimport {forkJoin} from 'rxjs';\nimport {DomService} from '../../../services/dom.service';\n\n@Component({\n    selector: 'app-ticketform',\n    templateUrl: './ticketform.component.html'\n})\nexport class TicketformComponent implements OnInit {\n\n    servicios: Array<any>;\n    form: any;\n    formcli: any;\n    seccion: any;\n    lugares: Array<any>;\n    isLoading = false;\n\n    constructor(private router: Router,\n                private route: ActivatedRoute,\n                private tkService: TicketService,\n                private swalService: SwalService,\n                private domService: DomService,\n                private personaService: PersonaService,\n                private arrayUtil: ArrayutilService,\n                private lugarService: LugarService,\n                private loadingUiService: LoadingUiService) {\n    }\n\n    ngOnInit() {\n        this.isLoading = true;\n        this.servicios = new Array<any>();\n        this.formcli = {};\n        this.form = {};\n        this.seccion = {};\n\n        const formCreaObs = this.tkService.getFormCrea();\n        const servObs = this.tkService.getProdsForTickets();\n        const lugsObs = this.lugarService.listarTodos();\n\n        forkJoin([formCreaObs, servObs, lugsObs]).subscribe(res => {\n            if (res[0].status === 200) {\n                this.form = res[0].form;\n                this.formcli = res[0].formcli;\n                this.seccion = res[0].seccion;\n            }\n            if (res[1].status === 200) {\n                this.servicios = res[1].items;\n            }\n            if (res[2].status === 200) {\n                this.lugares = res[2].items;\n            }\n            this.isLoading = false;\n            this.domService.setFocusTm('ciPasInput', 300);\n        });\n    }\n\n    buscarPersona() {\n        if (this.formcli.per_ciruc && this.formcli.per_ciruc.trim().length > 4) {\n            this.loadingUiService.publishBlockMessage();\n            this.personaService.buscarPorCi(this.formcli.per_ciruc).subscribe(res => {\n                if (res.status === 200) {\n                    this.formcli.per_id = res.persona.per_id;\n                    this.formcli.per_nombres = res.persona.per_nombres;\n                    this.formcli.per_apellidos = res.persona.per_apellidos;\n                    this.formcli.per_movil = res.persona.per_movil;\n                    this.formcli.per_email = res.persona.per_email;\n                    this.formcli.per_lugresidencia = null;\n                    this.formcli.per_direccion = res.persona.per_direccion;\n                    if (res.persona.per_lugresidencia) {\n                        this.formcli.per_lugresidencia = this.arrayUtil.getFirstResult(\n                            this.lugares, el => {\n                                return el.lug_id === res.persona.per_lugresidencia;\n                            }\n                        );\n                    }\n                }\n            });\n        }\n    }\n\n    setFocus(inputid) {\n        this.domService.setFocus(inputid);\n    }\n\n    selectService(item: any) {\n        item.ic_marca = !item.ic_marca;\n    }\n\n    cancelar() {\n        this.router.navigate(['tickets']);\n    }\n\n    guardar() {\n        this.form.tk_servicios = this.tkService.getCodServicios(this.servicios);\n        if (this.tkService.isDataValid(this.form, this.formcli, this.swalService)) {\n            this.loadingUiService.publishBlockMessage();\n            this.tkService.guardar(this.form, this.formcli).subscribe(res => {\n                this.swalService.fireToastSuccess(res.msg);\n                if (res.status === 200) {\n                    this.tkService.imprimir(res.tk_id);\n                    this.router.navigate(['tickets']);\n                }\n            });\n        }\n    }\n}\n","<div>\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n        <div class=\"alert alert-info\" *ngIf=\"isEdit\">\n            Editando ticket, puede editar el costo o los servicios del ticket\n        </div>\n        <div class=\"row\">\n            <div class=\"col-md-6\">\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Sección: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.sec_nombre}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Nro: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.tk_nro}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Dia: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.tk_dia}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Costo: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <div *ngIf=\"!isEdit\">\n                            <span class=\"fw-bold\">{{datostk.tk_costo}} $</span>\n                        </div>\n                        <div *ngIf=\"isEdit\">\n                            <input type=\"text\" class=\"form-control \" id=\"costoInput\" name=\"tk_costo\"\n                                   [(ngModel)]=\"form.tk_costo\" placeholder=\"\" autocomplete=\"off\">\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Estado: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.estado}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Referente: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.referente}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Ci/Ruc: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.per_ciruc}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Dirección: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.per_direccion}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Móvil: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.per_movil}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Email: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.per_email}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-3\">\n                        <span class=\"fw-light\"> Residencia: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.residencia}}</span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-6\">\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Fecha de creación: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold\">{{datostk.tk_fechahora}}</span>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col-md-4\">\n                        <span class=\"fw-light\"> Creado por: </span>\n                    </div>\n                    <div class=\"col-md\">\n                        <span class=\"fw-bold fontsizesm\">{{datostk.refuser}}</span>\n                    </div>\n                </div>\n                <div class=\"card mt-3\" *ngIf=\"!isEdit\">\n                    <div class=\"card-header quitaPaddingMargin px-3 py-1\">\n                        <span class=\"text-primary\"> Servicios: </span>\n                    </div>\n                    <ul class=\"list-group list-group-flush\">\n                        <li class=\"list-group-item\"\n                            *ngFor=\"let item of detalles\">\n                            <i class=\"far fa-check-circle\"></i>\n                            {{item.ic_nombre}} </li>\n                    </ul>\n                </div>\n\n                <div class=\"card mt-3\" *ngIf=\"isEdit\">\n                    <div class=\"card-header\">\n                        <span class=\"text-primary\"> Servicios: </span>\n                    </div>\n                    <ul class=\"list-group list-group-flush\">\n                        <li class=\"list-group-item hand list-group-item-action {{item.ic_marca?'list-group-item-primary':''}}\"\n                            *ngFor=\"let item of servicios\" (click)=\"item.ic_marca = !item.ic_marca\"><i\n                                *ngIf=\"item.ic_marca\" class=\"far fa-check-circle\"></i>\n                            {{item.ic_nombre}} </li>\n                    </ul>\n                </div>\n\n            </div>\n        </div>\n\n        <div class=\"mt-3 d-flex justify-content-between\">\n            <div class=\"d-flex\" *ngIf=\"!isLoading && !isEdit\">\n                <button class=\"btn btn-outline-primary me-md-1\" (click)=\"doDelete()\"><i class=\"fa fa-trash\"></i> Anular\n                </button>\n                <button class=\"btn btn-outline-primary me-md-1\" (click)=\"doPrint()\"><i class=\"fa fa-print\"></i> Imprimir\n                </button>\n                <button class=\"btn btn-outline-primary\" (click)=\"editar()\"><i class=\"fa fa-edit\"></i> Editar\n                </button>\n            </div>\n            <div class=\"d-flex\" *ngIf=\"isEdit\">\n                <button class=\"btn btn-outline-primary me-md-1\" (click)=\"actualizar()\"><i class=\"fa fa-save\"></i>\n                    Actualizar\n                </button>\n                <button class=\"btn btn-outline-primary\" *ngIf=\"isEdit\" (click)=\"cancelEdit()\">Cancelar\n                </button>\n            </div>\n\n            <button class=\"btn btn-outline-primary\" (click)=\"doCerrar()\"><i class=\"fa fa-times\"></i> Cerrar</button>\n        </div>\n\n    </div>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, Output, SimpleChanges} from '@angular/core';\nimport {TicketService} from '../../../services/ticket.service';\nimport {SwalService} from '../../../services/swal.service';\n\n@Component({\n    selector: 'app-ticketview',\n    templateUrl: './ticketview.component.html'\n})\nexport class TicketviewComponent implements OnChanges {\n\n    @Input() tkid: number;\n    @Output() evCerrar = new EventEmitter<any>();\n    @Output() evReload = new EventEmitter<any>();\n\n    datostk: any = {};\n    detalles: Array<any> = [];\n    isLoading = false;\n\n    form: any = {};\n    formcli: any = {};\n    servicios: any = {};\n    isEdit = false;\n\n    constructor(private tkService: TicketService,\n                private swalService: SwalService) {\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const tkchange = changes.tkid;\n        if (tkchange.currentValue) {\n            this.loadDatosTicket();\n        }\n    }\n\n    loadDatosTicket() {\n        this.isEdit = false;\n        this.isLoading = true;\n        this.tkService.getDetalles(this.tkid).subscribe(res => {\n            this.isLoading = false;\n            this.datostk = res.datosticket.datosticket;\n            this.detalles = res.datosticket.servicios;\n        });\n    }\n\n    doCerrar() {\n        this.evCerrar.emit('');\n    }\n\n    editar() {\n        this.isLoading = true;\n        this.tkService.getFormEdit(this.tkid).subscribe(res => {\n            this.isLoading = false;\n            this.isEdit = true;\n            this.form = res.form;\n            this.servicios = res.servicios;\n        });\n    }\n\n    actualizar() {\n        if (this.tkService.isDataValid(this.form, this.form, this.swalService)) {\n            this.form.tk_servicios = this.tkService.getCodServicios(this.servicios);\n            this.tkService.actualizar(this.form).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.isEdit = false;\n                    this.loadDatosTicket();\n                    this.evReload.emit('');\n                }\n            });\n        }\n    }\n\n    doDelete() {\n        const msg = '¿Confirma que desea anular este ticket?';\n        if (confirm(msg)) {\n            this.isLoading = true;\n            this.tkService.anular(this.tkid).subscribe(res => {\n                this.isLoading = false;\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.evReload.emit('');\n                    this.evCerrar.emit('');\n                }\n            });\n        }\n    }\n\n    doPrint() {\n        this.tkService.imprimir(this.tkid);\n    }\n\n    cancelEdit() {\n        this.isEdit = false;\n    }\n}\n","<div>\n    <div class=\"card\">\n        <div class=\"card-body\">\n            <div *ngIf=\"!isShowAnim && isFacturaLoaded\">\n                <div class=\"row\">\n                    <div class=\"col-md-6\">\n\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-normal fontsizenr\">Nro:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold  fontsizenr\">{{datosFactura.tasiento.trn_compro}}</span>\n                            </div>\n                        </div>\n\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-normal fontsizenr\">Tipo:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold  fontsizenr\">{{datosFactura.tasiento.tra_nombre}}</span>\n                            </div>\n                        </div>\n\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-normal fontsizenr\">Fecha registro:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold  fontsizenr\">{{datosFactura.tasiento.trn_fecha}}</span>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-normal fontsizenr\">Estado:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold  fontsizenr\">{{datosFactura.tasiento.estado}}</span>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-normal fontsizenr\">Referente:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold  fontsizenr\">{{datosFactura.tasiento.referente}}</span>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-normal fontsizenr\">Observación:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <p style=\"white-space: pre-line\"\n                                   class=\"fontsizenr fw-normal\">{{datosFactura.tasiento.trn_observ}}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"col-md-6\">\n                        <div *ngIf=\"datosCredito.cre_saldopen===0\">\n                            <p class=\"text-success\">\n                                <span class=\"fa fa-check\" style=\"font-size: 1rem\"></span> El crédito ya ha sido\n                                cancelado en su totalidad\n                            </p>\n                        </div>\n                        <div>\n                            <span class=\"fw-normal\">Total crédito:</span>\n                            <span *ngIf=\"isTransaccFact\"\n                                  class=\"ms-3 fw-bold\">${{datosFactura.pagosobj.credito|number:'.2'}}</span>\n                            <span *ngIf=\"!isTransaccFact\"\n                                  class=\"ms-3 fw-bold\">${{datosCredito.dt_valor|number:'.2'}}</span>\n                        </div>\n                        <div>\n                            <span class=\"fw-normal\">Total abonos:</span>\n                            <span class=\"ms-3 fw-bold\">${{totalabonos|number:'.2'}}</span>\n                        </div>\n\n                        <div class=\"d-flex mt-1\">\n                            <div class=\"p-2 border border-2 d-flex flex-row rounded {{datosCredito.cre_saldopen>0?'bg-warning':'bg-success'}}\">\n                                <span class=\"fw-bold {{datosCredito.cre_saldopen>0?'':'text-white'}}\"> Saldo Pendiente: </span>\n                                <span class=\"fw-bolder ms-2 {{datosCredito.cre_saldopen>0?'':'text-white'}}\"> ${{datosCredito.cre_saldopen|number:'.2'}} </span>\n                            </div>\n                        </div>\n\n                        <div class=\"mt-2\">\n                            <button class=\"btn btn-sm btn-outline-primary\" title=\"Ver detalles de la transacción\"\n                                    (click)=\"showFactura()\">Ver detalles <i class=\"fas fa-eye\"></i>\n                            </button>\n\n                            <button class=\"ms-md-3 btn btn-sm btn-outline-primary\"\n                                    title=\"Registrar un nuevo abono para este crédito\"\n                                    *ngIf=\"datosCredito.cre_saldopen>0 && !isShowFormAbonar\"\n                                    (click)=\"showFormAbonar()\"> Abonar <i class=\"fas fa-arrow-circle-down\"></i>\n                            </button>\n\n                            <button class=\"ms-md-3 btn btn-sm btn-outline-secondary\"\n                                    title=\"Cerrar\"\n                                    (click)=\"cerrarView()\"> Cerrar <i class=\"fas fa-times\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"mt-1\" *ngIf=\"isTransaccFact\">\n                    <app-detfactview [detalles]=\"datosFactura.detalles\"></app-detfactview>\n                    <div class=\"d-flex flex-row-reverse\">\n                        <span class=\"fontsizesm fw-bold\">TOTAL: ${{datosFactura.totales.total|number:'.2'}}</span>\n                    </div>\n                </div>\n\n                <div class=\"mt-2 p-2 border border-primary rounded\" *ngIf=\"isShowFormAbonar\">\n                    <div class=\"mb-2\">\n                        <h6 class=\"fw-bold\">Registrar nuevo abono</h6>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-7\">\n                            <div class=\"row \">\n                                <div class=\"col-md-4\">\n                                    <span class=\"fw-bold\">Fecha abono: </span>\n                                </div>\n                                <div class=\"col-md\">\n                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"formAbono.formcab.trn_fecreg\"\n                                           disabled>\n                                </div>\n                            </div>\n                            <div class=\"row mt-1\">\n                                <div class=\"col-md-4\">\n                                    <span class=\"fw-bold\">Saldo pendiente: </span>\n                                </div>\n                                <div class=\"col-md\">\n                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"saldopendiente\" disabled>\n                                </div>\n                            </div>\n                            <div class=\"row mt-1\">\n                                <div class=\"col-md-4\">\n                                    <span class=\"fw-bold\">Monto a abonar: </span>\n                                </div>\n                                <div class=\"col-md\">\n                                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"valorabono\"\n                                           (keyup)=\"onValorAbonoChange($event)\" (focusin)=\"$event.target.select()\"\n                                           id=\"montoaboinput\">\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-md\">\n                            <div>\n                            <textarea placeholder=\"Ingrese una observación para este abono\" class=\"form-control\"\n                                      [(ngModel)]=\"formAbono.formcab.trn_observ\" rows=\"4\"\n                                      autocomplete=\"off\"\n                                      id=\"abo_trn_observ\" maxlength=\"1000\"></textarea>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"d-flex justify-content-center m-2\">\n                        <button class=\"btn btn-outline-primary\" (click)=\"guardarAbono()\"><i\n                                class=\"fa fa-save\"></i> Guardar\n                        </button>\n                        <button class=\"ms-md-3 btn btn-outline-secondary\" (click)=\"cancelarGuardaAbono()\"><i\n                                class=\"fa fa-times\"></i> Cancelar\n                        </button>\n                    </div>\n                </div>\n\n                <div class=\"row mt-3\">\n                    <div class=\"col-md\">\n                        <div class=\"table-responsive \" *ngIf=\"abonosList.length>0\">\n                            <p class=\"quitaPaddingMargin fw-bold\">Abonos realizados <span\n                                    class=\"badge rounded-pill bg-primary\">{{abonosList.length}}</span>:</p>\n                            <table class=\"table table-sm table-bordered\">\n                                <thead>\n                                <tr>\n                                    <th scope=\"col\">\n                                        <span class=\"fontsizesm\">#</span>\n                                    </th>\n                                    <th scope=\"col\">\n                                        <span class=\"fontsizesm\">Fecha</span>\n                                    </th>\n                                    <th scope=\"col\">\n                                        <span class=\"fontsizesm\">Monto</span>\n                                    </th>\n                                    <th scope=\"col\">\n                                        <span class=\"fontsizesm\">\n                                            Observación\n                                        </span>\n                                    </th>\n                                    <th scope=\"col\">\n\n                                    </th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                <!-- editado -->\n                                <tr *ngFor=\"let abo of abonosList\" class=\"hand\">\n                                    <td>\n                                        <span class=\"fontsizesm\">\n                                        {{abonosList.indexOf(abo) + 1}}\n                                        </span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fontsizesm\">\n                                            {{abo.trn_fecha}}</span>\n                                    </td>\n                                    <td>\n                                        <span class=\"fontsizesm\">\n                                            {{abo.dt_valor}}</span>\n                                    </td>\n                                    <td>\n                                        <p class=\"fontsizesm\" style=\"white-space: pre-line\">\n                                            {{abo.trn_observ}}\n                                        </p>\n                                    </td>\n                                    <td>\n                                        <button class=\"btn btn-sm btn-outline-primary\" (click)=\"anularAbono(abo)\"\n                                                title=\"Anular abono\"><i\n                                                class=\"fa fa-trash\"></i></button>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td colspan=\"2\" class=\"quitaPaddingMargin p-1\">\n                                        <div class=\"d-flex flex-row-reverse\">\n                                            <span class=\"fw-bold\"> Total:</span>\n                                        </div>\n                                    </td>\n                                    <td class=\"quitaPaddingMargin p-1\">\n                                        <span class=\"fw-bold\">${{totalabonos}}</span>\n                                    </td>\n                                    <td>\n\n                                    </td>\n                                    <td>\n\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <app-loading *ngIf=\"isShowAnim || !isFacturaLoaded\"></app-loading>\n\n        </div>\n    </div>\n</div>\n\n\n<p-dialog header=\"Detalles del documento\" [modal]=\"true\" [style]=\"{width: '95vw'}\" [baseZIndex]=\"10000\"\n          [(visible)]=\"isShowFactura\">\n    <app-facturaview [trncod]=\"codFactura\" (evBtnClosed)=\"closeDetallesFact()\"\n                     (evFacturaLoaded)=\"onFacturaLoaded($event)\"></app-facturaview>\n</p-dialog>\n\n<p-dialog header=\"Detalles del asiento\" [style]=\"{width: '95vw'}\" [autoZIndex]=\"false\"\n          [modal]=\"true\"\n          [closeOnEscape]=\"true\"\n          [(visible)]=\"isShowAsiento\">\n    <app-asientoview [trncod]=\"codFactura\" (evCerrar)=\"hideDetAsi()\"></app-asientoview>\n</p-dialog>\n\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {AbonoService} from '../../../../services/abono.service';\nimport {CreditoService} from '../../../../services/credito.service';\nimport {LoadingUiService} from '../../../../services/loading-ui.service';\nimport {DomService} from '../../../../services/dom.service';\nimport {SwalService} from '../../../../services/swal.service';\nimport {AsientoService} from '../../../../services/asiento.service';\n\n@Component({\n    selector: 'app-abonosview',\n    templateUrl: './abonosview.component.html'\n})\nexport class AbonosviewComponent implements OnInit, OnChanges {\n\n    @Input() codFactura: number;\n    @Input() codCredito: number;\n    @Output() evDeudaChange = new EventEmitter<any>();\n    @Output() evCerrar = new EventEmitter<any>();\n\n    isShowFactura: boolean;\n    isShowFormAbonar: boolean;\n    datosFactura: any;\n    datosCredito: any;\n\n    formAbono: any;\n    valorabono: number;\n    detallesabono: Array<any>;\n    isShowAnim: boolean;\n    isFacturaLoaded: boolean;\n    doLoadFactura: boolean;\n    abonosList: Array<any>;\n    saldopendiente: number;\n    totalabonos: number;\n    isTransaccFact = false;\n\n    tracodabono = 0;\n    isShowAsiento = false;\n\n    constructor(private abonoService: AbonoService,\n                private domService: DomService,\n                private swalService: SwalService,\n                private loadingService: LoadingUiService,\n                private asientoService: AsientoService,\n                private creditoService: CreditoService) {\n    }\n\n    ngOnInit(): void {\n        this.isShowAnim = true;\n        this.isFacturaLoaded = false;\n        this.doLoadFactura = false;\n        this.abonosList = [];\n        this.totalabonos = 0.0;\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const codFacturaChange = changes.codFactura;\n        if (codFacturaChange.currentValue && codFacturaChange.currentValue > 0) {\n            this.doLoadFactura = true;\n        }\n\n        const codCreditoChange = changes.codCredito;\n        if (codCreditoChange.currentValue && codCreditoChange.currentValue > 0) {\n            this.loadDatosCredito();\n        }\n    }\n\n    onFacturaLoaded($event) {\n        this.isFacturaLoaded = true;\n        this.datosFactura = $event;\n        const tracod = this.datosFactura.tasiento.tra_codigo;\n        this.isTransaccFact = tracod === 1 || tracod === 2 || tracod === 7;\n    }\n\n    loadDatosCredito() {\n        this.isShowAnim = true;\n        this.creditoService.getDatosCredito(this.codCredito).subscribe(res => {\n            if (res.status === 200) {\n                this.datosCredito = res.datoscred;\n                if (this.datosCredito.ic_clasecc === 'XC') {\n                    this.tracodabono = 8;\n                } else if (this.datosCredito.ic_clasecc === 'XP') {\n                    this.tracodabono = 9;\n                }\n                this.isShowAnim = false;\n            }\n        });\n        this.loadAbonos();\n    }\n\n    buildDetalles() {\n        this.detallesabono = [];\n        const formCred = this.domService.clonarObjeto(this.formAbono.formdet);\n        const formAbono = this.domService.clonarObjeto(this.formAbono.formdet);\n\n        formCred.cta_codigo = this.datosCredito.cta_codigo;\n        formCred.dt_debito = formAbono.dt_debito * -1;\n        formCred.dt_valor = this.valorabono;\n        formCred.per_codigo = this.datosCredito.per_id;\n        formCred.ic_clasecc = this.datosCredito.ic_clasecc;\n        formCred.dt_codcred = this.datosCredito.dt_codigo;\n\n        formAbono.dt_valor = this.valorabono;\n        formAbono.per_codigo = this.datosCredito.per_id;\n\n        this.detallesabono.push(formCred);\n        this.detallesabono.push(formAbono);\n    }\n\n    showFormAbonar() {\n        this.loadingService.publishBlockMessage();\n        this.valorabono = 0.0;\n        this.saldopendiente = this.datosCredito.cre_saldopen;\n        this.detallesabono = [];\n        this.abonoService.getform(this.tracodabono).subscribe(res => {\n            this.isShowFormAbonar = true;\n            if (res.status === 200) {\n                this.formAbono = res.form;\n                this.domService.setFocusTm('montoaboinput', 100);\n            }\n        });\n    }\n\n    onValorAbonoChange($event) {\n        let auxsaldopendiente = this.datosCredito.cre_saldopen;\n        try {\n            if (this.valorabono.toString().trim().length > 0) {\n                const valorAbono = Number(this.valorabono);\n                if (valorAbono && valorAbono >= 0) {\n                    auxsaldopendiente = (this.datosCredito.cre_saldopen - valorAbono).toFixed(2);\n                } else {\n                    this.swalService.fireToastError('Valor del abono incorrecto');\n                }\n            }\n        } catch (e) {\n            console.log('Error al calcular saldo pendiente');\n        }\n        this.saldopendiente = auxsaldopendiente;\n    }\n\n    guardarAbono() {\n        this.buildDetalles();\n        const formpost = {\n            formcab: this.formAbono.formcab,\n            per_codigo: this.datosCredito.per_id,\n            detalles: this.detallesabono\n        };\n        const msg = '¿Confirma que desea registrar este abono?';\n        if (confirm(msg)) {\n            this.loadingService.publishBlockMessage();\n            this.abonoService.crear(formpost).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.isShowFormAbonar = false;\n                    this.loadDatosCredito();\n                    this.evDeudaChange.emit('');\n                }\n            });\n        }\n    }\n\n    cancelarGuardaAbono() {\n        this.isShowFormAbonar = false;\n    }\n\n    showFactura() {\n        const tracod = this.datosFactura.tasiento.tra_codigo;\n        const isfactura = tracod === 1 || tracod === 2 || tracod === 7;\n\n        if (isfactura) {\n            this.isShowFactura = true;\n        } else {\n            this.isShowAsiento = true;\n        }\n    }\n\n    anularAbono(abono) {\n        const msg = '¿Confirma que desea anular este abono?';\n        if (confirm(msg)) {\n            this.abonoService.anularAbono(abono.abo_codigo, '').subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.loadAbonos();\n                    this.loadDatosCredito();\n                    this.evDeudaChange.emit('');\n                }\n            });\n        }\n    }\n\n    loadAbonos() {\n        this.totalabonos = 0.0;\n        this.abonosList = [];\n        this.abonoService.listaAbonosFact(this.codFactura).subscribe(res => {\n            if (res.status === 200) {\n                this.abonosList = res.abonos;\n                this.totalabonos = res.total;\n            }\n        });\n    }\n\n    closeDetallesFact() {\n        this.isShowFactura = false;\n    }\n\n    hideDetAsi() {\n        this.isShowAsiento = false;\n    }\n\n    cerrarView() {\n        this.evCerrar.emit('');\n    }\n}\n","<div>\n    <h4>Nueva {{titulo}}</h4>\n</div>\n<div *ngIf=\"isLoading\">\n    <app-loading></app-loading>\n</div>\n<div *ngIf=\"!isLoading\">\n\n    <div class=\"card border-primary\">\n        <div class=\"card-body\">\n            <div class=\"row\">\n                <div class=\"col-md-10\">\n                    <div class=\"row quitaPaddingMargin\">\n                        <div class=\"col-md-6 quitaPaddingMargin\">\n                            <div class=\"row mt-2\">\n                                <div class=\"col-md-5\">\n                                    <span class=\"fw-normal\"> Número: </span>\n                                </div>\n                                <div class=\"col-md\">\n                                    <input type=\"text\" class=\"form-control\" disabled\n                                           [(ngModel)]=\"formasi.formasiento.secuencia\">\n                                </div>\n                            </div>\n                            <div class=\"row mt-2\">\n                                <div class=\"col-md-5\">\n                                    <span class=\"fw-normal\"> Fecha: </span>\n                                </div>\n                                <div class=\"col-md\">\n                                    <p-calendar id=\"vt_fecha\"\n                                                [(ngModel)]=\"formasi.formasiento.trn_fecregobj\"\n                                                inputId=\"trn_fecregobj\"\n                                                [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                                [maxDate]=\"currentDate\"\n                                                yearRange=\"2020:2100\"\n                                                dateFormat=\"dd/mm/yy\">\n                                    </p-calendar>\n                                </div>\n                            </div>\n                            <div class=\"row mt-2\">\n                                <div class=\"col-md-5\">\n                                    <span class=\"fw-normal\">Monto Total: </span>\n                                </div>\n                                <div class=\"col-md\">\n                                    <input type=\"text\" class=\"form-control\" id=\"monto\"\n                                           (focusin)=\"$event.target.select();\"\n                                           [(ngModel)]=\"form.monto\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row mt-3\">\n                        <div class=\"col-md d-flex flex-column\">\n                                    <span class=\"fw-normal\">\n                                        Motivo {{titulo}}:\n                                    </span>\n                            <div>\n                                <div class=\"d-flex flex-column\"\n                                     *ngFor=\"let fmotivo of form.motivos; let i=index\">\n                                    <div class=\"d-flex flex-row flex-wrap\">\n                                        <div>\n                                            <p-dropdown [options]=\"cuentasforcred\" optionLabel=\"codnombre\"\n                                                        id=\"tipoInput_{{i}}\"\n                                                        inputId=\"tipoInput_{{i}}\"\n                                                        filter=\"true\"\n                                                        optionValue=\"ic_id\"\n                                                        placeholder=\"Seleccione el motivo de la {{titulo}}\"\n                                                        (onChange)=\"ontiposel(fmotivo)\"\n                                                        [showClear]=\"false\"\n                                                        [(ngModel)]=\"fmotivo.cta_codigo\"></p-dropdown>\n                                        </div>\n                                        <div>\n                                            <input type=\"text\" class=\"ms-1 form-control\" id=\"tipo_valor_{{i}}\"\n                                                   [(ngModel)]=\"fmotivo.dt_valor\"\n                                                   [disabled]=\"fmotivo.cta_codigo===0\"\n                                                   (focusin)=\"$event.target.select();\">\n                                        </div>\n                                        <div>\n                                            <div class=\"ms-1 btn-group btn-group-sm\" role=\"group\">\n                                                <button class=\"btn btn-outline-secondary btn-sm  p-1\"\n                                                        *ngIf=\"i>0\"\n                                                        title=\"Quitar esta fila\"\n                                                        (click)=\"removeCuenta(fmotivo)\">\n                                                    <i class=\"fa fa-minus-circle\"> </i>\n                                                </button>\n                                                <button class=\"btn btn-outline-secondary btn-sm  p-1\"\n                                                        *ngIf=\"i===form.motivos.length-1\"\n                                                        title=\"Agregar otro ingreso\" (click)=\"addcuentas()\">\n                                                    <i class=\"fa fa-plus-circle\"> </i>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row mt-3\">\n                        <div class=\"col-md\">\n                            <label for=\"obsInput\">\n                                <i class=\"fa fa-sticky-note\"></i>\n                                Observación</label>\n                            <textarea class=\"form-control\" id=\"obsInput\" maxlength=\"800\" name=\"trn_observ\"\n                                      [(ngModel)]=\"formasi.formasiento.trn_observ\" rows=\"5\"></textarea>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-md-2\">\n                    <div class=\"d-grid gap-2\">\n                        <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"guardar()\">\n                            <i class=\"fa fa-save\"></i>\n                            Guardar\n                        </button>\n                        <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancelar()\">\n                            <i class=\"fa fa-times\"></i>\n                            Cancelar\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {SwalService} from '../../../../../services/swal.service';\nimport {CreditoService} from '../../../../../services/credito.service';\nimport {LoadingUiService} from '../../../../../services/loading-ui.service';\nimport {FechasService} from '../../../../../services/fechas.service';\nimport {ArrayutilService} from '../../../../../services/arrayutil.service';\nimport {DomService} from '../../../../../services/dom.service';\nimport {NumberService} from '../../../../../services/number.service';\nimport {CtesService} from '../../../../../services/ctes.service';\n\n@Component({\n    selector: 'app-credrefform',\n    templateUrl: './credrefform.component.html'\n})\nexport class CredrefformComponent implements OnInit, OnChanges {\n    @Input() tipo: number;\n    @Input() codref: number;\n    titulo = '';\n    isLoading = false;\n    form: any = {};\n    formasi: any = {};\n    currentDate = new Date();\n    cuentasforcred: Array<any> = [];\n\n    @Output() evCancelar = new EventEmitter<any>();\n    @Output() evDeudaCreada = new EventEmitter<any>();\n\n    constructor(private swalService: SwalService,\n                private loadingService: LoadingUiService,\n                private domService: DomService,\n                private fechasService: FechasService,\n                private arrayService: ArrayutilService,\n                private ctes: CtesService,\n                private numberService: NumberService,\n                private creditoService: CreditoService) {\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const chng = changes.tipo;\n        if (chng.currentValue) {\n            this.loadForm();\n        }\n    }\n\n    ngOnInit(): void {\n        this.domService.setFocusTm(this.ctes.monto, 300);\n    }\n\n    ontiposel(fila: any) {\n        const idx = this.form.motivos.indexOf(fila);\n        this.domService.setFocusTm(`tipo_valor_${idx}`, 100);\n        fila.dt_valor = this.auxGetMontoFila(this.form.motivos, idx);\n    }\n\n    removeCuenta(fila) {\n        this.arrayService.removeElement(this.form.motivos, fila);\n    }\n\n    loadForm() {\n        this.isLoading = true;\n        this.creditoService.getFormCrea(this.tipo, this.codref).subscribe(res => {\n            this.form = res.form.formtopost.form;\n            this.formasi = res.form.formtopost.formasiento;\n            this.formasi.formasiento.trn_fecregobj = this.fechasService.parseString(this.formasi.formasiento.trn_fecreg);\n            this.isLoading = false;\n            this.titulo = res.form.titulo;\n            this.cuentasforcred = res.form.cuentasforcred;\n        });\n    }\n\n    addcuentas() {\n        this.form.motivos.push({cta_codigo: 0, dt_valor: 0.0});\n    }\n\n    guardar() {\n        const montotal = this.form.monto;\n        if (this.numberService.round2(montotal) <= 0) {\n            this.swalService.fireToastError(this.ctes.msgMontoIncVerif);\n            return;\n        }\n\n        let totalctas = Number(0.0);\n        this.form.motivos.forEach(cuenta => {\n            totalctas += Number(cuenta.dt_valor);\n        });\n        if (!this.formasi.formasiento.trn_fecregobj) {\n            this.swalService.fireToastError('Debe ingresar la fecha de la transacción');\n            return;\n        }\n        this.formasi.formasiento.trn_fecreg = this.fechasService.formatDate(this.formasi.formasiento.trn_fecregobj);\n\n        if (this.numberService.round2(montotal) === this.numberService.round2(totalctas)) {\n            this.swalService.fireDialog('¿Confirma que desea crear este registro?', '').then(confirm => {\n                if (confirm.value) {\n                    const formtopost = {\n                        form: this.form, formasiento: this.formasi\n                    };\n                    this.loadingService.publishBlockMessage();\n                    this.creditoService.guardaCredRef(formtopost).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.evDeudaCreada.emit('');\n                            this.cancelar();\n                        }\n                    });\n                }\n            });\n        } else {\n            this.swalService.fireToastError('Los montos ingresados no coinciden, favor verificar');\n        }\n    }\n\n    cancelar() {\n        this.evCancelar.emit('');\n    }\n\n    auxGetMontoFila(thearray, idx) {\n        return this.arrayService.getMontoFila(thearray, idx, this.form.monto);\n    }\n\n}\n","<div class=\"card rounded mt-2\" *ngIf=\"!isShowDetCred && !isShowCreaCred\">\n\n    <div class=\"m-2 d-flex justify-content-between\">\n        <span class=\"fw-light\">\n                Cuentas por {{clase === 1 ? 'cobrar' : 'pagar'}} </span>\n\n        <button class=\"btn btn-outline-primary btn-sm\" (click)=\"showFormCrea()\">\n            <i class=\"fa fa-plus-circle\"></i> Crear\n        </button>\n    </div>\n\n    <app-loading *ngIf=\"loadingCreditos\"></app-loading>\n\n    <div *ngIf=\"!loadingCreditos\">\n        <div *ngIf=\"creditosList.length>0\" class=\"table-responsive\">\n            <table class=\"table table-bordered table-hover table-sm\">\n                <thead>\n                <tr>\n                    <th scope=\"col\" style=\"width: 5%\">\n                            <span class=\"fontsizesm\">\n                                #</span></th>\n                    <th scope=\"col\">\n                            <span class=\"fontsizesm\">\n                                Fecha </span></th>\n                    <th scope=\"col\"><span class=\"fontsizesm\"> Nro factura </span></th>\n                    <th scope=\"col\"><span class=\"fontsizesm\"> Observación </span></th>\n                    <th scope=\"col\"><span class=\"fontsizesm\"> Total Crédito </span></th>\n                    <th scope=\"col\"><span class=\"fontsizesm\"> Saldo Pendiente </span></th>\n                    <th scope=\"col\"></th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr *ngFor=\"let fila of creditosList\" class=\"hand\" (click)=\"showDetallesCredito(fila)\">\n                    <th scope=\"row\" style=\"width: 5%\">\n                            <span class=\"fontsizesm\">\n                            {{creditosList.indexOf(fila) + 1}}\n                            </span>\n                    </th>\n                    <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.trn_fecreg}}</span>\n                    </td>\n                    <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.trn_compro}}</span>\n                    </td>\n                    <td>\n                        <span class=\"fontsizesm\">{{fila.trn_observ}}</span>\n                    </td>\n                    <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.dt_valor}}</span>\n                    </td>\n                    <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.cre_saldopen}} </span>\n                    </td>\n                    <td>\n                        <button class=\"btn btn-outline-secondary btn-sm\">\n                            <i class=\"fa fa-eye\"></i>\n                        </button>\n                    </td>\n                </tr>\n                <tr>\n                    <td colspan=\"4\">\n                        <div class=\"d-flex flex-row-reverse\">\n                            <span class=\"fw-bold\">Total:</span>\n                        </div>\n                    </td>\n                    <td>\n                        <div>\n                            <span class=\"fw-bold\">{{totalescred.totalcred}}</span>\n                        </div>\n                    </td>\n                    <td>\n                        <div>\n                            <span class=\"fw-bold\">{{totalescred.totalsalpend}}</span>\n                        </div>\n                    </td>\n                    <td>\n\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n        <div class=\"card-body\" *ngIf=\"creditosList.length===0\">\n            <div class=\"p-5 d-flex justify-content-center\">\n                <h2 class=\"text-muted\">No registra créditos</h2>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div *ngIf=\"isShowDetCred\" class=\"my-2 shadow-sm\">\n    <app-abonosview [codCredito]=\"credsel.cre_codigo\" [codFactura]=\"credsel.trn_codigo\"\n                    (evDeudaChange)=\"onDeudasChange($event)\" (evCerrar)=\"hideDetCredito()\"></app-abonosview>\n</div>\n\n<div *ngIf=\"isShowCreaCred\" class=\"mt-2 shadow-sm\">\n    <app-credrefform [tipo]=\"clase\" [codref]=\"codref\" (evCancelar)=\"onCancelaCreaCred()\"\n                     (evDeudaCreada)=\"onDeudasChange($event)\">\n\n    </app-credrefform>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {CreditoService} from '../../../../../services/credito.service';\n\n@Component({\n    selector: 'app-credreflist',\n    templateUrl: './credreflist.component.html'\n})\nexport class CredreflistComponent implements OnInit, OnChanges {\n\n    creditosList: Array<any> = [];\n    loadingCreditos: boolean;\n    totalescred: any;\n    credsel: any;\n    isShowDetCred = false;\n    isShowCreaCred = false;\n\n    // 1- Ventas, 2-Compras\n    @Input() clase: number;\n    @Input() codref: number;\n    @Output() evDeudasChange = new EventEmitter<any>();\n\n\n    constructor(private creditoService: CreditoService) {\n    }\n\n    ngOnInit(): void {\n\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const chng = changes.codref;\n        if (chng.currentValue) {\n            this.loadCreditos();\n        }\n    }\n\n    loadCreditos() {\n        this.loadingCreditos = true;\n        this.creditoService.listarCreditos(this.codref, this.clase).subscribe(resc => {\n            this.loadingCreditos = false;\n            if (resc.status === 200) {\n                this.creditosList = resc.creds;\n                this.totalescred = resc.totales;\n            }\n        });\n    }\n\n    showFormCrea() {\n        this.isShowCreaCred = true;\n    }\n\n    showDetallesCredito(fila: any) {\n        this.credsel = fila;\n        this.isShowDetCred = true;\n    }\n\n    onDeudasChange($event: any) {\n        this.evDeudasChange.emit($event);\n    }\n\n    hideDetCredito() {\n        this.isShowDetCred = false;\n        this.loadCreditos();\n    }\n\n    onCancelaCreaCred() {\n        this.isShowCreaCred = false;\n        this.loadCreditos();\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {CreditoService} from '../../../services/credito.service';\nimport {startOfMonth} from 'date-fns';\nimport {FechasService} from '../../../services/fechas.service';\nimport {ActivatedRoute, Router} from '@angular/router';\n\n@Component({\n    selector: 'app-cuentasxcp',\n    template: `\n        <h4>\n            {{title}}\n        </h4>\n        <div class=\"row mt-1 mb-1\">\n            <div class=\"col-md-3\">\n                <app-rangofechas [form]=\"form\" (evFilterSel)=\"listar()\" [showlabels]=\"false\"></app-rangofechas>\n            </div>\n            <div class=\"col-md-6\">\n                <div class=\"input-group\">\n                    <input type=\"text\" class=\"form-control\" id=\"buscaInput\" (keyup)=\"doFilter($event)\"\n                           [(ngModel)]=\"filtro\"\n                           autocomplete=\"false\"\n                           placeholder=\"Buscar comprobante por número o por referente\">\n                    <div class=\"input-group-append\">\n                        <button class=\"btn btn-outline-primary\" type=\"button\" id=\"buttonSearh\" (click)=\"listar()\"\n                                title=\"Buscar producto o servicio\">\n                            <i class=\"fa fa-search\"></i>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-3 d-flex flex-row-reverse\">\n\n            </div>\n        </div>\n        <div class=\"mt-2 border\">\n            <div *ngIf=\"isLoading\">\n                <app-loading></app-loading>\n            </div>\n            <div *ngIf=\"!isLoading\">\n                <p-table [value]=\"grid.data\" [paginator]=\"true\" [rows]=\"50\" selectionMode=\"single\"\n                         [(selection)]=\"selectedItem\"\n                         (onRowSelect)=\"onRowSelect($event)\"\n                         [resizableColumns]=\"true\"\n                         [autoLayout]=\"false\"\n                         [(contextMenuSelection)]=\"selectedItem\"\n                         (onRowUnselect)=\"onUnRowSelect($event)\">\n                    <ng-template pTemplate=\"header\">\n                        <tr>\n                            <th *ngFor=\"let item of grid.cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\"\n                                [width]=\"item.width\">\n                                {{item.label}}\n                                <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n                            </th>\n                            <th></th>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"body\" let-rowData>\n                        <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\" (dblclick)=\"verRow(rowData)\">\n                            <td *ngFor=\"let item of grid.cols\">\n                                <span class=\"fontsizesm\">{{rowData[item['field']]}}</span>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-sm btn-outline-dark\" (click)=\"verRow(rowData)\" title=\"Editar\">\n                                    <i class=\"fas fa-eye\"></i>\n                                </button>\n                            </td>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"footer\">\n                        <tr>\n                            <th [attr.colspan]=\"grid.cols.length-2\">\n                                <span class=\"fw-bold\">TOTAL:</span>\n                            </th>\n                            <th>\n                                <span> {{totales.credito|number:'.2'}}</span>\n                            </th>\n                            <th>\n                                <span> {{totales.saldopend|number:'.2'}}</span>\n                            </th>\n                            <th>\n\n                            </th>\n                        </tr>\n                    </ng-template>\n                    <ng-template pTemplate=\"emptymessage\" let-columns>\n                        <tr>\n                            <td [attr.colspan]=\"grid.cols.length+1\">\n                                <span class=\"text-muted\">No hay registros</span>\n                            </td>\n                        </tr>\n                    </ng-template>\n                </p-table>\n            </div>\n        </div>\n        <div *ngIf=\"isShowDetallesFactura\">\n            <p-dialog header=\"Detalles del documento\" [modal]=\"true\" [style]=\"{width: '90vw'}\" [baseZIndex]=\"9\"\n                      [(visible)]=\"isShowDetallesFactura\">\n                <app-facturaview [trncod]=\"codFacturaSel\" (evBtnClosed)=\"closeDetFact()\"></app-facturaview>\n            </p-dialog>\n        </div>\n\n        <div *ngIf=\"isShowDetallesCred\">\n            <p-dialog header=\"Detalles del crédito\" [modal]=\"true\" [style]=\"{width: '90vw'}\" [baseZIndex]=\"10\"\n                      [(visible)]=\"isShowDetallesCred\">\n                <app-abonosview [codCredito]=\"credsel.cre_codigo\" [codFactura]=\"credsel.trn_codigo\"\n                                (evDeudaChange)=\"onDeudasChange($event)\" (evCerrar)=\"hideDetCredito()\"></app-abonosview>\n            </p-dialog>\n        </div>\n\n    `\n})\nexport class CuentasxcpComponent implements OnInit {\n    tipo: number;\n    title: any;\n    filtro: string;\n    isLoading: boolean;\n    grid: any = {};\n    selectedItem: any;\n    isShowDetallesFactura: boolean;\n    codFacturaSel: number;\n    form: any;\n    previustimer: any = 0;\n    totales: any;\n    isShowDetallesCred: boolean;\n    credsel: any;\n\n    constructor(private creditoService: CreditoService,\n                private fechasservice: FechasService,\n                private router: Router,\n                private route: ActivatedRoute) {\n        this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n        this.route.paramMap.subscribe(params => {\n            this.tipo = parseInt(params.get('tipo'), 10);\n        });\n    }\n\n    ngOnInit(): void {\n        this.title = 'Cuentas por cobrar';\n        if (this.tipo === 2) {\n            this.title = 'Cuentas por pagar';\n        }\n        this.filtro = '';\n        this.isLoading = true;\n        this.grid = {};\n        this.isShowDetallesFactura = false;\n        const hasta = new Date();\n        const desde = startOfMonth(hasta);\n        this.form = {desde, hasta};\n        this.listar();\n    }\n\n    onRowSelect($event: any) {\n\n    }\n\n    onUnRowSelect($event: any) {\n\n    }\n\n    ondesdechange() {\n\n    }\n\n    onhastachange() {\n\n    }\n\n    filtroDelayFn(context) {\n        context.listar();\n    }\n\n    delayKeyup(callback, ms, prevtimer, context) {\n        clearTimeout(prevtimer);\n        return setTimeout(() => {\n            callback(context);\n        }, ms);\n    }\n\n    doFilter($event: KeyboardEvent) {\n        this.previustimer = this.delayKeyup(this.filtroDelayFn, 500, this.previustimer, this);\n    }\n\n    listar() {\n        this.isLoading = true;\n        let desde = '';\n        let hasta = '';\n        if (this.form.desde) {\n            desde = this.fechasservice.formatDate(this.form.desde);\n        }\n        if (this.form.hasta) {\n            hasta = this.fechasservice.formatDate(this.form.hasta);\n        }\n\n        this.creditoService.listarGrid(this.tipo, desde, hasta, this.filtro).subscribe(res => {\n            if (res.status === 200) {\n                this.grid = res.grid;\n                this.totales = res.totales;\n            }\n            this.isLoading = false;\n        });\n    }\n\n    closeDetFact() {\n        this.isShowDetallesFactura = false;\n    }\n\n    verRow(rowData) {\n        this.credsel = rowData;\n        this.isShowDetallesCred = true;\n    }\n\n    hideDetCredito() {\n        this.isShowDetallesCred = false;\n    }\n\n    onDeudasChange($event: any) {\n        this.listar();\n    }\n}\n","<div *ngIf=\"isLoading\">\n    <app-loading></app-loading>\n</div>\n\n<div *ngIf=\"!isLoading\">\n    <div class=\"mt-3\">\n        <p class=\"alert alert-warning mt-2\" *ngIf=\"isedit && trncodedit>0 && datosdocedit\">\n            Editando comprobante Nro {{datosdocedit?.tasiento?.trn_compro}}\n        </p>\n\n        <div class=\"border p-2 mb-2\" *ngIf=\"showtitulo\">\n            <div class=\"row\">\n                <div class=\"col-md-4\">\n                    <h4 class=\"quitaPaddingMargin fw-bold\">{{ttransacc.tra_nombre}}</h4>\n                </div>\n                <div class=\"col-md-4\">\n                    <div class=\"d-flex flex-row\">\n                        <span class=\"fw-bold\">Nro: </span>\n                        <div class=\"ms-2 d-flex\">\n                            <span> {{form.form_cab.estabptoemi}}</span>\n                            <input type=\"text\" class=\"form-control form-control-sm  ms-2\"\n                                   id=\"fc_secuencia\" maxlength=\"15\"\n                                   [(ngModel)]=\"form.form_cab.secuencia\"\n                                   [disabled]=\"ttransacc.tra_tipdoc===1\">\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-md-4\">\n                    <div class=\"d-flex flex-row\">\n                        <span class=\"fw-bold\">Fecha:</span>\n                        <p-calendar [(ngModel)]=\"form.form_cab.trn_fecregobj\"\n                                    [showIcon]=\"false\"\n                                    class=\"ms-2 p-inputtext-sm\"\n                                    [maxDate]=\"currentdate\"\n                                    inputId=\"trn_fecregobj\"\n                                    [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                    yearRange=\"1900:2100\"\n                                    dateFormat=\"dd/mm/yy\"></p-calendar>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"border p-2\" *ngIf=\"showreferente\">\n            <div class=\"row\" *ngIf=\"ttransacc.tra_tipdoc === 1\">\n                <div class=\"col-md\">\n                    <div class=\"d-flex flex-row p-field-checkbox\">\n                        <p-checkbox id=\"consfinalinput\" binary=\"true\" name=\"consfinalinput\" inputId=\"binary\"\n                                    [(ngModel)]=\"isConsumidorFinal\" (onChange)=\"onConsFinalChange()\"></p-checkbox>\n                        <label class=\"ms-1 mt-2 hand\" (click)=\"toggleConsFinal()\">Consumidor Final</label>\n                    </div>\n                </div>\n            </div>\n            <div *ngIf=\"!isConsumidorFinal\">\n                <div class=\"row\">\n                    <div class=\"col-md-2\">\n                        <div class=\"mb-3\">\n                            <span class=\"fontsizenr fw-light\">CI/Ruc: </span>\n                            <div class=\"input-group\">\n                                <input type=\"text\" class=\"form-control form-control-sm\"\n                                       [(ngModel)]=\"form.form_persona.per_ciruc\"\n                                       (blur)=\"verificaRefRegistrado()\" autocomplete=\"false\" id=\"per_ciruc\"\n                                       (keydown.enter)=\"buscarReferente()\" [disabled]=\"form.form_persona.per_id>0\"\n                                       tabindex=\"10\">\n                                <button class=\"btn btn-sm btn-outline-secondary\" type=\"button\"\n                                        (click)=\"buscarReferente()\" [disabled]=\"isDisabledFormRef\"\n                                        title=\"Presiona este botón para buscar el referente por número de cédula, ruc o pasaporte \">\n                                    <span class=\"fa fa-search\"></span>\n                                </button>\n                                <button class=\"btn btn-sm btn-outline-secondary\"\n                                        title=\"Buscar otro referente\" type=\"button\"\n                                        *ngIf=\"form.form_persona.per_id>0\"\n                                        (click)=\"clearFormPersona()\">\n                                    <span class=\"fa fa-times\"></span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-2\">\n                        <div class=\"mb-3\">\n                            <span class=\"fontsizenr\">Nombres: </span>\n                            <input type=\"text\" class=\"form-control form-control-sm\" id=\"perNombresInput\"\n                                   tabindex=\"11\"\n                                   [(ngModel)]=\"form.form_persona.per_nombres\" [disabled]=\"isDisabledFormRef\"\n                                   maxlength=\"70\">\n                        </div>\n\n                    </div>\n                    <div class=\"col-md-2\">\n                        <div class=\"mb-3\">\n                            <span class=\"fontsizenr\">Apellidos: </span>\n                            <input type=\"text\" class=\"form-control form-control-sm\" id=\"perApellidosInput\"\n                                   tabindex=\"12\"\n                                   [(ngModel)]=\"form.form_persona.per_apellidos\" [disabled]=\"isDisabledFormRef\"\n                                   maxlength=\"60\">\n                        </div>\n                    </div>\n                    <div class=\"col-md-2\">\n                        <div class=\"mb-3\">\n                            <span class=\"fontsizenr\">Dirección: </span>\n                            <input type=\"text\" class=\"form-control form-control-sm\" id=\"perDireccionInput\"\n                                   tabindex=\"13\"\n                                   [(ngModel)]=\"form.form_persona.per_direccion\" [disabled]=\"isDisabledFormRef\"\n                                   maxlength=\"90\">\n                        </div>\n                    </div>\n                    <div class=\"col-md-2\">\n                        <div class=\"mb-3\">\n                            <span class=\"fontsizenr\">Teléfono: </span>\n                            <input type=\"text\" class=\"form-control form-control-sm\" id=\"perTelfInput\" tabindex=\"14\"\n                                   [(ngModel)]=\"form.form_persona.per_telf\" [disabled]=\"isDisabledFormRef\"\n                                   maxlength=\"20\">\n                        </div>\n                    </div>\n                    <div class=\"col-md-2\">\n                        <div class=\"mb-3\">\n                            <span class=\"fontsizenr\">Email: </span>\n                            <input type=\"text\" class=\"form-control form-control-sm\" id=\"perEamilInput\" tabindex=\"15\"\n                                   [(ngModel)]=\"form.form_persona.per_email\" [disabled]=\"isDisabledFormRef\"\n                                   maxlength=\"40\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"mt-2\" *ngIf=\"showdetalles\">\n            <div>\n                <div *ngIf=\"form.detalles.length===0\">\n                    <h5 class=\"p-1 text-muted\"> Agrege un producto o servicio</h5>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-md-8\">\n                        <div class=\"p-fluid\">\n                            <p-autoComplete [(ngModel)]=\"artFiltrado\" [suggestions]=\"artsFiltrados\"\n                                            autofocus=\"true\"\n                                            (completeMethod)=\"buscaServs($event)\" field=\"ic_nombre\"\n                                            (keyup.enter)=\"onEnterFiltroArts($event)\"\n                                            (onSelect)=\"onServFilaSelected($event)\"\n                                            inputId=\"artsAutoCom\"\n                                            placeholder=\"Digite el nombre o el codigo del producto o servicio\">\n                                <ng-template let-art pTemplate=\"item\">\n                                    <div>\n                                        <div class=\"fontsizexsm text-muted quitaPaddingMargin\">BC:{{art.ic_code}}</div>\n                                        <div class=\"d-flex justify-content-between\">\n                                            <span>{{art.ic_nombre}}</span>\n                                            <span class=\"text-muted fontsizexsm\"\n                                                  *ngIf=\"art.tipic_id==1\">#:{{art.ice_stock}}\n                                            </span>\n                                        </div>\n                                    </div>\n                                </ng-template>\n\n                            </p-autoComplete>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            <div class=\"table-responsive mt-2\">\n                <table class=\"table table-bordered table-sm\">\n                    <thead>\n                    <tr>\n                        <th scope=\"col\" width=\"3%\">\n                            <span class=\"fw-normal fontsizenr\">#</span>\n                        </th>\n                        <th scope=\"col\" width=\"33%\">\n                            <span class=\"fw-normal fontsizenr\">\n                                Servicio </span>\n                        </th>\n                        <th scope=\"col\" width=\"10%\">\n                            <span class=\"fw-normal fontsizenr\">\n                                Cantidad </span></th>\n                        <th scope=\"col\" width=\"10%\">\n                            <span class=\"fw-normal fontsizenr\">\n                                P. Uni. </span></th>\n                        <th scope=\"col\" width=\"10%\">\n                            <span class=\"fw-normal fontsizenr\">\n                                Subt.</span></th>\n                        <th scope=\"col\" width=\"9%\">\n                            <span class=\"fw-normal fontsizenr\">\n                                Desc </span></th>\n                        <th scope=\"col\" width=\"10%\">\n                            <span class=\"fw-normal fontsizenr\">\n                                Iva </span></th>\n                        <th scope=\"col\" width=\"10%\">\n                            <span class=\"fw-normal fontsizenr\">\n                                Total </span></th>\n                        <th scope=\"col\" width=\"5%\">\n                        </th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr *ngFor=\"let fila of form.detalles\">\n                        <th scope=\"row\">\n                            <span class=\"fw-normal fontsizesm\">{{form.detalles.indexOf(fila) + 1}}</span>\n                        </th>\n                        <td>\n                            <div class=\"d-flex flex-column\">\n                                <span class=\"fw-bolder fontsizenr\">{{fila.ic_nombre}}</span>\n                                <span class=\"fw-normal fontsizenr\">{{fila.ic_code}}</span>\n                            </div>\n                        </td>\n                        <td>\n                            <div class=\"p-fluid\">\n                                <p-inputNumber [(ngModel)]=\"fila.dt_cant\"\n                                               [min]=\"0\" [max]=\"1000\"\n                                               styleClass=\"form-control-sm\"\n                                               (focusin)=\"$event.target.select()\"\n                                               [showButtons]=\"true\" mode=\"decimal\"\n                                               [minFractionDigits]=\"1\" maxFractionDigits=\"3\"\n                                               (ngModelChange)=\"recalcTotalFila(fila)\"></p-inputNumber>\n                            </div>\n                        </td>\n                        <td>\n                            <input type=\"text\" class=\"form-control form-control-sm\"\n                                   (keyup)=\"onFilaPrecioChange(fila)\"\n                                   [(ngModel)]=\"fila.dt_precioiva\"></td>\n                        <td>\n                            <input class=\"form-control form-control-sm\" [(ngModel)]=\"fila.subtotal\" disabled>\n                        </td>\n                        <td>\n                            <input type=\"text\" class=\"form-control form-control-sm\"\n                                   (keyup)=\"onFilaDescChange(fila)\" [ngClass]=\"{'is-invalid':fila.dt_dectoerr}\"\n                                   (focusin)=\"$event.target.select()\"\n                                   [(ngModel)]=\"fila.dt_dectoin\"></td>\n                        <td>\n                            <select class=\"form-control form-control-sm\" [(ngModel)]=\"fila.icdp_grabaiva\"\n                                    (ngModelChange)=\"onFilaIvaChange(fila)\">\n                                <option *ngFor=\"let iv of ivas\" [ngValue]=\"iv.value\">{{iv.label}}</option>\n                            </select>\n                        <td>\n                            <div class=\"d-flex flex-row-reverse\">\n                                <span class=\"fw-bold\">${{fila.total | number: '.2'}}</span>\n                            </div>\n                        </td>\n                        <td>\n                            <button class=\"btn btn-sm btn-outline-secondary\" (click)=\"quitarItem(fila)\"\n                                    title=\"Quitar\">\n                                <i class=\"fa fa-trash\"></i></button>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        <div class=\"border p-2 mt-2\" *ngIf=\"showtotales\">\n            <div class=\"row\">\n                <hr class=\"text-muted quitaPaddingMargin\">\n                <div class=\"col-md-5\">\n                    <div class=\"mb-3\">\n                        <span class=\"fw-lighter\">Observación:</span>\n                        <textarea class=\"form-control\" [(ngModel)]=\"form.form_cab.trn_observ\" rows=\"3\"\n                                  autocomplete=\"off\"\n                                  id=\"trn_observ\"></textarea>\n                    </div>\n                </div>\n                <div class=\"col-md-4\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <span\n                                    class=\"fw-light\">Subtotal $:</span>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <input type=\"text\" class=\"form-control form-control-sm\" disabled\n                                   [(ngModel)]=\"form.totales.subtotal\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-6\"><span\n                                class=\"fw-light\">(-)Descuento $:</span>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <input type=\"text\" class=\"form-control form-control-sm\" disabled\n                                   [(ngModel)]=\"form.totales.descuentos\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-6 \"><span\n                                class=\"fw-light\">(+)Iva {{impuestos.iva * 100}}%\n                            de ${{form.totales.subtotal12}}:</span></div>\n                        <div class=\"col-md-6\">\n                            <input type=\"text\" class=\"form-control form-control-sm\" disabled\n                                   [(ngModel)]=\"form.totales.iva\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-6\">\n                            <span class=\"fw-bold\">Total $:</span>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <input type=\"text\" class=\"form-control form-control-sm\" disabled\n                                   [(ngModel)]=\"form.totales.total\">\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-md-3\">\n                    <div>\n                        <span class=\"text-muted\">PAGOS:</span>\n                    </div>\n                    <div class=\"row\" *ngFor=\"let pago of form.pagos\">\n                        <div class=\"col-md-6\">\n                            <span class=\"fw-bold\">{{pago.ic_nombre}} $:</span>\n                        </div>\n                        <div class=\"col-md-6\">\n                            <input type=\"number\" class=\"form-control form-control-sm\" (focusin)=\"$event.target.select()\"\n                                   [(ngModel)]=\"pago.dt_valor\" (keyup)=\"calculaPagos(pago)\">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"p-2 mt-3\" *ngIf=\"showbuttons\">\n            <p class=\"d-flex justify-content-center\">\n                <button class=\"btn btn-outline-secondary\" (click)=\"cancelarCreaFactura()\"><i\n                        class=\"fa fa-times\"></i> Cancelar\n                </button>\n                <button class=\"ms-3 btn btn-outline-primary\" (click)=\"crearFactura()\" *ngIf=\"form.detalles.length>0\">\n                    <i class=\"fa fa-save\"></i>\n                    Guardar\n                </button>\n            </p>\n        </div>\n    </div>\n</div>\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {NumberService} from '../../../../services/number.service';\nimport {DomService} from '../../../../services/dom.service';\nimport {SwalService} from '../../../../services/swal.service';\nimport {ArticuloService} from '../../../../services/articulo.service';\nimport {LoadingUiService} from '../../../../services/loading-ui.service';\nimport {ArrayutilService} from '../../../../services/arrayutil.service';\nimport {FechasService} from '../../../../services/fechas.service';\nimport {Router} from '@angular/router';\nimport {SeccionService} from '../../../../services/seccion.service';\nimport {PersonaService} from '../../../../services/persona.service';\nimport {forkJoin, Subscription} from 'rxjs';\nimport {FacturasmsgService} from '../../../../services/facturasmsg.service';\nimport {LocalStorageService} from '../../../../services/local-storage.service';\nimport {CtesService} from '../../../../services/ctes.service';\nimport {BaseComponent} from '../../../shared/base.component';\n\n@Component({\n    selector: 'app-facturasform',\n    templateUrl: './facturasform.component.html'\n})\nexport class FacturasformComponent extends BaseComponent implements OnInit, OnDestroy {\n    isLoading: boolean;\n\n    ttransacc: any;\n    formdet: any;\n    artsFiltrados: Array<any>;\n    artFiltrado: any;\n    impuestos: any;\n    ivas: Array<any>;\n    currentdate: any;\n    seccionSel: number;\n    secciones: Array<any>;\n    isConsumidorFinal: boolean;\n    isDisabledFormRef: boolean;\n    codConsFinal = -1;\n    trncodedit = 0;\n    datosdocedit: any = {};\n\n    @Input() form: any;\n    @Input() tracodigo: number;\n    @Input() isedit = false;\n\n    @Input() showtitulo = true;\n    @Input() showreferente = true;\n    @Input() showdetalles = true;\n    @Input() showtotales = true;\n    @Input() showbuttons = true;\n\n    @Output() evTotalesUpd = new EventEmitter<any>();\n    @Output() evGuardarOk = new EventEmitter<any>();\n    @Output() evCancela = new EventEmitter<any>();\n    @Output() evFormLoaded = new EventEmitter<any>();\n\n    buscaArtPromise: Promise<any>;\n    artsearched: boolean;\n    artsearchedcount: number;\n    factMsgSubs: Subscription;\n    isfacturacompra: boolean;\n    formisloaded = false;\n\n    constructor(private asientoService: AsientoService,\n                private numberService: NumberService,\n                private domService: DomService,\n                private seccionService: SeccionService,\n                private artService: ArticuloService,\n                private loadingUiService: LoadingUiService,\n                private arrayService: ArrayutilService,\n                private fechasService: FechasService,\n                private swalService: SwalService,\n                private facturaMsgService: FacturasmsgService,\n                private localStrgService: LocalStorageService,\n                private router: Router,\n                private ctes: CtesService,\n                private personaServ: PersonaService) {\n        super();\n        this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n    }\n\n    ngOnInit(): void {\n        this.artFiltrado = {};\n        this.formisloaded = false;\n        this.isLoading = true;\n        this.initformfact();\n        this.initTotales();\n        this.currentdate = new Date();\n        this.seccionSel = 1;\n        this.ivas = this.numberService.getIvasArray();\n        this.showFormCreaFact();\n        this.isConsumidorFinal = false;\n        this.isDisabledFormRef = false;\n        this.artsearchedcount = 0;\n        this.artsearched = false;\n\n        this.factMsgSubs = this.facturaMsgService.message.subscribe(msg => {\n            if (msg) {\n                if (msg.tipo === 1) {// Carga de referente\n                    this.form.form_persona = msg.form_persona;\n                    this.isConsumidorFinal = false;\n                }\n            }\n        });\n    }\n\n    initTotales() {\n        this.form.totales = {\n            subtotal: 0.0,\n            descuentos: 0.0,\n            subtforiva: 0.0,\n            iva: 0.0,\n            total: 0.0\n        };\n    }\n\n    initformfact() {\n        this.isfacturacompra = false;\n        this.form = {\n            form_cab: {},\n            form_persona: {},\n            detalles: [],\n            pagos: [],\n            totales: {}\n        };\n        this.ttransacc = {};\n        this.formdet = {};\n    }\n\n    totalizar() {\n        this.initTotales();\n        this.form.totales = this.numberService.totalizar(this.form.detalles);\n        if (this.isedit && this.trncodedit > 0) {\n            this.numberService.checkPagosPrevios(this.datosdocedit.pagos, this.form.totales, this.form.pagos);\n        } else {\n            if (this.form.pagos && this.form.pagos.length > 0) {\n                this.form.pagos[0].dt_valor = this.form.totales.total;\n            }\n            if (this.form.pagos && this.form.pagos.length > 1) {\n                this.form.pagos[1].dt_valor = 0.0;\n            }\n        }\n        this.evTotalesUpd.emit(this.form);\n    }\n\n    getNewEmptyRow(art) {\n        const formDetalles = this.domService.clonarObjeto(this.formdet);\n        this.artService.initFormDetalles(formDetalles, art, this.isfacturacompra);\n        return formDetalles;\n    }\n\n    checkInventarios(fila): boolean {\n        let continuar = true;\n        if (this.ttransacc.tra_tipdoc === 1) {\n            if (fila.tipic_id === 1) {\n                if (fila.dt_cant > fila.ice_stock) {\n                    continuar = false;\n                    this.swalService.fireToastError(`No hay unidades disponibles para ${fila.ic_nombre}, el total disponible actual es de: ${fila.ice_stock}`);\n                }\n            }\n        }\n        return continuar;\n    }\n\n    recalcTotalFila(fila) {\n        this.checkInventarios(fila);\n        this.numberService.recalcTotalFila(fila);\n        this.totalizar();\n    }\n\n    buscaServs(event) {\n        this.artsearched = false;\n        this.artsearchedcount = 0;\n        this.buscaArtPromise = new Promise((resolve) => {\n            this.artService.busArtsForTransacc(this.seccionSel, event.query, this.tracodigo).subscribe(res => {\n                if (this.isResultOk(res)) {\n                    this.artsFiltrados = res.items;\n                }\n                resolve(true);\n                this.artsearched = true;\n            });\n        });\n    }\n\n    onEnterFiltroArts($event) {\n        setTimeout(() => {\n            if (this.artsearched) {\n                this.logicaSelectArticulo();\n            } else {\n                this.logicaEnterFiltro();\n            }\n        }, 200);\n    }\n\n    logicaSelectArticulo() {\n        if (this.artsFiltrados.length > 0) {\n            this.onServSelect(this.artsFiltrados[0]);\n            this.artsFiltrados = [];\n            this.artsearched = false;\n        }\n    }\n\n    logicaEnterFiltro() {\n        if (this.artsearchedcount < 5) {\n            if (this.artsearched) {\n                this.artsearchedcount = 5;\n                this.logicaSelectArticulo();\n            } else {\n                setTimeout(() => {\n                    this.artsearchedcount += 1;\n                    this.logicaEnterFiltro();\n                }, 500);\n            }\n        } else {\n            if (this.artsearched) {\n                this.artsearchedcount = 5;\n                this.logicaSelectArticulo();\n            }\n        }\n    }\n\n    onServSelect($event: any) {\n        const prevserv = this.arrayService.getFirstResult(this.form.detalles, (it) => it.art_codigo === $event.ic_id);\n        if (prevserv) {\n            prevserv.dt_cant += 1;\n            this.recalcTotalFila(prevserv);\n        } else {\n            const newrow = this.getNewEmptyRow($event);\n            this.checkInventarios(newrow);\n            this.form.detalles.push(newrow);\n        }\n        this.totalizar();\n        this.artFiltrado = {};\n        this.domService.setFocusTm(this.ctes.artsAutoCom);\n    }\n\n    quitarItem(fila: any) {\n        this.swalService.fireDialog(this.ctes.msgSureWishRemveItemFact).then(confirm => {\n                if (confirm.value) {\n                    this.arrayService.removeElement(this.form.detalles, fila);\n                    this.totalizar();\n                }\n            }\n        );\n    }\n\n    crearFactura() {\n        if (this.form.form_cab.secuencia.length === 0) {\n            this.swalService.fireToastError(this.ctes.msgMustEnterNumFact);\n        } else if (this.form.detalles.length === 0) {\n            this.swalService.fireToastError(this.ctes.msgMustAddProdInFact);\n        } else if (!this.form.form_cab.trn_fecregobj) {\n            this.swalService.fireToastError(this.ctes.msgMustEnterDateFact);\n        } else if (this.isfacturacompra && (this.form.form_persona.per_ciruc.trim().length === 0)) {\n            this.swalService.fireToastError(this.ctes.msgMustEnterDataRef);\n        } else {\n            let pagocredito = 0.0;\n            this.form.pagos.forEach(pago => {\n                if (pago.ic_clasecc === 'XC' || pago.ic_clasecc === 'XP') {\n                    pagocredito = Number(pago.dt_valor);\n                }\n            });\n\n            if (pagocredito !== 0.0) {\n                if (this.form.form_persona.per_id === -1) {\n                    this.swalService.fireToastError(this.ctes.msgFactIsCredMustEnterRef);\n                    return;\n                }\n            }\n\n            this.form.form_cab.trn_fecreg = this.fechasService.formatDate(this.form.form_cab.trn_fecregobj);\n            this.swalService.fireDialog(this.ctes.msgSureSaveFact).then(confirm => {\n                if (confirm.value) {\n                    this.loadingUiService.publishBlockMessage();\n                    this.asientoService.crearDocumento(this.form).subscribe(res => {\n                        if (this.isResultOk(res)) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            if (!this.isfacturacompra) {\n                                this.swalService.fireDialog(this.ctes.msgWishPrint).then(confprint => {\n                                    if (confprint.value) {\n                                        this.asientoService.imprimirFactura(res.trn_codigo);\n                                    }\n                                });\n                            }\n                        }\n                        this.evGuardarOk.emit(res);\n                    });\n                }\n            });\n        }\n    }\n\n    calculaPagos(filapago) {\n        try {\n            const dtvalor = filapago.dt_valor;\n            const index = this.form.pagos.indexOf(filapago);\n\n            const sobrante = (this.form.totales.total - dtvalor).toFixed(2);\n            let itpago = this.form.pagos[0];\n            if (index === 0) {\n                itpago = this.form.pagos[1];\n            }\n            if (itpago) {\n                itpago.dt_valor = sobrante;\n            }\n        } catch (e) {\n            console.error('Error en el calculo del total:', e);\n        }\n    }\n\n    onFilaIvaChange(fila: any) {\n        let dtPrecio = Number(fila.dt_precioiva);\n        if (!dtPrecio) {\n            dtPrecio = 0.0;\n        }\n        if (fila.icdp_grabaiva) {\n            dtPrecio = this.numberService.quitarIva(dtPrecio);\n        }\n        fila.dt_precio = dtPrecio;\n        this.recalcTotalFila(fila);\n    }\n\n    onFilaPrecioChange(fila: any) {\n        let dtPrecio = Number(fila.dt_precioiva);\n        if (!dtPrecio) {\n            dtPrecio = 0.0;\n        }\n        if (fila.icdp_grabaiva) {\n            if (!this.isfacturacompra) {\n                dtPrecio = this.numberService.quitarIva(dtPrecio);\n            }\n        }\n        fila.dt_precio = dtPrecio;\n\n        if (fila.dt_decto > fila.dt_precio) {\n            fila.dt_decto = 0.0;\n            fila.dt_dectoin = 0.0;\n        }\n\n        this.recalcTotalFila(fila);\n    }\n\n    cancelarCreaFactura() {\n        this.evCancela.emit('');\n    }\n\n    loadFormReferente() {\n        this.form.form_persona = {};\n        this.isDisabledFormRef = false;\n        this.isConsumidorFinal = false;\n        this.personaServ.getForm().subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.form.form_persona = res.form;\n                if (!this.isfacturacompra) {\n                    this.domService.setFocusTm(this.ctes.per_ciruc);\n                } else {\n                    if (this.form.form_cab.secuencia) {\n                        this.domService.setFocusTm(this.ctes.per_ciruc);\n                    } else {\n                        this.domService.setFocusTm(this.ctes.fc_secuencia);\n                    }\n                }\n            }\n        });\n    }\n\n    showFormCreaFact() {\n        this.isLoading = true;\n        this.initformfact();\n        const formCabObs = this.asientoService.getFormCab(this.tracodigo);\n        const secObs = this.seccionService.listar();\n\n        let perFormObs = null;\n        if (this.tracodigo === 7) {\n            perFormObs = this.personaServ.getForm();\n        } else {\n            perFormObs = this.personaServ.buscarPorCod(this.codConsFinal);\n        }\n\n        this.trncodedit = 0;\n        if (this.isedit) {\n            const keystrg = this.ctes.trncoded;\n            const auxtrncoded = this.localStrgService.getItem(keystrg);\n            this.localStrgService.removeItem(keystrg);\n            if (auxtrncoded) {\n                this.trncodedit = parseInt(auxtrncoded, 10);\n            }\n        }\n\n        forkJoin([formCabObs, secObs, perFormObs]).subscribe(res => {\n            const res0: any = res[0];\n            const res1: any = res[1];\n            const res2: any = res[2];\n\n            if (this.isResultOk(res0)) {\n                this.form.form_cab = res0.formcab;\n                this.form.form_cab.trn_fecregobj = this.fechasService.parseString(this.form.form_cab.trn_fecreg);\n                this.ttransacc = res0.ttransacc;\n                this.isfacturacompra = this.ttransacc.tra_tipdoc === 2;\n                this.form.pagos = res0.formaspago;\n                this.formdet = res0.formdet;\n                this.impuestos = res0.impuestos;\n                this.numberService.setIva(this.impuestos.iva);\n                this.seccionSel = res0.secid;\n            }\n\n            if (this.isResultOk(res1)) {\n                this.secciones = res1.items;\n            }\n\n            if (this.isResultOk(res2)) {\n                if (this.isfacturacompra) {\n                    this.form.form_persona = res2.form;\n                    this.isConsumidorFinal = false;\n                    this.isDisabledFormRef = false;\n                } else {\n                    this.form.form_persona = res2.persona;\n                    this.isConsumidorFinal = true;\n                    this.isDisabledFormRef = true;\n                }\n                this.formisloaded = true;\n            }\n\n            this.isLoading = false;\n\n            if (this.isfacturacompra) {\n                this.domService.setFocusTm(this.ctes.fc_secuencia);\n            } else {\n                this.domService.setFocusTm(this.ctes.artsAutoCom);\n            }\n\n            this.evFormLoaded.emit(this.form);\n\n            if (this.isedit && this.trncodedit > 0) {\n                this.swalService.fireToastSuccess(this.ctes.msgEditingFact);\n                this.asientoService.getDoc(this.trncodedit, 1).subscribe(resedit => {\n                    this.datosdocedit = resedit.doc;\n                    this.form.detalles = resedit.doc.detalles;\n                    this.form.form_cab = resedit.doc.tasiento;\n                    this.form.form_cab.trn_fecregobj = this.fechasService.parseString(this.form.form_cab.trn_fecreg);\n                    this.form.form_persona = resedit.doc.datosref;\n                    this.form.detalles.forEach(det => {\n                        this.recalcTotalFila(det);\n                    });\n                    this.totalizar();\n                    this.isConsumidorFinal = this.form.form_cab.per_codigo === -1;\n                });\n            }\n        });\n    }\n\n    verificaRefRegistrado() {\n        if (this.form.form_persona.per_id === 0) {\n            this.buscarReferente();\n        }\n    }\n\n    loadConsumidorFinal() {\n        this.personaServ.buscarPorCod(this.codConsFinal).subscribe(res => {\n            if (this.isResultOk(res)) {\n                this.form.form_persona = res.persona;\n                this.isDisabledFormRef = true;\n                this.isConsumidorFinal = true;\n            }\n        });\n    }\n\n    buscarReferente() {\n        const per_ciruc = this.form.form_persona.per_ciruc;\n        this.loadingUiService.publishBlockMessage();\n        this.personaServ.buscarPorCi(per_ciruc).subscribe(res => {\n            if (this.isResultOk(res)) {\n                    this.form.form_persona = res.persona;\n                this.domService.setFocusTm(this.ctes.artsAutoCom);\n                    this.swalService.fireToastSuccess(this.ctes.msgRefRegistered);\n                } else {\n                this.domService.setFocusTm(this.ctes.perNombresInput);\n                }\n            }\n        );\n    }\n\n    onConsFinalChange() {\n        if (!this.isConsumidorFinal) {\n            this.loadFormReferente();\n        } else {\n            this.loadConsumidorFinal();\n            this.domService.setFocusTm(this.ctes.artsAutoCom);\n        }\n    }\n\n    clearFormPersona() {\n        this.loadFormReferente();\n    }\n\n    onFilaDescChange(fila: any) {\n        let dtDecto = 0.0;\n        fila.dt_dectoerr = false;\n        const subt = fila.dt_cant * fila.dt_precioiva;\n        const numberdtdecto = Number(fila.dt_dectoin);\n        if (numberdtdecto >= 0 && this.numberService.round2(numberdtdecto) <= this.numberService.round2(subt)) {\n            dtDecto = numberdtdecto;\n        } else {\n            fila.dt_dectoerr = true;\n        }\n        fila.dt_decto = dtDecto;\n        this.recalcTotalFila(fila);\n    }\n\n    onServFilaSelected($event: any) {\n        this.artsFiltrados = [];\n        this.onServSelect($event);\n    }\n\n    ngOnDestroy(): void {\n        if (this.factMsgSubs) {\n            this.factMsgSubs.unsubscribe();\n        }\n    }\n\n    toggleConsFinal() {\n        this.isConsumidorFinal = !this.isConsumidorFinal;\n        this.onConsFinalChange();\n    }\n}\n","<h4 class=\"fw-bold\">\n    {{title}}\n</h4>\n<div class=\"row mt-1 mb-1\">\n    <div class=\"col-md-3\">\n        <app-rangofechas [form]=\"form\" (evFilterSel)=\"listar()\" [showlabels]=\"false\"></app-rangofechas>\n    </div>\n    <div class=\"col-md-3\">\n        <p-dropdown [options]=\"transaccs\" optionLabel=\"tra_nombre\"\n                    filter=\"false\"\n                    optionValue=\"tra_codigo\"\n                    placeholder=\"Seleccione el tipo de transacción\"\n                    [showClear]=\"false\"\n                    (onChange)=\"listar()\"\n                    [(ngModel)]=\"form.tracod\"></p-dropdown>\n    </div>\n    <div class=\"col-md-4\">\n        <div class=\"input-group\">\n            <input type=\"text\" class=\"form-control\" id=\"buscaInput\" (keyup)=\"doFilter($event)\" [(ngModel)]=\"filtro\"\n                   autocomplete=\"false\"\n                   placeholder=\"Buscar comprobante por número o por referente\">\n            <button class=\"btn btn-outline-primary\" type=\"button\" id=\"buttonSearh\" (click)=\"listar()\"\n                    title=\"Buscar comprobante\">\n                <i class=\"fa fa-search\"></i>\n            </button>\n        </div>\n    </div>\n    <div class=\"col-md-2 d-flex flex-row-reverse\">\n\n        <div class=\"ms-1 btn-group btn-group-sm dropend\" *ngIf=\"tracodigo!==7\">\n            <button type=\"button\" class=\"btn btn-outline-primary dropdown-toggle\"\n                    data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <i class=\"fa fa-plus-circle\"></i> Crear\n            </button>\n            <div class=\"dropdown-menu\">\n                <a href=\"#\" class=\"dropdown-item\" (click)=\"goToFormFact(1, $event)\"> Factura </a>\n                <a href=\"#\" class=\"dropdown-item\" (click)=\"goToFormFact(2, $event)\"> Nota de venta </a>\n            </div>\n        </div>\n\n        <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"goToForm()\" *ngIf=\"tracodigo===7\"\n                title=\"Registrar un nuevo producto o servicio\">\n            Crear <i class=\"fa fa-plus-circle\"></i>\n        </button>\n    </div>\n</div>\n<div class=\"mt-2 border\">\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n        <p-table [value]=\"grid.data\" [paginator]=\"true\" [rows]=\"50\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\n                 (onRowSelect)=\"onRowSelect($event)\"\n                 [resizableColumns]=\"true\"\n                 [(contextMenuSelection)]=\"selectedItem\"\n                 (onRowUnselect)=\"onUnRowSelect($event)\">\n            <ng-template pTemplate=\"header\">\n                <tr>\n                    <th *ngFor=\"let item of grid.cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\"\n                        [width]=\"item.width\">\n                        <span class=\"fontsizenr\">{{item.label}}</span>\n                        <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n                    </th>\n                    <th>\n\n                    </th>\n                </tr>\n            </ng-template>\n            <ng-template pTemplate=\"body\" let-rowData>\n                <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\" (dblclick)=\"verRow(rowData)\">\n                    <td *ngFor=\"let item of grid.cols\">\n                        <span class=\"fontsizesm\">{{rowData[item['field']]}}</span>\n                    </td>\n                    <td>\n                        <!--\n                        <button class=\"btn btn-sm btn-outline-dark me-3\" (click)=\"anularRow(rowData)\"\n                                title=\"Anular\">\n                            <i class=\"fas fa-trash\"></i>\n                        </button>\n                        -->\n                        <button class=\"btn btn-sm btn-outline-dark\" (click)=\"verRow(rowData)\" title=\"Editar\">\n                            <i class=\"fas fa-eye\"></i>\n                        </button>\n                    </td>\n                </tr>\n            </ng-template>\n            <ng-template pTemplate=\"footer\">\n                <tr>\n                    <th>\n\n                    </th>\n                    <th>\n\n                    </th>\n                    <th>\n                        <span class=\"fw-bold\">TOTAL:</span>\n                    </th>\n                    <th>\n                        <span> {{totales.efectivo}}</span>\n                    </th>\n                    <th>\n                        <span> {{totales.credito}}</span>\n                    </th>\n                    <th>\n                        <span> {{totales.saldopend}}</span>\n                    </th>\n                    <th>\n                        <span> {{totales.total}}</span>\n                    </th>\n                    <th>\n\n                    </th>\n                </tr>\n            </ng-template>\n            <ng-template pTemplate=\"emptymessage\" let-columns>\n                <tr>\n                    <td [attr.colspan]=\"grid.cols.length+1\">\n                        <span class=\"text-muted\">No hay registros</span>\n                    </td>\n                </tr>\n            </ng-template>\n        </p-table>\n    </div>\n</div>\n\n\n<div *ngIf=\"isShowDetallesFactura\">\n    <p-dialog header=\"Detalles del documento\" [modal]=\"true\" [style]=\"{width: '90vw'}\" [baseZIndex]=\"10000\"\n              [(visible)]=\"isShowDetallesFactura\">\n        <app-facturaview [trncod]=\"codFacturaSel\" (evBtnClosed)=\"closeDetFact()\" (evAnulado)=\"listar()\"\n                         (evEditar)=\"onEditar($event)\" [isPermAnul]=\"true\" [isPermEdit]=\"true\"></app-facturaview>\n    </p-dialog>\n</div>\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {startOfMonth} from 'date-fns';\nimport {FechasService} from '../../../../services/fechas.service';\nimport {LocalStorageService} from '../../../../services/local-storage.service';\n\n@Component({\n    selector: 'app-facturaslist',\n    templateUrl: './facturaslist.component.html'\n})\nexport class FacturaslistComponent implements OnInit {\n    title: any;\n    filtro: string;\n    isLoading: boolean;\n    grid: any;\n    selectedItem: any;\n    isShowDetallesFactura: boolean;\n    codFacturaSel: number;\n    form: any = {};\n    previustimer: any = 0;\n    totales: any;\n    transaccs: Array<any> = [];\n    @Input() tracodigo: number;\n    @Input() tipo: number;\n\n    constructor(private router: Router,\n                private asientoService: AsientoService,\n                private localStgServ: LocalStorageService,\n                private fechasservice: FechasService) {\n        this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n    }\n\n    ngOnInit(): void {\n        this.title = 'Compras';\n        if (this.tipo === 1) {\n            this.title = 'Ventas';\n        }\n        this.filtro = '';\n        this.isLoading = true;\n        this.grid = {};\n        this.isShowDetallesFactura = false;\n        const hasta = new Date();\n        const desde = startOfMonth(hasta);\n        this.form = {desde, hasta, tipo: this.tipo};\n        this.asientoService.listarTransaccsBytTipo(this.tipo).subscribe(res => {\n            if (res.status === 200) {\n                this.transaccs = res.items;\n            }\n            this.form.tracod = 0;\n            this.listar();\n        });\n    }\n\n\n    ondesdechange() {\n\n    }\n\n    onhastachange() {\n\n    }\n\n    filtroDelayFn(context) {\n        context.listar();\n    }\n\n    delayKeyup(callback, ms, prevtimer, context) {\n        clearTimeout(prevtimer);\n        return setTimeout(() => {\n            callback(context);\n        }, ms);\n    }\n\n    doFilter($event: KeyboardEvent) {\n        this.previustimer = this.delayKeyup(this.filtroDelayFn, 500, this.previustimer, this);\n    }\n\n    listar() {\n        let desde = '';\n        let hasta = '';\n        if (this.form.desde) {\n            desde = this.fechasservice.formatDate(this.form.desde);\n        }\n        if (this.form.hasta) {\n            hasta = this.fechasservice.formatDate(this.form.hasta);\n        }\n        this.isLoading = true;\n        this.asientoService.listarGridVentas(desde, hasta, this.filtro, this.form.tracod, this.tipo).subscribe(res => {\n            if (res.status === 200) {\n                this.grid = res.grid;\n                this.totales = res.totales;\n            }\n            this.isLoading = false;\n        });\n    }\n\n    goToForm() {\n        this.router.navigate(['trndocform', this.tracodigo, 'c']);\n    }\n\n    goToFormFact(tipo, $event: MouseEvent) {\n        $event.preventDefault();\n        this.router.navigate(['trndocform', tipo, 'c']);\n    }\n\n    onRowSelect($event: any) {\n\n    }\n\n    onUnRowSelect($event: any) {\n\n    }\n\n    verRow(rowData) {\n        this.codFacturaSel = rowData.trn_codigo;\n        this.isShowDetallesFactura = true;\n    }\n\n    closeDetFact() {\n        this.isShowDetallesFactura = false;\n    }\n\n    onEditar($event: any) {\n        this.closeDetFact();\n        this.localStgServ.setItem('trncoded', $event);\n        this.router.navigate(['trndocform', this.tracodigo, 'e']);\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\n\n@Component({\n    selector: 'app-facturaslistgen',\n    template: `\n        <app-facturaslist [tracodigo]=\"tracodigo\" [tipo]=\"tipo\"></app-facturaslist>\n    `\n})\nexport class FacturaslistgenComponent implements OnInit {\n    tipo: number; // 1-ventas//2-compras\n    tracodigo: number;\n\n    constructor(private router: Router,\n                private route: ActivatedRoute) {\n        this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n        this.route.paramMap.subscribe(params => {\n            this.tipo = parseInt(params.get('tipo'), 10);\n            if (this.tipo === 1) {\n                this.tracodigo = 1;\n            } else {\n                this.tracodigo = 7;\n            }\n        });\n    }\n\n    ngOnInit(): void {\n    }\n}\n","import {Component, Input} from '@angular/core';\n\n@Component({\n    selector: 'app-detfactview',\n    template: `\n        <div class=\"table-responsive\">\n            <table class=\"table table-sm table-bordered\">\n                <thead>\n                <tr>\n                    <th scope=\"col\"><span class=\"fontsizesm\">Código</span></th>\n                    <th scope=\"col\"><span class=\"fontsizesm\">Producto/Servicio <span\n                            class=\"badge badge-pill badge-primary\"> {{detalles.length}} </span> </span></th>\n                    <th scope=\"col\"><span class=\"fontsizesm\">Cant.</span></th>\n                    <th scope=\"col\">\n                        <div class=\"d-flex flex-row-reverse\">\n                            <span class=\"fontsizesm\">Precio U.</span>\n                        </div>\n                    </th>\n                    <th scope=\"col\"><span class=\"fontsizesm\">Iva</span></th>\n                    <th scope=\"col\">\n                        <div class=\"d-flex flex-row-reverse\">\n                            <span class=\"fontsizesm\">Desc.</span>\n                        </div>\n                    </th>\n                    <th scope=\"col\">\n                        <div class=\"d-flex flex-row-reverse\">\n                            <span class=\"fontsizesm\">Precio T.</span>\n                        </div>\n                    </th>\n\n                </tr>\n                </thead>\n                <tbody>\n                <tr *ngFor=\"let fila of detalles\" class=\"hand\">\n                    <td>\n                        <span class=\"fw-normal fontsizesm\">{{fila.ic_code}}</span>\n                    </td>\n                    <td>\n                        <span class=\"fw-bold fontsizesm\">{{fila.ic_nombre}}</span>\n                    </td>\n                    <td>\n                        <span class=\"fontsizesm\">{{fila.dt_cant}}</span>\n                    </td>\n                    <td>\n                        <div class=\"d-flex flex-row-reverse\">\n                            <span class=\"fontsizesm\">{{fila.dt_precio}}</span>\n                        </div>\n                    </td>\n                    <td>\n                        <span class=\"fontsizesm\">{{fila.dai_impg > 0 ? 'S' : 'N'}}</span>\n                    </td>\n                    <td>\n                        <div class=\"d-flex flex-row-reverse\">\n                            <span class=\"fontsizesm\">{{fila.dt_decto}}</span>\n                        </div>\n                    </td>\n                    <td>\n                        <div class=\"d-flex flex-row-reverse\">\n                            <span class=\"fontsizesm fw-bold\">{{fila.dt_valor|number:'.2'}}</span>\n                        </div>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </div>\n    `\n})\nexport class DetfactviewComponent {\n\n    @Input() detalles: Array<any> = [];\n\n}\n","<app-loading *ngIf=\"showAnim\"></app-loading>\n\n<div *ngIf=\"!showAnim\">\n    <div class=\"row\">\n        <div class=\"col-md-4\">\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\">Tipo:</span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold  fontsizenr\">{{doc.tasiento.tra_nombre}}</span>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\">Número:</span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold  fontsizenr\">{{doc.tasiento.trn_compro}}</span>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\">Fecha:</span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\">{{doc.tasiento.trn_fecreg}}</span>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\">Estado:</span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\">{{doc.tasiento.estado}}</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-5\">\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\">Referente:</span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\">{{doc.tasiento.referente}}</span>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\">Ci/Ruc:</span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\">{{doc.tasiento.per_ciruc}}</span>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\">Telf:</span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\">{{doc.tasiento.per_telf}}</span>\n                </div>\n            </div>\n            <div class=\"row\">\n                <div class=\"col-md-3\">\n                    <span class=\"fw-normal fontsizenr\">Dirección:</span>\n                </div>\n                <div class=\"col-md\">\n                    <span class=\"fw-bold fontsizenr\">{{doc.tasiento.per_direccion}}</span>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-3\">\n            <div>\n                <span class=\"fw-normal fontsizenr\">Creado por: </span>\n            </div>\n            <div>\n                <span class=\"fw-bold fontsizenr\">{{doc.tasiento.us_cuenta}}</span>\n                <span class=\"fw-normal fontsizenr\"> el </span>\n                <span class=\"fw-bold fontsizenr\">{{doc.tasiento.trn_fecha}}</span>\n            </div>\n        </div>\n    </div>\n    <div class=\"mt-1\">\n        <app-detfactview [detalles]=\"doc.detalles\"></app-detfactview>\n    </div>\n\n    <div class=\"mt-1\">\n        <div class=\"row\">\n            <div class=\"col-md-5\">\n                <div>\n                    <span class=\"fw-normal\">Observación:</span>\n                </div>\n                <p class=\"text-muted\" *ngIf=\"doc.tasiento.trn_observ.length===0\"> No registra observación </p>\n                <p *ngIf=\"doc.tasiento.trn_observ.length>0\" style=\"white-space: pre-line\"\n                   class=\"fontsizenr fw-normal\">{{doc.tasiento.trn_observ}}</p>\n            </div>\n            <div class=\"col-md-3 border\">\n                <div>\n                    <span class=\"text-muted\">PAGOS:</span>\n                </div>\n                <div class=\"d-flex flex-column\">\n                    <div class=\"row\" *ngFor=\"let pago of doc.pagos\">\n                        <div class=\"col-md-7\">\n                            <span class=\"fw-bold fontsizenr\">{{pago.ic_nombre}} $:</span>\n                        </div>\n                        <div class=\"col-md-5\">\n                            <span class=\"fw-bold text-success\">{{pago.dt_valor|number:'.2'}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-4 border\">\n                <div class=\"d-flex flex-column\">\n                    <div class=\"row\">\n                        <div class=\"col-md-8\"><span class=\"fw-bold fontsizenr\">Subtotal $:</span></div>\n                        <div class=\"col-md\"><span\n                                class=\"fw-bold fontsizenr\"> {{doc.totales.subtotal|number:'.2'}} </span>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-8\">\n                            <span class=\"fw-bold fontsizenr\">(-)Descuento $:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <span class=\"fw-bold fontsizenr\"> {{doc.totales.descuentos|number:'.2'}} </span>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-8\">\n                                <span class=\"fw-bold fontsizenr\">(+)Iva {{doc.tasiento.trn_impref * 100}}%\n                            de ${{doc.totales.subtotal12}}:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <span class=\"fw-bold fontsizenr\"> {{doc.totales.iva|number:'.2'}} </span>\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-8\">\n                            <span class=\"fw-bold\">Total $:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <span class=\"fw-bold\"> {{doc.totales.total|number:'.2'}} </span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"mt-3\" *ngIf=\"showBtns\">\n        <div class=\"d-md-flex justify-content-between\">\n            <div class=\"d-flex flex-row-reverse\">\n                <button class=\"btn btn-outline-primary\" [disabled]=\"isLoading\"\n                        (click)=\"anular()\" *ngIf=\"isPermAnul\"><i\n                        class=\"fa fa-trash\"></i> Anular\n                </button>\n                <button class=\"btn btn-outline-primary me-md-1\" [disabled]=\"isLoading\"\n                        (click)=\"editar()\" *ngIf=\"isPermAnul\"><i\n                        class=\"fa fa-edit\"></i> Editar\n                </button>\n            </div>\n\n            <div class=\"d-flex flex-row-reverse\">\n                <button class=\"btn btn-outline-primary ms-2\" [disabled]=\"isLoading\" (click)=\"onCloseClick()\"><i\n                        class=\"fa fa-times\"></i> Cerrar\n                </button>\n                <button class=\"btn btn-outline-primary\" [disabled]=\"isLoading\" *ngIf=\"isShowImprimir\"\n                        (click)=\"imprimir()\"><i\n                        class=\"fa fa-print\"></i> Imprimir\n                </button>\n            </div>\n        </div>\n    </div>\n\n</div>\n\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {SwalService} from '../../../../services/swal.service';\nimport {CtesService} from '../../../../services/ctes.service';\nimport {BaseComponent} from '../../../shared/base.component';\n\n@Component({\n    selector: 'app-facturaview',\n    templateUrl: './facturaview.component.html'\n})\nexport class FacturaviewComponent extends BaseComponent implements OnInit, OnChanges {\n    doc: any;\n    showAnim: boolean;\n    isShowImprimir = false;\n    isLoading = false;\n\n    @Input() trncod: number;\n    @Input() isPermEdit = false;\n    @Input() isPermAnul = false;\n    @Output() evFacturaLoaded = new EventEmitter<any>();\n    @Output() evBtnClosed = new EventEmitter<any>();\n    @Output() evAnulado = new EventEmitter<any>();\n    @Output() evEditar = new EventEmitter<any>();\n\n    @Input() showBtns = true;\n\n    constructor(private tasientoService: AsientoService,\n                private ctes: CtesService,\n                private swalService: SwalService) {\n        super();\n    }\n\n    ngOnInit(): void {\n        this.doc = {};\n        this.showAnim = true;\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const trncodChange = changes.trncod;\n        if (trncodChange.currentValue && trncodChange.currentValue > 0) {\n            this.loadDatosFactura();\n        }\n    }\n\n    loadDatosFactura() {\n        this.showAnim = true;\n        this.tasientoService.getDoc(this.trncod).subscribe(res => {\n            this.showAnim = false;\n            if (this.isResultOk(res)) {\n                this.doc = res.doc;\n                this.evFacturaLoaded.emit(this.doc);\n                this.isShowImprimir = this.doc.tasiento.tra_codigo === 1 || this.doc.tasiento.tra_codigo === 2;\n            }\n        });\n    }\n\n    onCloseClick() {\n        this.evBtnClosed.emit();\n    }\n\n    imprimir() {\n        this.tasientoService.imprimirFactura(this.trncod);\n    }\n\n    anular() {\n        if (confirm(this.ctes.msgSureWishAnulRecord)) {\n            this.isLoading = true;\n            this.tasientoService.anular(this.trncod, '').subscribe(res => {\n                this.isLoading = false;\n                if (this.isResultOk(res)) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.evAnulado.emit('');\n                    this.evBtnClosed.emit();\n                }\n            });\n        }\n    }\n\n    editar() {\n        if (confirm(this.ctes.msgSureWishEditRecord)) {\n            this.evEditar.emit(this.trncod);\n        }\n    }\n}\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\n\n@Component({\n    selector: 'app-newfacturaform',\n    template: `\n        <app-facturasform [tracodigo]=\"tracodigo\" [form]=\"form\"\n                          [isedit]=\"isedit\"\n                          (evCancela)=\"oncancelar()\"\n                          (evGuardarOk)=\"onguardar()\">\n        </app-facturasform>\n    `\n})\nexport class NewfacturaformComponent implements OnInit {\n\n    form: any;\n    tracodigo: number;\n    isedit = false;\n\n    constructor(private router: Router,\n                private route: ActivatedRoute) {\n        this.route.paramMap.subscribe(params => {\n            this.tracodigo = parseInt(params.get('tracodigo'), 10);\n            const acc = params.get('acc');\n            this.isedit = acc === 'e';\n        });\n    }\n\n    ngOnInit(): void {\n        this.form = {\n            form_cab: {},\n            form_persona: {},\n            detalles: [],\n            pagos: [],\n            totales: {}\n        };\n    }\n\n    gotolist() {\n        let tipo = 2;\n        if (this.tracodigo !== 7) {\n            tipo = 1;\n        }\n        this.router.navigate(['trndocs', tipo]);\n    }\n\n    onguardar() {\n        this.gotolist();\n    }\n\n    oncancelar() {\n        this.gotolist();\n    }\n\n}\n","<h4 class=\"mt-2\">Utilidades</h4>\n<div>\n    <div *ngIf=\"isLoading\">\n        <app-loading></app-loading>\n    </div>\n    <div *ngIf=\"!isLoading\">\n\n        <div class=\"row\">\n            <div class=\"col-md-3 d-flex flex-column\">\n                <span class=\"fw-bold\">Fechas:</span>\n                <app-rangofechas [form]=\"form\"\n                                 [showlabels]=\"false\"\n                                 (evDesdeChange)=\"onDesdeChange($event)\"\n                                 (evHastaChange)=\"onHastaChange($event)\"\n                                 (evFilterSel)=\"onTipoFechaSel()\">\n                </app-rangofechas>\n            </div>\n            <div class=\"col-md-3 d-flex flex-column\">\n                <span class=\"fw-bold\">Tipo:</span>\n                <p-dropdown [options]=\"transaccs\" optionLabel=\"tra_nombre\"\n                            optionValue=\"tra_codigo\"\n                            placeholder=\"Seleccione el tipo\"\n                            (onChange)=\"onFiltroTipoTransaccSel($event)\"\n                            [(ngModel)]=\"form.tipotra\"></p-dropdown>\n\n            </div>\n            <div class=\"col-md-3 d-flex flex-column\">\n                <span class=\"fw-bold\">Forma Pago:</span>\n                <p-dropdown [options]=\"formpaspago\" optionLabel=\"label\"\n                            optionValue=\"value\"\n                            placeholder=\"Seleccione la forma de pago\"\n                            (onChange)=\"onFormaPagoChange($event)\"\n                            [(ngModel)]=\"form.tipopago\"></p-dropdown>\n\n            </div>\n            <div class=\"col-md-2 d-flex flex-column\">\n                <span class=\"fw-bold\">Tipo Prod/Serv</span>\n                <p-dropdown [options]=\"tiposprod\" optionLabel=\"label\"\n                            optionValue=\"value\"\n                            placeholder=\"Seleccione el tipo de prod/serv\"\n                            (onChange)=\"onTipoProdChange($event)\"\n                            [(ngModel)]=\"form.tipoprod\"></p-dropdown>\n            </div>\n            <div class=\"col-md-1 d-flex align-items-end\">\n                <button class=\"btn btn-outline-primary\" (click)=\"loadGrid()\">\n                    Buscar\n                </button>\n            </div>\n        </div>\n\n        <div class=\"mt-2\">\n            <div *ngIf=\" isLoadingGrid\">\n                <app-loading></app-loading>\n            </div>\n            <p-table *ngIf=\"!isLoadingGrid\" [value]=\"grid.data\" [paginator]=\"true\" [rows]=\"50\"\n                     selectionMode=\"single\"\n                     [resizableColumns]=\"true\">\n                <ng-template pTemplate=\"header\">\n                    <tr>\n                        <th *ngFor=\"let item of grid.cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\"\n                            [width]=\"item.width\">\n                            <span class=\"fontsizesm\">{{item.label}}</span>\n                            <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n                        </th>\n                        <th>\n\n                        </th>\n                    </tr>\n                </ng-template>\n                <ng-template pTemplate=\"body\" let-rowData>\n                    <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\">\n                        <td *ngFor=\"let item of grid.cols\" [width]=\"item.width\">\n                                <span class=\"fontsizesm\">\n                                    {{rowData[item['field']]}}\n                                </span>\n                        </td>\n                        <!--\n                        <td>\n                            <button class=\"btn btn-sm btn-outline-dark\" (click)=\"verDetalles(rowData)\"\n                                    title=\"Ver Detalles\">\n                                <i class=\"fa fa-eye\"></i>\n                            </button>\n                        </td>\n                        -->\n                    </tr>\n                </ng-template>\n                <ng-template pTemplate=\"emptymessage\" let-columns>\n                    <tr>\n                        <td [attr.colspan]=\"grid.cols?.length+1\">\n                            <span class=\"text-muted\">No hay registros</span>\n                        </td>\n                    </tr>\n                </ng-template>\n\n                <ng-template pTemplate=\"footer\">\n                    <tr>\n                        <td colspan=\"12\"><span class=\"fw-bold\">Total:  </span></td>\n                        <td><span class=\"fw-bold\">{{totales.utilidad}}</span></td>\n                    </tr>\n                </ng-template>\n\n            </p-table>\n        </div>\n\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {UtilventasService} from '../../../../services/utilventas.service';\nimport {FechasService} from '../../../../services/fechas.service';\n\n@Component({\n    selector: 'app-utilidades',\n    templateUrl: './utilidades.component.html'\n})\nexport class UtilidadesComponent implements OnInit {\n\n    isLoading = false;\n    form: any = {};\n    transaccs: Array<any> = [];\n    formpaspago: Array<any> = [];\n    tiposprod: Array<any> = [];\n    grid: any = {};\n    totales: any = {};\n    isLoadingGrid = false;\n\n    constructor(private utilventasService: UtilventasService,\n                private fechasService: FechasService) {\n    }\n\n    ngOnInit(): void {\n        this.loadForm();\n    }\n\n    loadForm() {\n        this.isLoading = true;\n        this.utilventasService.getForm().subscribe(res => {\n            this.isLoading = false;\n            if (res.status === 200) {\n                this.form = res.form;\n                this.form.desde = this.fechasService.parseString(res.form.desde);\n                this.form.hasta = this.fechasService.parseString(res.form.hasta);\n                this.transaccs = res.transaccs;\n                this.formpaspago = res.formaspago;\n                this.tiposprod = res.tiposprodserv;\n            }\n        });\n    }\n\n    loadGrid() {\n        this.isLoadingGrid = true;\n\n        if (this.form.desde) {\n            this.form.desdestr = this.fechasService.formatDate(this.form.desde);\n        }\n        if (this.form.hasta) {\n            this.form.hastastr = this.fechasService.formatDate(this.form.hasta);\n        }\n\n        this.utilventasService.getGrid(this.form).subscribe(res => {\n            this.isLoadingGrid = false;\n            if (res.status === 200) {\n                this.grid = res.grid;\n                this.totales = res.totales;\n            }\n        });\n    }\n\n    onDesdeChange($event: any) {\n\n    }\n\n    onHastaChange($event: any) {\n\n    }\n\n    onTipoFechaSel() {\n        this.loadGrid();\n    }\n\n    onFiltroTipoTransaccSel($event: any) {\n\n    }\n\n    onFormaPagoChange($event: any) {\n\n    }\n\n    onTipoProdChange($event: any) {\n\n    }\n}\n","<div class=\"row\">\n    <div class=\"col\">\n        <h4>{{rolId == 0 ? 'Crear' : 'Editar'}} rol del sistema</h4>\n    </div>\n    <div class=\"col-3 d-flex justify-content-end\">\n        <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"cancelar()\"\n                    title=\"Retornar a listado de roles del sistema\">\n                <i class=\"fa fa-arrow-left\"></i>\n            </button>\n        </div>\n    </div>\n</div>\n<hr>\n<div class=\"row\">\n    <div class=\"col-md-10\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <div>\n                    <div class=\"mb-3\">\n                        <label for=\"rlNombre\"><span class=\"required\">*</span>Nombre:</label>\n                        <input type=\"text\" maxlength=\"30\" class=\"form-control\" (keyup.enter)=\"setFocus('rlAbreviacion')\"\n                               (keyup)=\"$event.target.value=$event.target.value.toUpperCase()\"\n                               id=\"rlNombre\" name=\"rl_name\" [(ngModel)]=\"form.rl_name\" placeholder=\"\"\n                               autocomplete=\"off\">\n                    </div>\n                    <div class=\"mb-3\">\n                        <label for=\"rlAbreviacion\">\n                            <span class=\"required\">*</span>Abreviación:</label>\n                        <input type=\"text\" maxlength=\"20\" class=\"form-control\" (keyup.enter)=\"setFocus('rlDesc')\"\n                               (keyup)=\"$event.target.value=$event.target.value.toUpperCase()\"\n                               id=\"rlAbreviacion\" name=\"rl_abreviacion\" [(ngModel)]=\"form.rl_abreviacion\" placeholder=\"\"\n                               autocomplete=\"off\">\n                    </div>\n                    <div class=\"mb-3\">\n                        <label for=\"rlDesc\">Detalle:</label>\n                        <textarea class=\"form-control\" id=\"rlDesc\" maxlength=\"800\" name=\"rl_desc\"\n                                  [(ngModel)]=\"form.rl_desc\" rows=\"5\"></textarea>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col\">\n                <div class=\"card\">\n                    <div class=\"card-header\">\n                        <span class=\"text-primary\">Permisos</span>\n                    </div>\n                    <ul class=\"list-group list-group-flush scrol-list-group\">\n                        <li class=\"list-group-item hand list-group-item-action {{item.rl_marca?'list-group-item-success':''}}\"\n                            *ngFor=\"let item of permisos\" (click)=\"selectPermiso(item)\"><i\n                                class=\"fa  {{item.rl_marca?'fa-check-square-o':'fa-square-o'}}\"></i>\n                            {{item.prm_nombre}} </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"col-md-2\">\n        <div class=\"d-grid gap-2\">\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"guardar()\">\n                <i class=\"fa fa-save\"></i>\n                Guardar\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancelar()\">\n                <i class=\"fa fa-times\"></i>\n                Cancelar\n            </button>\n        </div>\n    </div>\n\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SwalService} from '../../../../services/swal.service';\nimport {LoadingUiService} from '../../../../services/loading-ui.service';\nimport {RolService} from '../../../../services/rol.service';\nimport {CadsUtilService} from '../../../../services/cads-util.service';\nimport {DomService} from '../../../../services/dom.service';\n\n@Component({\n    selector: 'app-rolesform',\n    templateUrl: './rolesform.component.html',\n    styleUrls: ['./rolesform.component.css']\n})\nexport class RolesformComponent implements OnInit {\n    form: any;\n    permisos: Array<any>;\n    rolId: number;\n\n    constructor(private router: Router,\n                private route: ActivatedRoute,\n                private swalService: SwalService,\n                private rolesService: RolService,\n                private cadsUtilService: CadsUtilService,\n                private domService: DomService,\n                private loadingUiService: LoadingUiService) {\n    }\n\n    ngOnInit(): void {\n        this.rolId = 0;\n        this.form = {};\n        this.permisos = [];\n        this.route.paramMap.subscribe(params => {\n            this.rolId = parseInt(params.get('rl_id'), 10);\n            this.loadForm();\n        });\n    }\n\n    cancelar() {\n        this.router.navigate(['roles']);\n    }\n\n    loadForm() {\n        this.loadingUiService.publishBlockMessage();\n        if (this.rolId === 0) {\n            this.rolesService.getFormCrear().subscribe(res => {\n                if (res.status === 200) {\n                    this.form = res.form;\n                    this.permisos = res.permisos;\n                    this.domService.setFocusTm('rlNombre', 500);\n                }\n            });\n        } else {\n            this.rolesService.getFormEditar(this.rolId).subscribe(res => {\n                if (res.status === 200) {\n                    this.form = res.form;\n                    this.permisos = res.form.permisos;\n                    this.domService.setFocusTm('rlNombre', 500);\n                }\n            });\n        }\n    }\n\n    setFocus(nomApelInput: string) {\n        this.domService.setFocus(nomApelInput);\n    }\n\n    selectPermiso(item: any) {\n        item.rl_marca = !item.rl_marca;\n    }\n\n    guardar() {\n        if (!this.cadsUtilService.esNoNuloNoVacio(this.form.rl_name)) {\n            this.swalService.fireToastError('Por favor ingrese el nombre');\n        } else if (!this.cadsUtilService.esNoNuloNoVacio(this.form.rl_abreviacion)) {\n            this.swalService.fireToastError('Por favor ingrese la abreviación');\n        } else {\n            const filtrados = this.permisos.filter(item => {\n                return item.rl_marca;\n            });\n            if (filtrados.length === 0) {\n                this.swalService.fireToastError('Debe seleccionar los permisos para el rol');\n            } else {\n                this.form.permisos = filtrados;\n                this.loadingUiService.publishBlockMessage();\n                this.rolesService.crear(this.form).subscribe(res => {\n                    this.swalService.fireToastSuccess(res.msg);\n                    if (res.status === 200) {\n                        this.router.navigate(['roles']);\n                    }\n                });\n            }\n        }\n    }\n}\n","<div class=\"row align-items-end\">\n    <div class=\"col-md-4\">\n        <h4>Roles del sistema</h4>\n    </div>\n    <div class=\"col d-flex justify-content-end\">\n        <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"loadGrid()\">\n                <i class=\"fa fa-sync\"></i>\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"nuevo()\">\n                <i class=\"fa fa-plus-circle\"></i>\n                Crear\n            </button>\n\n        </div>\n    </div>\n</div>\n<hr>\n\n<p-table [value]=\"items\" [paginator]=\"true\" [rows]=\"50\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\n         (onRowSelect)=\"onRowSelect($event)\"\n         [autoLayout]=\"false\"\n         [resizableColumns]=\"true\"\n         [(contextMenuSelection)]=\"selectedItem\"\n         (onRowUnselect)=\"onUnRowSelect($event)\">\n    <ng-template pTemplate=\"header\">\n        <tr>\n            <th *ngFor=\"let item of cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\" [width]=\"item.width\">\n                {{item.label}}\n                <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n            </th>\n            <th>\n                Acción\n            </th>\n        </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-rowData>\n        <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\">\n            <td *ngFor=\"let item of cols\">\n                {{rowData[item['field']]}}\n            </td>\n            <td>\n                <button class=\"btn btn-sm btn-outline-dark\" style=\"margin-right: 5px\" (click)=\"anularRow(rowData)\"\n                        title=\"Anular\">\n                    <i class=\"fa fa-trash\"></i>\n                </button>\n                <button class=\"btn btn-sm btn-outline-dark\" (click)=\"editarRow(rowData)\" title=\"Editar\">\n                    <i class=\"fa fa-edit\"></i>\n                </button>\n            </td>\n        </tr>\n    </ng-template>\n\n    <ng-template pTemplate=\"emptymessage\" let-columns>\n        <tr>\n            <td [attr.colspan]=\"cols.length+1\">\n                <span class=\"text-muted\">No hay registros</span>\n            </td>\n        </tr>\n    </ng-template>\n</p-table>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SwalService} from '../../../../services/swal.service';\nimport {RolService} from '../../../../services/rol.service';\nimport {LoadingUiService} from '../../../../services/loading-ui.service';\n\n@Component({\n    selector: 'app-roleslist',\n    templateUrl: './roleslist.component.html'\n})\nexport class RoleslistComponent implements OnInit {\n\n    items: Array<any> = [];\n    cols: Array<any> = [];\n    selectedItem: any;\n\n    enableBtns: boolean;\n\n    constructor(private router: Router,\n                private route: ActivatedRoute,\n                private swalService: SwalService,\n                private rolService: RolService,\n                private loadingUiService: LoadingUiService) {\n    }\n\n    ngOnInit(): void {\n        this.loadGrid();\n    }\n\n    nuevo() {\n        this.router.navigate(['roles', 'form', 0]);\n    }\n\n    onRowSelect(event) {\n        this.enableBtns = true;\n    }\n\n    onUnRowSelect(event) {\n        this.enableBtns = false;\n    }\n\n    loadGrid() {\n        this.rolService.listar().subscribe(res => {\n            this.cols = res.items.cols;\n            this.items = res.items.data;\n        });\n    }\n\n    anularRow(rowData) {\n        this.swalService.fireDialog('¿Confirma que desea anular este rol', '').then(confirm => {\n                if (confirm.value) {\n                    this.loadingUiService.publishBlockMessage();\n                    this.rolService.anular(rowData.rl_id).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadGrid();\n                        }\n                    });\n                }\n            }\n        );\n    }\n\n    editarRow(rowData) {\n        this.router.navigate(['roles', 'form', rowData.rl_id]);\n    }\n}\n","<div class=\"row\">\n    <div class=\"col\">\n        <h4>{{usId == 0 ? 'Crear' : 'Editar'}} usuario del sistema</h4>\n    </div>\n    <div class=\"col-3 d-inline-flex flex-row-reverse\">\n        <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"cancelar()\"\n                    title=\"Retornar a listado de roles del sistema\">\n                <i class=\"fa fa-arrow-left\"></i>\n            </button>\n        </div>\n    </div>\n</div>\n<hr>\n<div class=\"row\">\n    <div class=\"col-md-10\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <div *ngIf=\"usId>0\">\n                    <div class=\"mb-3\">\n                        <label for=\"perNombres\"><span class=\"required\">*</span>Nombres:</label>\n                        <input type=\"text\" maxlength=\"30\" class=\"form-control\" [disabled]=\"false\" [readOnly]=\"true\"\n                               id=\"perNombres\" name=\"rl_name\" [(ngModel)]=\"formcli.per_nombres\" placeholder=\"\"\n                               autocomplete=\"off\">\n                    </div>\n                    <div class=\"mb-3\">\n                        <label for=\"perApellidos\"><span class=\"required\">*</span>Apellidos:</label>\n                        <input type=\"text\" maxlength=\"30\" class=\"form-control\" [disabled]=\"false\" [readOnly]=\"true\"\n                               id=\"perApellidos\" name=\"rl_name\" [(ngModel)]=\"formcli.per_apellidos\" placeholder=\"\"\n                               autocomplete=\"off\">\n                    </div>\n                </div>\n                <div *ngIf=\"usId==0\">\n\n                    <div class=\"card border-success\">\n                        <div class=\"card-header border-success\">\n                            Datos del referente\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"mb-3\">\n                                <label for=\"ciPasInput\">\n                                    <span class=\"required\">*</span>\n                                    Número Cédula/Pasaporte:</label>\n                                <input type=\"text\" maxlength=\"15\" class=\"form-control\"\n                                       (keyup.enter)=\"setFocus('nomApelInput')\" id=\"ciPasInput\" name=\"per_ciruc\"\n                                       (blur)=\"buscarPersona()\" [(ngModel)]=\"formcli.per_ciruc\" placeholder=\"\"\n                                       autocomplete=\"off\">\n                            </div>\n\n                            <div class=\"mb-3\">\n                                <label for=\"nomApelInput\">\n                                    <span class=\"required\">*</span>\n                                    Nombres:</label>\n                                <input type=\"text\" maxlength=\"80\" class=\"form-control\"\n                                       (keyup)=\"$event.target.value=$event.target.value.toUpperCase()\"\n                                       (keyup.enter)=\"setFocus('ApelInput')\" id=\"nomApelInput\" name=\"per_nombres\"\n                                       [(ngModel)]=\"formcli.per_nombres\" placeholder=\"\" autocomplete=\"off\">\n                            </div>\n\n                            <div class=\"mb-3\">\n                                <label for=\"ApelInput\">Apellidos:</label>\n                                <input type=\"text\" maxlength=\"80\" class=\"form-control \" id=\"ApelInput\"\n                                       (keyup)=\"$event.target.value=$event.target.value.toUpperCase()\"\n                                       (keyup.enter)=\"setFocus('numCelInput')\" name=\"per_apellidos\"\n                                       [(ngModel)]=\"formcli.per_apellidos\" placeholder=\"\" autocomplete=\"off\">\n                            </div>\n\n                            <div class=\"mb-3\">\n                                <label for=\"numCelInput\">\n                                    <i class=\"fa fa-phone\"></i>\n                                    Nro Teléfono Celular:</label>\n                                <input type=\"text\" class=\"form-control \" id=\"numCelInput\"\n                                       (keyup.enter)=\"setFocus('emailInput')\" name=\"per_movil\"\n                                       [(ngModel)]=\"formcli.per_movil\" placeholder=\"\" autocomplete=\"off\">\n                            </div>\n\n                            <div class=\"mb-3\">\n                                <label for=\"emailInput\">\n                                    <i class=\"fa fa-envelope\"></i>\n                                    Dirección de correo:</label>\n                                <input type=\"email\" class=\"form-control \" id=\"emailInput\" name=\"per_email\"\n                                       (keyup.enter)=\"setFocus('obsInput')\" [(ngModel)]=\"formcli.per_email\"\n                                       placeholder=\"\" autocomplete=\"off\">\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"card border-success\">\n                        <div class=\"card-header border-success\">\n                            Datos de la cuenta\n                        </div>\n                        <div class=\"card-body\">\n                            <div class=\"mb-3\">\n                                <label for=\"numCelInput\">\n                                    <span class=\"required\">*</span>\n                                    Nombre de la cuenta:</label>\n                                <input type=\"text\" class=\"form-control \" id=\"usCuentaInput\" maxlength=\"20\"\n                                       (keyup.enter)=\"setFocus('usClaveInput')\" name=\"us_cuenta\"\n                                       [(ngModel)]=\"form.us_cuenta\" placeholder=\"\" autocomplete=\"off\">\n                            </div>\n                            <div class=\"mb-3\">\n                                <label for=\"numCelInput\">\n                                    <span class=\"required\">*</span>\n                                    Clave:</label>\n                                <input type=\"password\" class=\"form-control \" id=\"usClaveInput\" maxlength=\"15\"\n                                       (keyup.enter)=\"setFocus('usConfirmClaveInput')\" name=\"us_clave\"\n                                       [(ngModel)]=\"form.us_clave\" placeholder=\"\" autocomplete=\"off\">\n                            </div>\n                            <div class=\"mb-3\">\n                                <label for=\"numCelInput\">\n                                    <span class=\"required\">*</span>\n                                    Confirma clave:</label>\n                                <input type=\"password\" class=\"form-control \" id=\"usConfirmClaveInput\" maxlength=\"15\"\n                                       name=\"us_confirmclave\" [(ngModel)]=\"form.us_confirmclave\" placeholder=\"\"\n                                       autocomplete=\"off\">\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"col\">\n                <div class=\"card border-success\">\n                    <div class=\"card-header border-success\">\n                        <span>Roles</span>\n                    </div>\n                    <ul class=\"list-group list-group-flush\">\n                        <li class=\"list-group-item hand list-group-item-action {{item.rl_marca?'list-group-item-success':''}}\"\n                            *ngFor=\"let item of roles\" (click)=\"selectRol(item)\"><i\n                                class=\"fa  {{item.rl_marca?'fa-check-square-o':'fa-square-o'}}\"></i>\n                            {{item.rl_name}} </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class=\"col-md-2\">\n        <div class=\"d-grid gap-2\">\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"guardar()\">\n                <i class=\"fas fa-save\"></i>\n                Guardar\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"cancelar()\">\n                <i class=\"fas fa-times\"></i>\n                Cancelar\n            </button>\n        </div>\n    </div>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SwalService} from '../../../services/swal.service';\nimport {CadsUtilService} from '../../../services/cads-util.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {UsertokenService} from '../../../services/usertoken.service';\nimport {PersonaService} from '../../../services/persona.service';\nimport {DomService} from '../../../services/dom.service';\n\n@Component({\n    selector: 'app-userform',\n    templateUrl: './userform.component.html'\n})\nexport class UserformComponent implements OnInit {\n    form: any;\n    roles: Array<any>;\n    usId: number;\n    formcli: any;\n\n    constructor(private router: Router,\n                private route: ActivatedRoute,\n                private swalService: SwalService,\n                private fautService: UsertokenService,\n                private cadsUtilService: CadsUtilService,\n                private domService: DomService,\n                private personaService: PersonaService,\n                private loadingUiService: LoadingUiService) {\n    }\n\n    ngOnInit(): void {\n        this.usId = 0;\n        this.form = {};\n        this.formcli = {};\n        this.roles = [];\n        this.route.paramMap.subscribe(params => {\n            this.usId = parseInt(params.get('us_id'), 10);\n            this.loadForm();\n        });\n    }\n\n    buscarPersona() {\n        if (this.formcli.per_ciruc && this.formcli.per_ciruc.trim().length > 4) {\n            this.loadingUiService.publishBlockMessage();\n            this.personaService.buscarPorCi(this.formcli.per_ciruc).subscribe(res => {\n                if (res.status === 200) {\n                    this.formcli.per_id = res.persona.per_id;\n                    this.formcli.per_nombres = res.persona.per_nombres;\n                    this.formcli.per_apellidos = res.persona.per_apellidos;\n                    this.formcli.per_movil = res.persona.per_movil;\n                    this.formcli.per_email = res.persona.per_email;\n                } else if (res.status === 404) {\n                    this.formcli.per_id = 0;\n                    this.formcli.per_nombres = '';\n                    this.formcli.per_apellidos = '';\n                    this.formcli.per_movil = '';\n                    this.formcli.per_email = '';\n                }\n            });\n        }\n    }\n\n    loadForm() {\n        this.loadingUiService.publishBlockMessage();\n        if (this.usId === 0) {\n            this.fautService.getFormCrea().subscribe(res => {\n                this.form = res.form;\n                this.roles = res.form.roles;\n                this.formcli = res.formcli;\n                this.domService.setFocusTm('ciPasInput', 800);\n            });\n        } else {\n            this.fautService.getFormEdita(this.usId).subscribe(res => {\n                if (res.status === 200) {\n                    this.form = res.formedita.form;\n                    this.formcli = res.formedita.formcli;\n                    this.roles = res.formedita.form.roles;\n                }\n            });\n        }\n    }\n\n    setFocus(nomApelInput: string) {\n        this.domService.setFocus(nomApelInput);\n    }\n\n    selectRol(item: any) {\n        item.rl_marca = !item.rl_marca;\n    }\n\n    cancelar() {\n        this.router.navigate(['usuarios']);\n    }\n\n    guardar() {\n        const filtrados = this.roles.filter(item => {\n            return item.rl_marca;\n        });\n        if (filtrados.length === 0) {\n            this.swalService.fireToastError('Debe seleccionar el o los roles para el usuario');\n        } else {\n            this.form.roles = filtrados;\n            if (this.usId === 0) {\n                this.loadingUiService.publishBlockMessage();\n                this.fautService.crearUsuario(this.form, this.formcli).subscribe(res => {\n                    if (res.status === 200) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        this.router.navigate(['usuarios']);\n                    }\n                });\n            } else {\n                this.loadingUiService.publishBlockMessage();\n                this.fautService.guardarRoles(this.usId, this.form.roles).subscribe(res => {\n                    this.swalService.fireToastSuccess(res.msg);\n                    if (res.status === 200) {\n                        this.router.navigate(['usuarios']);\n                    }\n                });\n            }\n        }\n    }\n}\n","<div class=\"row align-items-end\">\n    <div class=\"col-md-4\">\n        <h4>Lista de usuarios</h4>\n    </div>\n    <div class=\"col d-flex flex-row-reverse\">\n        <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"loadGrid()\">\n                <i class=\"fas fa-sync\"></i>\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"nuevo()\">\n                <i class=\"fa fa-plus-circle\"></i>\n                Crear\n            </button>\n        </div>\n    </div>\n</div>\n<hr>\n\n<p-table [value]=\"items\" [paginator]=\"true\" [rows]=\"50\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\n         (onRowSelect)=\"onRowSelect($event)\"\n         [autoLayout]=\"true\"\n         [resizableColumns]=\"true\"\n         [(contextMenuSelection)]=\"selectedItem\"\n         (onRowUnselect)=\"onUnRowSelect($event)\">\n    <ng-template pTemplate=\"header\">\n        <tr>\n            <th *ngFor=\"let item of cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\">\n                {{item.label}}\n                <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n            </th>\n            <th>\n                Acción\n            </th>\n        </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-rowData>\n        <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\">\n            <td *ngFor=\"let item of cols\">\n                {{rowData[item['field']]}}\n            </td>\n            <td>\n                <button class=\"btn btn-sm btn-outline-dark\" style=\"margin-right: 5px\" (click)=\"anularRow(rowData)\"\n                        title=\"Anular\">\n                    <i class=\"fas fa-trash\"></i>\n                </button>\n                <button class=\"btn btn-sm btn-outline-dark\" (click)=\"editarRow(rowData)\" title=\"Editar\">\n                    <i class=\"fas fa-edit\"></i>\n                </button>\n            </td>\n        </tr>\n    </ng-template>\n\n    <ng-template pTemplate=\"emptymessage\" let-columns>\n        <tr>\n            <td [attr.colspan]=\"cols.length+1\">\n                <span class=\"text-muted\">No hay registros</span>\n            </td>\n        </tr>\n    </ng-template>\n</p-table>\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SwalService} from '../../../services/swal.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {UsertokenService} from '../../../services/usertoken.service';\n\n@Component({\n    selector: 'app-userlist',\n    templateUrl: './userlist.component.html'\n})\nexport class UserlistComponent implements OnInit {\n\n    items: Array<any>;\n    cols: Array<any>;\n    selectedItem: any;\n\n    enableBtns: boolean;\n\n    constructor(private router: Router,\n                private route: ActivatedRoute,\n                private swalService: SwalService,\n                private fautService: UsertokenService,\n                private loadingUiService: LoadingUiService) {\n    }\n\n    ngOnInit(): void {\n        this.items = new Array<any>();\n        this.cols = new Array<any>();\n        this.loadGrid();\n    }\n\n\n    nuevo() {\n        this.router.navigate(['usuarios', 'form', 0]);\n    }\n\n    onRowSelect(event) {\n        this.enableBtns = true;\n    }\n\n    onUnRowSelect(event) {\n        this.enableBtns = false;\n    }\n\n    anularRow(rowData) {\n        this.swalService.fireToastInfo('Logica anulacion de usuario no implementado');\n    }\n\n    loadGrid() {\n        this.fautService.listarUsuarios().subscribe(res => {\n            this.cols = res.items.cols;\n            this.items = res.items.data;\n        });\n    }\n\n    editarRow(rowData) {\n        this.router.navigate(['usuarios', 'form', rowData.us_id]);\n    }\n\n}\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {SwalService} from '../../services/swal.service';\n\n\n@Component({\n    selector: 'app-agenda',\n    template: `\n        <div>\n            <div *ngIf=\"!isShowLista\">\n                <app-mvcalendar [tipoCita]=\"tipoCita\" [showListado]=\"true\" [enableCalendars]=\"true\"\n                                (evListado)=\"showListado($event)\"></app-mvcalendar>\n            </div>\n            <div *ngIf=\"isShowLista\">\n                <app-citasplaned [disablecals]=\"false\" [tipocita]=\"tipoCita\" (gotoCalendarEv)=\"gotoCalendar($event)\"\n                                 (registraAtencionEv)=\"doRegAtencion($event)\"></app-citasplaned>\n            </div>\n        </div>\n\n    `\n})\nexport class AgendaComponent implements OnInit {\n\n    tipoCita: number;\n    isShowLista: boolean;\n\n    constructor(private route: ActivatedRoute,\n                private swalService: SwalService) {\n        this.route.paramMap.subscribe(params => {\n            this.tipoCita = parseInt(params.get('tipo'), 10);\n        });\n    }\n\n    ngOnInit(): void {\n        this.isShowLista = true;\n    }\n\n    showListado($event) {\n        this.tipoCita = $event;\n        this.isShowLista = true;\n    }\n\n    doRegAtencion($event: any) {\n        this.swalService.fireToastInfo('No implementado');\n    }\n\n    gotoCalendar($event: any) {\n        this.tipoCita = $event;\n        this.isShowLista = false;\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {TcitaService} from '../../../services/tcita.service';\n\n@Component({\n    selector: 'app-detcitacal',\n    styles: [`\n        .colcal {\n            width: 16px;\n            height: 16px;\n            -moz-border-radius: 50%;\n            -webkit-border-radius: 50%;\n            border-radius: 50%;\n        }\n    `],\n    template: `\n        <div class=\"text-center\" *ngIf=\"showAnim\">\n            <app-loading></app-loading>\n        </div>\n        <div *ngIf=\"!showAnim\">\n            <div class=\"ms-5 me-5\">\n                <div class=\"d-flex w-100\">\n                    <div class=\"colcal\" style=\"background-color:{{datosCita.ct_color}}\"></div>\n                    <div class=\"ms-3 d-flex flex-column w-100\">\n                        <div> {{datosCita.ct_titulo}} </div>\n                        <div class=\"d-flex \">\n                            <div>\n                                {{datosCita.ct_fecha}}\n                            </div>\n                            <div class=\"ms-5\">\n                                {{datosCita.ct_hora_str}} - {{datosCita.ct_hora_fin_str}}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <p class=\"mt-2\">\n                    {{datosCita.ct_obs}}\n                </p>\n\n                <div class=\"row\">\n                    <div>Paciente:</div>\n                    <div>{{datosCita.paciente}}</div>\n                </div>\n\n                <div class=\"row\">\n                    <div>Atiende:</div>\n                    <div>{{datosCita.medico}}</div>\n                </div>\n            </div>\n\n            <div class=\"d-flex flex-row-reverse mt-4\">\n                <button class=\"btn btn-sm btn-outline-primary\" (click)=\"registraAtencion()\"><i\n                        class=\"fa fa-plus-circle\"></i> Registrar\n                    Atención\n                </button>\n            </div>\n        </div>\n    `\n})\nexport class DetallescitacalComponent implements OnInit {\n\n    @Input() codcita: number;\n    @Output() cerrarModalEv = new EventEmitter<any>();\n    @Output() registraAtencionEv = new EventEmitter<any>();\n    showAnim: boolean;\n    datosCita: any;\n\n    constructor(private tcitaServ: TcitaService) {\n    }\n\n    ngOnInit(): void {\n        this.showAnim = true;\n        this.loadDatosCita();\n    }\n\n    loadDatosCita() {\n        this.tcitaServ.getDatosCita(this.codcita).subscribe(res => {\n            this.showAnim = false;\n            if (res.status === 200) {\n                this.datosCita = res.cita;\n            }\n        });\n    }\n\n    registraAtencion() {\n        this.registraAtencionEv.emit(this.datosCita);\n    }\n}\n","<div>\n    <div class=\"row\">\n        <div class=\"col-md-2\">\n            <div class=\"mb-3\">\n                <div>\n                    <p class=\"tituloAgenda\">Agenda</p>\n                </div>\n            </div>\n            <div class=\"d-flex justify-content-between\">\n                <span class=\"leymes noselect\">\n                    {{mesString}}\n                </span>\n                <div class=\"d-flex justify-content-around mt-1\">\n                    <div class=\"hand ps-2 pe-2\" (click)=\"toggleMonth(-1)\" title=\"Mes anterior\">\n                        <span class=\"fa fa-angle-left\"></span>\n                    </div>\n                    <div class=\"hand ps-2 pe-2\" (click)=\"toggleMonth(1)\" title=\"Próximo mes\">\n                        <span class=\"fa fa-angle-right\"></span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"d-flex flex-column\">\n                <div class=\"d-flex flex-row\">\n                    <div class=\"text-center smDiaCalLey\" *ngFor=\"let day of diasSemana;\">\n                        <span>{{day}}</span>\n                    </div>\n                </div>\n                <div class=\"d-flex flex-row\" *ngFor=\"let week of mesArray;\">\n                    <ng-container *ngFor=\"let day of week;\">\n                        <div (click)=\"setCalendarDate(day)\"\n                             class=\"hand noselect text-center smDiaCal {{day.csstd}}\" [ngClass]=\"day.css\">\n                            <span class=\"{{day.sm?'':'text-muted'}}\" [ngClass]=\"day.bordecss\">{{day.num}}</span>\n                        </div>\n                    </ng-container>\n                </div>\n            </div>\n            <div class=\"mt-3 d-flex flex-column quitaPaddingMargin\">\n                <div class=\"text-center\">\n                    <div class=\"btn-group btn-group-sm\" role=\"group\">\n                        <button class=\"btn btn-sm btn-outline-secondary\" title=\"Ir a la fecha actual\" (click)=\"hoy()\">\n                            Hoy\n                        </button>\n                        <button class=\"btn btn-sm btn-outline-secondary\" title=\"7 dias posteriores a la fecha actual\"\n                                (click)=\"hoyplusdays(7)\">+7\n                        </button>\n                        <button class=\"btn btn-sm btn-outline-secondary\"\n                                title=\"15 dias posteriores a la fecha actual\" (click)=\"hoyplusdays(15)\">+15\n                        </button>\n                        <button class=\"btn btn-sm btn-outline-secondary\"\n                                title=\"30 dias posteriores a la fecha actual\" (click)=\"hoyplusdays(30)\">+30\n                        </button>\n                    </div>\n                </div>\n                <div *ngIf=\"showCancelar\" class=\"text-center mt-3\">\n                    <button class=\"btn btn-sm btn-outline-primary\" (click)=\"raiseCancelClic()\"\n                            title=\"Cancelar la creación de la cita\"><i\n                            class=\"fas fa-times\"></i> Cancelar\n                    </button>\n                </div>\n\n                <div class=\"mt-4\">\n                    <div>\n                        <span class=\"fw-lighter\"> Calendarios:</span>\n                    </div>\n                    <div class=\"p-fluid mt-1\">\n                        <p-dropdown [options]=\"personsCita\"\n                                    [disabled]=\"!enableCalendars\"\n                                    placeholder=\"Seleccione el calendario a mostrar\"\n                                    filter=\"true\"\n                                    (onChange)=\"onPersonCitaChange($event)\"\n                                    optionLabel=\"referente\" optionValue=\"pc_id\"\n                                    [(ngModel)]=\"personCitaSel\"></p-dropdown>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-10\">\n            <div class=\"d-flex justify-content-between mb-1\">\n                <h4 class=\"quitaPaddingMargin fw-light\">{{mesDateString}}</h4>\n                <div>\n                    <button *ngIf=\"showListado\" class=\"btn btn-sm btn-outline-primary me-2\"\n                            title=\"Rertorna a vista de listado de citas\"\n                            (click)=\"raiseListadoClic()\"><i\n                            class=\"far fa-list-alt\"></i> Ver Listado\n                    </button>\n                    <button class=\"btn btn-sm btn-outline-primary\" title=\"Crear una nueva cita\"\n                            (click)=\"onCreaEvClic()\"><i\n                            class=\"fa fa-plus-circle\"></i> Crear\n                    </button>\n                </div>\n            </div>\n            <div class=\"d-md-flex justify-content-md-center\">\n                <table class=\"head\">\n                    <tr>\n                        <th class=\"hand celdacal celdadiahora noselect\">\n                            <div class=\"d-flex justify-content-around\">\n                                <div class=\"hand p-2\" (click)=\"toggleWeek(-1)\"\n                                     title=\"Semana anterior\">\n                                    <span class=\"fa fa-angle-left\"></span>\n                                </div>\n                                <div class=\"hand p-2\" (click)=\"toggleWeek(1)\" title=\"Próxima semana\">\n                                    <span class=\"fa fa-angle-right\"></span>\n                                </div>\n                            </div>\n                        </th>\n                        <th *ngFor=\"let dia of dias;\" class=\"hand celdacal celdadia limitehora\">\n                            <div class=\"d-flex flex-column noselect \">\n                                <div class=\"d-flex justify-content-center\" [title]=\"dia.fecha\"><span\n                                        class=\"fw-light\">{{dia.diastr|uppercase}}</span></div>\n                                <div class=\"d-flex justify-content-center\" [title]=\"dia.fecha\"><span\n                                        class=\"ps-2 pe-2\" [ngClass]=\"dia.css\">{{dia.diames}}</span>\n                                </div>\n                            </div>\n                        </th>\n                    </tr>\n                </table>\n            </div>\n\n            <div class=\"d-flex justify-content-center\">\n                <div class=\"calbody\">\n                    <table class=\"cuadricula\" id=\"tablacuadricula\">\n                        <div *ngFor=\"let item of citas;\" class=\"hand noselect border d-flex rounded cuadroEv\"\n                             (click)=\"onEventClic(item)\"\n                             [title]=\"item.texto\" [style]=\"item.css\">\n                            <span class=\"textoCitaCred\"> {{item.texto}} </span>\n                        </div>\n\n                        <div [style]=\"cssform\" class=\"nuevoev noselect\" *ngIf=\"clicfinish\">\n                            <span class=\"textoEv text-muted\"> {{textoNewEv}} </span>\n                        </div>\n                        <tr *ngFor=\"let pxrow of citasmatrix ? citasmatrix.slice(0,citasmatrix.length-1):[];\">\n                            <td class=\"hand celdacal celdahora noselect limitedia\" *ngIf=\"addCol(pxrow)\" rowspan=\"4\">\n                                <div class=\"d-flex align-items-start w-100 h-100 noselect\">\n                                    <span>{{gethoraStr(pxrow)}} </span>\n                                </div>\n                            </td>\n                            <td *ngFor=\"let px of pxrow;\" class=\"hand celdacal celda noselect\"\n                                (mouseover)=\"onMouseOver($event,px)\"\n                                [ngClass]=\"px.cssclass\" (mousedown)=\"mousedown($event, px)\"\n                                (mouseup)=\"mouseup($event, px)\"\n                                id=\"px{{px.x+'-'+px.y}}\">\n\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <p-dialog [header]=\"titEvNewEdCita\" [modal]=\"true\" [style]=\"{width: '70vw'}\"\n              [(visible)]=\"showModalCrea\" #detdialog id=\"detdialog\"\n              (onShow)=\"onModalNewEvShow($event)\">\n        <div class=\"row\">\n            <div class=\"col-md-3\"><span>Título:</span></div>\n            <div class=\"col-md-9\">\n                <input type=\"text\" class=\"form-control\" [(ngModel)]=\"form.ct_titulo\" maxlength=\"70\" id=\"inputCtTitulo\"\n                       autocomplete=\"off\" (keyup.enter)=\"setFocusPac()\">\n            </div>\n        </div>\n        <div class=\"row mt-2\">\n            <div class=\"col-md-3\">\n                <span class=\"text-rojo\">*</span>\n                <span>Día:</span></div>\n            <div class=\"col-md-4\">\n                <p-calendar [(ngModel)]=\"form.ct_fechaobj\"\n                            [appendTo]=\"detdialog\"\n                            [monthNavigator]=\"true\"\n                            [showIcon]=\"true\"\n                            [yearNavigator]=\"true\"\n                            [firstDayOfWeek]=\"1\"\n                            [minDate]=\"currentDate\"\n                            dateFormat=\"dd/mm/yy\" id=\"ct_fecha\"\n                            inputId=\"ct_fecha\"\n                            yearRange=\"1900:2100\"></p-calendar>\n            </div>\n            <div class=\"col-md-1\">\n                <div class=\"btn-group\">\n                    <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle mpbtncol d-flex\"\n                            data-bs-toggle=\"dropdown\"\n                            aria-haspopup=\"true\"\n                            aria-expanded=\"false\">\n                        <div class=\"colcal\" style=\"background-color: {{form.ct_color}}\"></div>\n                    </button>\n                    <div class=\"dropdown-menu zisemencol\">\n                        <ng-container *ngFor=\"let color of colores\">\n                            <a class=\"dropdown-item micol border-bottom\">\n                                <div class=\"d-flex justify-content-around\">\n                                    <div class=\"hand\" (click)=\"selectColor(color.colora, $event)\">\n                                        <div class=\"colcal\" style=\"background-color: {{color.colora}}\"></div>\n                                    </div>\n                                    <div class=\"hand\" (click)=\"selectColor(color.colorb, $event)\">\n                                        <div class=\"colcal\" style=\"background-color: {{color.colorb}}\"></div>\n                                    </div>\n                                </div>\n                            </a>\n                        </ng-container>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col-md-4\">\n                <div class=\"d-flex flex-row\">\n                    <p-dropdown [options]=\"horasList\" optionLabel=\"label\"\n                                optionValue=\"value\"\n                                placeholder=\"Desde\" [appendTo]=\"detdialog\"\n                                [(ngModel)]=\"form.ct_hora\"></p-dropdown>\n                    <p-dropdown [options]=\"horasList\" optionLabel=\"label\"\n                                optionValue=\"value\"\n                                placeholder=\"Hasta\" [appendTo]=\"detdialog\"\n                                [(ngModel)]=\"form.ct_hora_fin\"></p-dropdown>\n                </div>\n            </div>\n        </div>\n        <div *ngIf=\"form.ct_id===0\">\n            <div class=\"row mt-2\">\n                <div class=\"col-md-3\">\n                    <span>Paciente:</span></div>\n                <div class=\"col-md-9\">\n                    <div *ngIf=\"pacForCalendar\" class=\"input-group\">\n                        <input type=\"text\" class=\"form-control\"\n                               [ngModel]=\"pacForCalendar.per_nombres + ' ' + pacForCalendar.per_apellidos\" disabled>\n                        <button class=\"btn btn-outline-secondary\" (click)=\"clearPacForCalendar()\"><i\n                                class=\"fa fa-times\"></i>\n                        </button>\n                    </div>\n                    <div *ngIf=\"!pacForCalendar && !isShowFormCreaRef\">\n                        <div class=\"w-100 d-flex\">\n                            <div class=\"p-fluid\" style=\"width: 93% !important;\">\n                                <p-autoComplete [appendTo]=\"detdialog\" [(ngModel)]=\"form.paciente\"\n                                                [suggestions]=\"pacsFiltered\"\n                                                (completeMethod)=\"buscaPacs($event)\" field=\"nomapel\"\n                                                inputId=\"pacAutoCom\"\n                                                placeholder=\"Digite los nombres o el número de cédula del paciente\"\n                                                (onSelect)=\"onPacSelect($event)\">\n                                    <ng-template let-ref pTemplate=\"item\">\n                                        <div>\n                                            <div class=\"d-flex justify-content-between\">\n                                                <span>{{ref.nomapel}}</span>\n                                                <span>{{ref.per_ciruc}}</span>\n                                            </div>\n                                        </div>\n                                    </ng-template>\n                                </p-autoComplete>\n                            </div>\n                            <div style=\"width: 7% !important;\" class=\"d-grid gap-2\">\n                                <button class=\"btn btn-outline-secondary\" (click)=\"showFormCreaRef()\"\n                                        title=\"Crear un nuevo referente\"><i class=\"fa fa-plus-circle\"></i></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div *ngIf=\"isShowFormCreaRef\" class=\"border mt-1 mb-2 pb-1\">\n                <app-datosref [codPaciente]=\"codreferenteform\" [datosmedicos]=\"false\"\n                              (pacienteSaved)=\"onReferenteCreado($event)\"\n                              (creacionCancelada)=\"onCancelaCreacionRef($event)\">\n                </app-datosref>\n            </div>\n\n            <div class=\"row mt-2\">\n                <div class=\"col-md-3\">\n                    <span class=\"text-rojo\">*</span>\n                    <span>Profesional a cargo:</span></div>\n                <div class=\"col-md-9\">\n                    <div class=\"p-fluid\">\n                        <p-dropdown [options]=\"medicos\"\n                                    [showClear]=\"true\"\n                                    placeholder=\"Seleccione el/la profesional a cargo\"\n                                    filter=\"true\"\n                                    (onChange)=\"onMedicoChange($event)\"\n                                    optionLabel=\"nomapel\" optionValue=\"per_id\" [(ngModel)]=\"form.med_id\"></p-dropdown>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div *ngIf=\"form.ct_id>0\">\n            <div class=\"row mt-2\">\n                <div class=\"col-md-3\">Paciente:</div>\n                <div class=\"col-md-9\">{{datosCita.paciente}}</div>\n            </div>\n\n            <div class=\"row mt-2\">\n                <div class=\"col-md-3\">Atiende:</div>\n                <div class=\"col-md-9\">{{datosCita.medico}}</div>\n            </div>\n        </div>\n\n        <div class=\"row mt-2\">\n            <div class=\"col-md-3\"><span>Detalle:</span></div>\n            <div class=\"col-md-9\">\n            <textarea class=\"form-control\" [(ngModel)]=\"form.ct_obs\" rows=\"4\" autocomplete=\"off\" id=\"detalleCitaTa\">\n            </textarea>\n            </div>\n        </div>\n\n        <ng-template pTemplate=\"footer\">\n            <div class=\"d-flex justify-content-around\">\n                <button class=\"btn btn-outline-primary\" (click)=\"guardarEv()\"><i class=\"fa fa-save\"></i> Guardar\n                </button>\n                <button class=\"btn btn-outline-secondary\" (click)=\"closeModalNewEv()\"><i class=\"fa fa-times\"></i>\n                    Cancelar\n                </button>\n            </div>\n        </ng-template>\n\n    </p-dialog>\n\n\n    <p-dialog header=\"Detalles de la cita\" [modal]=\"true\" [style]=\"{width: '40vw'}\" [baseZIndex]=\"10007\"\n              [autoZIndex]=\"false\"\n              [(visible)]=\"showModalDetalles\" id=\"datosCitaDialog\">\n\n        <div class=\"ms-5 me-5\">\n            <div class=\"d-flex w-100\">\n                <div class=\"colcal\" style=\"background-color: {{datosCita.ct_color}}\"></div>\n                <div class=\"ms-3 d-flex flex-column w-100\">\n                    <div> {{datosCita.ct_titulo}} </div>\n                    <div class=\"d-flex\">\n                        <div>\n                            {{datosCita.ct_fecha}}\n                        </div>\n                        <div class=\"ms-5\">\n                            {{datosCita.ct_hora_str}} - {{datosCita.ct_hora_fin_str}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <p class=\"mt-2\">\n                {{datosCita.ct_obs}}\n            </p>\n\n            <div class=\"row\">\n                <div>Paciente:</div>\n                <div>{{datosCita.paciente}}</div>\n            </div>\n\n            <div class=\"row\">\n                <div>Atiende:</div>\n                <div>{{datosCita.medico}}</div>\n            </div>\n        </div>\n\n        <ng-template pTemplate=\"footer\">\n            <div class=\"d-flex justify-content-around\">\n                <button class=\"btn btn-outline-secondary\" (click)=\"anularEv()\"><i class=\"fa fa-trash\"></i> Anular\n                </button>\n                <button class=\"btn btn-outline-secondary\" (click)=\"editarEv()\"><i class=\"fa fa-edit\"></i> Editar\n                </button>\n                <button class=\"btn btn-outline-secondary\" (click)=\"closeModalDetEv()\"><i class=\"fa fa-times\"></i> Cerrar\n                </button>\n            </div>\n        </ng-template>\n\n    </p-dialog>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {addDays, addMonths, addWeeks, getMonth, getYear, startOfWeek} from 'date-fns';\nimport {FechasService} from '../../../services/fechas.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {TcitaService} from '../../../services/tcita.service';\nimport {PersonaService} from '../../../services/persona.service';\nimport {DomService} from '../../../services/dom.service';\nimport {MenuItem} from 'primeng/api';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {LocalStorageService} from '../../../services/local-storage.service';\n\n@Component({\n    selector: 'app-mvcalendar',\n    templateUrl: './odcalendar.component.html',\n    styleUrls: ['./odcalendar.component.css']\n})\nexport class MvcalendarComponent implements OnInit, OnChanges {\n    @Input() tipoCita: number;\n    @Input() showCancelar = false;\n    @Input() showListado = false;\n    @Input() enableCalendars = false;\n\n    calHoraIni: number;\n    calHoraFin: number;\n    intervalo: number;\n    parteshora: number;\n    citas: any;\n    citasmatrix: any;\n    filas: number;\n    columnas: number;\n    anchocelda = 135;\n    altocelda = 18;\n    dias: Array<any>;\n    selectedDate: Date;\n    selectedDiaCalMes: any;\n    fechasPromise: Promise<any>;\n    pixelsselected: Array<any>;\n\n    horasList: Array<any>;\n    colores: Array<any>;\n    form: any;\n\n    clicstart = false;\n    clicfinish = false;\n\n    xini = 0;\n    yini = 0;\n    bloque = 1;\n    cssform: any;\n\n    anchoCeldaHora: number;\n    altoCeltaDia: number;\n    textoNewEv: string;\n    mesArray: Array<any>;\n    diasSemana: Array<any>;\n    mesString: string;\n    mesDateString: string;\n    currentMonthDate: Date;\n    currentMonthNumber: number;\n    showModalCrea: boolean;\n    showModalDetalles: boolean;\n    datosCita: any;\n    pacsFiltered: Array<any>;\n    medicos: Array<any>;\n    personsCita: Array<any>;\n    personCitaSel: number;\n    colorsMI: Array<MenuItem>;\n    currentDate: Date;\n    defEvColor: string;\n    titEvNewEdCita: string;\n\n    pacForCalendar: any;\n    @Output() evCreated = new EventEmitter<any>();\n    @Output() evCancelar = new EventEmitter<any>();\n    @Output() evListado = new EventEmitter<any>();\n    isShowFormCreaRef = false;\n    codreferenteform = 0;\n\n    constructor(private fechasService: FechasService,\n                private swalService: SwalService,\n                private personaService: PersonaService,\n                private lclStrgService: LocalStorageService,\n                private tcitaService: TcitaService,\n                private loadinUiServ: LoadingUiService,\n                private domService: DomService) {\n\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const tipcitaChange = changes.tipoCita;\n        if (tipcitaChange.currentValue) {\n            this.personCitaSel = tipcitaChange.currentValue;\n        }\n    }\n\n    ngOnInit(): void {\n        this.form = {};\n        this.pacForCalendar = null;\n        this.datosCita = {};\n        this.defEvColor = '#039BE5';\n        this.colores = [];\n        this.colorsMI = [];\n        this.pixelsselected = [];\n        this.cssform = {};\n        this.textoNewEv = '';\n        this.currentMonthDate = this.selectedDate;\n        this.diasSemana = this.fechasService.getDiasSemana();\n        this.pacsFiltered = [];\n        this.currentDate = new Date();\n        this.calHoraIni = 8.0;\n        this.calHoraFin = 19.0;\n        this.anchoCeldaHora = 70;\n        this.altoCeltaDia = 50;\n        this.intervalo = 0.25; // 15minutos\n        this.parteshora = 1 / this.intervalo;\n        this.columnas = 7;\n\n        this.loadinUiServ.publishBlockMessage();\n        this.tcitaService.getDatosTipoCita(this.tipoCita).subscribe(res => {\n            if (res.status === 200) {\n                this.auxLoadDatosTipCita(res.dtipcita);\n                this.loadPersonsCita();\n                this.initListasForm();\n            }\n        });\n    }\n\n    initListasForm() {\n        this.tcitaService.getForm(this.tipoCita).subscribe(res => {\n            if (res.status === 200) {\n                this.horasList = res.horas;\n                this.colores = res.colores;\n            }\n        });\n    }\n\n    loadMedicos() {\n        this.medicos = [];\n        this.personaService.listarMedicos(this.tipoCita).subscribe(res => {\n            if (res.status === 200) {\n                this.medicos = res.medicos;\n            }\n        });\n    }\n\n    loadPersonsCita() {\n        this.personsCita = [];\n        this.tcitaService.getPersonsCita().subscribe(res => {\n            if (res.status === 200) {\n                this.personsCita = res.personscita;\n            }\n        });\n    }\n\n    toggleMonth(cant: number) {\n        this.currentMonthDate = addMonths(this.currentMonthDate, cant);\n        this.loadMesArray();\n    }\n\n    toggleWeek(cant: number) {\n        const newweekdate = addWeeks(this.selectedDate, cant);\n        const samemonth = this.auxIsSameMonth(newweekdate);\n        if (!samemonth) {\n            this.currentMonthDate = newweekdate;\n            this.loadMesArray();\n        }\n        const daycal = this.auxFindDateInMonthArray(newweekdate);\n        if (daycal) {\n            this.setCalendarDate(daycal);\n        }\n    }\n\n    loadMesArray(dateSel?: Date) {\n        this.currentMonthNumber = this.fechasService.getMonth(this.currentMonthDate);\n        const anio = getYear(this.currentMonthDate);\n        this.fechasService.getMesString(getMonth(this.currentMonthDate) + 1).then(res => {\n            this.mesString = `${res} de ${anio}`;\n        });\n        this.mesArray = this.fechasService.getMonthArray(getYear(this.currentMonthDate), getMonth(this.currentMonthDate), dateSel);\n\n        const firstweek = this.mesArray[0];\n        const lastweek = this.mesArray[this.mesArray.length - 1];\n        const desdestr = this.fechasService.formatDate(firstweek[0].fecha);\n        const hastastr = this.fechasService.formatDate(lastweek[lastweek.length - 1].fecha);\n        this.tcitaService.contar(desdestr, hastastr, this.tipoCita).subscribe(resc => {\n            this.mesArray.forEach(row => {\n                const filtered = row.filter(dc => dc.selected);\n                if (filtered && filtered.length > 0) {\n                    filtered[0].css = ['smDiaCalSel'];\n                    this.setCalendarDate(filtered[0]);\n                }\n                row.forEach(dc => {\n                    const dcfilt = resc.citas.filter(cf =>\n                        this.fechasService.isSameDate(this.fechasService.parseString(cf.ct_fecha), dc.fecha));\n                    if (dcfilt && dcfilt.length > 0) {\n                        dc.bordecss = ['smDiaCF'];\n                    }\n                });\n            });\n        });\n    }\n\n    getHoraNumber(fila) {\n        let index = this.citasmatrix.indexOf(fila);\n        if (typeof fila === 'number') {\n            index = fila - 1;\n        }\n        return this.calHoraIni + (index * this.intervalo);\n    }\n\n    gethoraStr(fila) {\n        const hora = this.getHoraNumber(fila);\n        return this.fechasService.getHoraStrFromNumber(hora);\n    }\n\n    getNextDate(date: Date) {\n        return addDays(date, 1);\n    }\n\n    updateEstiloDia() {\n        this.dias.forEach(d => {\n            let estilo = [];\n            if (this.fechasService.isSameDate(this.selectedDate, d.fecha)) {\n                estilo = ['smDiaCalSel'];\n            }\n            d.css = estilo;\n        });\n    }\n\n    loadDias() {\n        this.dias = [];\n        let iterdate = addDays(startOfWeek(addDays(this.selectedDate, -1)), 1);\n        this.fechasPromise = new Promise((resolve) => {\n            for (let i = 0; i < 7; i++) {\n                const resfecha = this.fechasService.getDayString(iterdate);\n                resfecha.then((res) => {\n                    let estilo = [];\n                    if (this.fechasService.isSameDate(this.selectedDate, res.fecha)) {\n                        estilo = ['smDiaCalSel'];\n                    }\n                    this.dias.push({\n                        fecha: res.fecha,\n                        diastr: res.diastr,\n                        diames: res.diames,\n                        css: estilo\n                    });\n                    if (i === 6) {\n                        resolve(true);\n                    }\n                });\n                iterdate = this.getNextDate(iterdate);\n            }\n        });\n\n        this.fechasPromise.then(res => {\n            this.buildEmptyPixelsArray();\n            this.loadCitas();\n        });\n    }\n\n    addCol(fila) {\n        const resto = this.citasmatrix.indexOf(fila) % this.parteshora;\n        return resto === 0;\n    }\n\n    getDia(x: number) {\n        return this.dias[x];\n    }\n\n    getNewPixelEmpty(x, y) {\n        const cssclass = ['limitedia'];\n        if (y % this.parteshora === 0) {\n            cssclass.push('limitehora');\n        }\n        return {\n            id: x + ',' + y,\n            x,\n            y,\n            status: 0,\n            cssclass,\n            startcss: cssclass,\n            lock: 0,\n            comprado: 0,\n            dia: this.getDia(x - 1),\n            hora: this.getHoraNumber(y)\n        };\n    }\n\n    getancho(pixel) {\n        return this.anchocelda;\n    }\n\n    getalto(pixel) {\n        const pxY = pixel.px_row;\n        const pxYend = pixel.px_row_end;\n        const numpxborde = Math.abs(pxY - pxYend) + 1;\n        return numpxborde * this.altocelda;\n    }\n\n    getPixelFromCita(tcita: any) {\n        const hora = tcita.ct_hora;\n        const horaFin = tcita.ct_hora_fin;\n        const cFecha = tcita.ct_fecha;\n        const cFechaDate = this.fechasService.parseString(cFecha);\n\n        const horaStr = this.fechasService.getHoraStrFromNumber(hora);\n        const horaFinStr = this.fechasService.getHoraStrFromNumber(horaFin);\n        const paciente = `${tcita.per_nombres} ${tcita.per_apellidos}`;\n        const textoCita = `${horaStr} -${horaFinStr}: ${paciente} - ${tcita.ct_titulo} - ${tcita.ct_obs}`;\n\n        let pxRow = 0;\n        let pxRowEnd = 0;\n\n        let pxCol = 0;\n        let pxColEnd = 0;\n\n        this.citasmatrix.forEach(row => {\n            row.forEach(col => {\n                if ((col.hora === hora) || (col.hora === horaFin)) {\n                    if (col.hora === hora) {\n                        pxRow = col.y;\n                    }\n                    if (col.hora === horaFin) {\n                        pxRowEnd = col.y - 1;\n                    }\n                }\n                if (this.fechasService.isSameDate(col.dia.fecha, cFechaDate)) {\n                    pxCol = col.x;\n                    pxColEnd = col.x;\n                }\n            });\n        });\n\n        return {\n            px_row: pxRow,\n            px_row_end: pxRowEnd,\n            px_col: pxCol,\n            px_col_end: pxColEnd,\n            px_color: tcita.ct_color,\n            px_texto: textoCita\n        };\n    }\n\n    getcss(pixel: any) {\n        const pxY = pixel.px_row < pixel.px_row_end ? pixel.px_row : pixel.px_row_end;\n        const pxX = pixel.px_col;\n        const left = this.anchoCeldaHora + ((pxX - 1) * this.anchocelda);\n        const top = (pxY - 1) * this.altocelda;\n        const topPx = `${top}px`;\n        const leftPx = `${left}px`;\n        const anxhopx = this.getancho(pixel);\n        const altopx = this.getalto(pixel);\n        const opacidad = pixel.px_estado === 0 ? '0.4' : '1';\n        const border = pixel.px_estado === 0 ? '0px solid black' : '0px solid orange';\n\n        const cssg = {\n            position: 'absolute',\n            left: leftPx,\n            top: topPx,\n            width: `${anxhopx}px`,\n            'min-width': `${anxhopx}px`,\n            height: `${altopx}px`,\n            'background-color': pixel.px_color,\n            border,\n            opacity: opacidad\n        };\n        try {\n            const fila = this.citasmatrix[pixel.px_row - 1];\n            const col = fila[pxX - 1];\n            const fila2 = this.citasmatrix[pixel.px_row_end - 1];\n            const col2 = fila2[pxX - 1];\n            const hora = col.hora;\n            const horaFin = col2.hora + this.intervalo;\n            const horaStr = this.fechasService.getHoraStrFromNumber(hora);\n            const horaFinStr = this.fechasService.getHoraStrFromNumber(horaFin);\n            this.textoNewEv = `${horaStr} -${horaFinStr}`;\n        } catch (err) {\n            this.textoNewEv = 'err';\n        }\n        return cssg;\n    }\n\n    computeCssForm() {\n        const pixel = {\n            px_row: this.form.yini,\n            px_row_end: this.form.yfin,\n            px_col: this.form.xini,\n            px_col_end: this.form.xfin\n        };\n        this.cssform = this.getcss(pixel);\n    }\n\n    getCssForm(cita: any) {\n        const pixel = this.getPixelFromCita(cita);\n        return {css: this.getcss(pixel), texto: pixel.px_texto};\n    }\n\n    buildEmptyPixelsArray() {\n        this.citasmatrix = [];\n        for (let i = 1; i <= this.filas + 1; i++) {\n            const pixelr = [];\n            for (let j = 1; j <= this.columnas; j++) {\n                pixelr.push(this.getNewPixelEmpty(j, i));\n            }\n            this.citasmatrix.push(pixelr);\n        }\n    }\n\n    getCeldasMenores(pxref) {\n        const xref = pxref.x;\n        const yref = pxref.y;\n\n        // Solo pude seleccionar las celdas en la direccion y\n        this.pixelsselected = [];\n        if (this.xini === xref) {\n            let ystart = this.yini;\n            let yend = yref;\n            if (yref < this.yini) {\n                ystart = yref;\n                yend = this.yini;\n            }\n\n            this.form.xfin = pxref.x;\n            this.form.yfin = pxref.y;\n\n            this.citasmatrix.forEach(row => {\n                row.forEach(pxit => {\n                    pxit.cssclass = [...pxit.startcss];\n                    if ((pxit.y >= ystart && pxit.y <= yend) && (pxit.x === this.xini)) {\n                        this.pixelsselected.push(pxit);\n                    } else {\n                        if (pxit.lock > 0) {\n                            pxit.lock = 0;\n                        }\n                    }\n                });\n            });\n        }\n\n        let hascomprado = false;\n        this.pixelsselected.forEach(pxSelIt => {\n            pxSelIt.cssclass.push('marcado');\n            if (pxSelIt.comprado === 1) {\n                hascomprado = true;\n            }\n        });\n        if (hascomprado) {\n            this.pixelsselected.forEach(pxSelIt => {\n                pxSelIt.cssclass.push('marcadoerror');\n            });\n        }\n    }\n\n\n    mousedown($event: MouseEvent, px: any) {\n        this.clicstart = true;\n        this.clicfinish = false;\n        this.pixelsselected = [];\n        this.xini = px.x;\n        this.yini = px.y;\n        this.form.xini = this.xini;\n        this.form.yini = this.yini;\n        this.form.pxini = px;\n    }\n\n    onMouseOver($event: MouseEvent, px: any) {\n        if (this.clicstart) {\n            this.getCeldasMenores(px);\n        }\n    }\n\n    initFormEv() {\n        this._auxIniFormEv();\n        this.form.ct_fechaobj = this.form.pxfin.dia.fecha;\n        this.form.ct_hora = this.form.pxini.hora;\n        this.form.ct_hora_fin = (this.form.pxfin.hora + this.intervalo);\n    }\n\n    initFormEditEv() {\n        this.titEvNewEdCita = 'Editar Cita';\n        this.form.ct_id = this.datosCita.ct_id;\n        this.form.ct_titulo = this.datosCita.ct_titulo;\n        this.form.paciente = {per_id: this.datosCita.pac_id};\n        this.form.med_id = this.datosCita.med_id;\n        this.form.ct_obs = this.datosCita.ct_obs;\n        this.form.ct_td = false;\n        this.form.ct_color = this.datosCita.ct_color;\n        this.form.ct_fechaobj = this.fechasService.parseString(this.datosCita.ct_fecha);\n        this.form.ct_hora = this.datosCita.ct_hora;\n        this.form.ct_hora_fin = this.datosCita.ct_hora_fin;\n    }\n\n    _auxIniFormEv() {\n        this.titEvNewEdCita = 'Nueva Cita';\n        this.form.ct_id = 0;\n        this.form.ct_tipo = this.tipoCita;\n        this.form.ct_titulo = '';\n        this.form.paciente = null;\n        const pacForCal = this.lclStrgService.getItem('PAC_FOR_CAL');\n        if (pacForCal) {\n            this.pacForCalendar = JSON.parse(pacForCal);\n            this.form.paciente = this.pacForCalendar;\n        }\n        this.form.med_id = this.medicos.length > 0 ? this.medicos[0].per_id : null;\n        this.form.ct_obs = '';\n        this.form.ct_td = false;\n        this.form.ct_color = this.defEvColor;\n    }\n\n    initFormEvBtn() {\n        this._auxIniFormEv();\n        if (this.selectedDate) {\n            this.form.ct_fechaobj = this.selectedDate;\n        } else {\n            this.form.ct_fechaobj = new Date();\n        }\n\n        this.form.ct_hora = 0;\n        this.form.ct_hora_fin = 0;\n    }\n\n    onCreaEvClic() {\n        this.initFormEvBtn();\n        this.showModalCrea = true;\n    }\n\n    mouseup($event: MouseEvent, px: any) {\n        if (this.clicstart) {\n            this.clicfinish = true;\n            this.clicstart = false;\n            this.xini = 0;\n            this.yini = 0;\n            this.form.xfin = px.x;\n            this.form.yfin = px.y;\n            let haserror = false;\n            this.citasmatrix.forEach(row => {\n                row.forEach(pxit => {\n                    if (pxit.cssclass.includes('marcado')) {\n                        pxit.lock = this.bloque;\n                    } else if (pxit.cssclass.includes('marcadoerror')) {\n                        pxit.lock = 0;\n                        pxit.cssclass = '';\n                        haserror = true;\n                    }\n                });\n            });\n            this.bloque = this.bloque + 1;\n            this.computeCssForm();\n            if (!haserror) {\n                this.form.pxfin = px;\n                this.initFormEv();\n                this.showModalCrea = true;\n            }\n        }\n    }\n\n    changeSelectedDate(date: Date, sameMonth: boolean) {\n        this.selectedDate = date;\n        this.currentMonthDate = this.selectedDate;\n        if (!sameMonth) {\n            this.loadMesArray(date);\n        }\n        const anio = getYear(this.currentMonthDate);\n        this.fechasService.getMesString(getMonth(this.selectedDate) + 1).then(res => {\n            this.mesDateString = `${res} de ${anio}`;\n        });\n    }\n\n    mustLoadNewWeek(date: Date) {\n        return !this.fechasService.dateInSameWeek(date, this.selectedDate);\n    }\n\n    auxFindDateInMonthArray(date: Date) {\n        let daycal = null;\n        this.mesArray.forEach(row => {\n            row.forEach(dc => {\n                if (this.fechasService.isSameDate(dc.fecha, date)) {\n                    daycal = dc;\n                    return;\n                }\n            });\n        });\n        return daycal;\n    }\n\n    setCalendarDate(dayCal: any) {\n        this.selectedDiaCalMes = dayCal;\n        const loadWeek = this.mustLoadNewWeek(dayCal.fecha);\n        this.clearCssMonthCalc();\n        dayCal.css = ['smDiaCalSel'];\n        this.changeSelectedDate(dayCal.fecha, dayCal.sm);\n        if (loadWeek) {\n            this.loadDias();\n        } else {\n            this.updateEstiloDia();\n        }\n    }\n\n    clearCitasMatrix() {\n        this.citasmatrix.forEach(row => {\n            row.forEach(pxit => {\n                pxit.cssclass = [...pxit.startcss];\n            });\n        });\n    }\n\n    clearCssMonthCalc() {\n        this.mesArray.forEach(row => {\n            row.forEach(dc => {\n                dc.css = '';\n            });\n        });\n        this.dias.forEach(d => {\n            d.css = '';\n        });\n    }\n\n    auxIsSameMonth(date: Date) {\n        let sameMonth = true;\n        if (!this.fechasService.isSameYear(this.currentMonthDate, date)) {\n            sameMonth = false;\n        } else if (!this.fechasService.isSameMonth(this.currentMonthDate, date)) {\n            sameMonth = false;\n        }\n        return sameMonth;\n    }\n\n    hoy() {\n        const fechaActual = this.fechasService.getCurrentDate();\n        const loadWeek = this.mustLoadNewWeek(fechaActual);\n        const sameMonth = this.auxIsSameMonth(fechaActual);\n        if (sameMonth) {\n            this.clearCssMonthCalc();\n        }\n        this.changeSelectedDate(fechaActual, sameMonth);\n        if (loadWeek) {\n            this.loadDias();\n        } else {\n            this.updateEstiloDia();\n        }\n    }\n\n    hoyplusdays(ndays) {\n        const fechaActual = this.fechasService.getCurrentDate();\n        const fechaIter = this.fechasService.sumarDias(fechaActual, ndays);\n        const loadWeek = this.mustLoadNewWeek(fechaIter);\n        const sameMonth = this.auxIsSameMonth(fechaIter);\n        if (sameMonth) {\n            this.clearCssMonthCalc();\n        }\n        this.changeSelectedDate(fechaIter, sameMonth);\n        if (loadWeek) {\n            this.loadDias();\n        } else {\n            this.updateEstiloDia();\n        }\n    }\n\n    closeModalNewEv() {\n        this.pixelsselected = [];\n        this.clicfinish = false;\n        this.clicstart = false;\n        this.cssform = {};\n        this.form = {};\n        this.showModalCrea = false;\n        this.clearCitasMatrix();\n    }\n\n    buscaPacs(event) {\n        this.personaService.buscarPorNomapelCiPag(event.query, 0).subscribe(res => {\n            if (res.status === 200) {\n                this.pacsFiltered = res.items;\n            }\n        });\n    }\n\n    guardarEv() {\n        if (this.form.paciente) {\n            this.form.pac_id = this.form.paciente.per_id;\n        } else {\n            this.form.pac_id = 0;\n        }\n\n        this.form.ct_fecha = this.fechasService.formatDate(this.form.ct_fechaobj);\n        this.tcitaService.guardar(this.form).subscribe(res => {\n            if (res.status === 200) {\n                this.swalService.fireToastSuccess(res.msg);\n                this.loadCitas();\n                this.closeModalNewEv();\n                this.clearPacForCalendar();\n                this.evCreated.emit(this.form);\n            }\n        });\n    }\n\n    onPacSelect($event: any) {\n        this.domService.setFocusTm('detalleCitaTa', 100);\n    }\n\n    onMedicoChange($event: any) {\n        this.domService.setFocusTm('detalleCitaTa', 100);\n    }\n\n    onModalNewEvShow($evet: any) {\n        this.domService.setFocusTm('inputCtTitulo', 100);\n    }\n\n    loadCitas() {\n        const first = this.citasmatrix[0];\n        const firstcol = first[0];\n        const endcol = first[first.length - 1];\n        this.loadinUiServ.publishBlockMessage();\n        this.tcitaService.listar(this.fechasService.formatDate(firstcol.dia.fecha),\n            this.fechasService.formatDate(endcol.dia.fecha), this.tipoCita).subscribe(res => {\n            if (res.status === 200) {\n                this.citas = res.citas;\n                this.citas.forEach(it => {\n                    const rescsstxt = this.getCssForm(it);\n                    it.css = rescsstxt.css;\n                    it.texto = rescsstxt.texto;\n                });\n                this.loadMesArray();\n            }\n        });\n    }\n\n    onEventClic(tcita) {\n        this.loadinUiServ.publishBlockMessage();\n        this.tcitaService.getDatosCita(tcita.ct_id).subscribe(res => {\n            if (res.status === 200) {\n                this.datosCita = res.cita;\n                this.showModalDetalles = true;\n            }\n        });\n    }\n\n    selectColor(color: any, ev: any) {\n        ev.preventDefault();\n        this.form.ct_color = color;\n    }\n\n    anularEv() {\n        const msg = '¿Seguro que desea anular este evento?';\n        this.swalService.fireDialog(msg).then(confirm => {\n                if (confirm.value) {\n                    this.tcitaService.anular(this.datosCita.ct_id).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadCitas();\n                        }\n                        this.showModalDetalles = false;\n                    });\n                }\n            }\n        );\n    }\n\n    editarEv() {\n        this.showModalDetalles = false;\n        this.initFormEditEv();\n        this.showModalCrea = true;\n    }\n\n    closeModalDetEv() {\n        this.showModalDetalles = false;\n    }\n\n    setFocusPac() {\n        this.domService.setFocusTm('pacAutoCom', 100);\n    }\n\n    clearPacForCalendar() {\n        this.pacForCalendar = null;\n        this.form.paciente = null;\n        this.lclStrgService.removeItem('PAC_FOR_CAL');\n    }\n\n    raiseCancelClic() {\n        this.evCancelar.emit('');\n    }\n\n    raiseListadoClic() {\n        this.evListado.emit(this.tipoCita);\n    }\n\n    auxLoadDatosTipCita(dtipcita) {\n        this.calHoraIni = dtipcita.tipc_calini;\n        this.calHoraFin = dtipcita.tipc_calfin;\n        this.filas = (this.calHoraFin - this.calHoraIni) * this.parteshora;\n        this.changeSelectedDate(this.fechasService.getCurrentDate(), true);\n        this.loadDias();\n        this.loadMesArray();\n        this.loadMedicos();\n    }\n\n    onPersonCitaChange($event: any) {\n        if (this.personCitaSel) {\n            if (this.personCitaSel !== this.tipoCita) {\n                this.tipoCita = this.personCitaSel;\n                this.tcitaService.getDatosTipoCita(this.tipoCita).subscribe(res => {\n                    if (res.status === 200) {\n                        this.auxLoadDatosTipCita(res.dtipcita);\n                        this.loadCitas();\n                        this.initListasForm();\n                    }\n                });\n            }\n        }\n    }\n\n    showFormCreaRef() {\n        this.isShowFormCreaRef = true;\n    }\n\n    onCancelaCreacionRef($event: any) {\n        this.isShowFormCreaRef = false;\n    }\n\n    onReferenteCreado($event: any) {\n        this.personaService.buscarPorCod($event).subscribe(res => {\n            this.isShowFormCreaRef = false;\n            if (res.status === 200) {\n                this.pacForCalendar = res.persona;\n                this.form.paciente = this.pacForCalendar;\n            }\n        });\n    }\n}\n","<div>\n    <div class=\"text-center\" *ngIf=\"showAnim\">\n        <app-loading></app-loading>\n    </div>\n\n    <div *ngIf=\"!showAnim\">\n        <div class=\"card border-secondary\">\n            <div id=\"HistPanelMotivoConsulta\">\n                <div class=\"row dato-adc-fila\">\n                    <div class=\"col-md-5\">\n                        <h6>\n                            {{historiaSel.paciente.per_nombres + ' ' + historiaSel.paciente.per_apellidos}}\n                            -  {{historiaSel.paciente.per_ciruc}}\n                        </h6>\n                    </div>\n                    <div class=\"col-md-7\">\n                        <div class=\"d-md-flex justify-content-md-between\">\n                            <div>\n                                <span>Fecha nacimiento:</span>\n                                {{historiaSel.paciente.per_fechanac}}\n                            </div>\n                            <div class=\"btn-group btn-group-sm\" role=\"group\"\n                                 aria-label=\"Button group with nested dropdown\">\n                                <div class=\"btn-group\" role=\"group\">\n                                    <button type=\"button\"\n                                            class=\"btn btn-outline-primary btn-sm dropdown-toggle\"\n                                            data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                        Imprimir\n                                    </button>\n                                    <div class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\">\n                                        <a class=\"dropdown-item\" href=\"#\" (click)=\"auximprime(1, $event)\">\n                                            <i class=\"fas fa-print\"></i>Historia </a>\n                                        <a class=\"dropdown-item\" href=\"#\" (click)=\"auximprime(2, $event)\">\n                                            <i class=\"fas fa-print\"></i>Receta </a>\n                                    </div>\n                                </div>\n                                <div class=\"btn-group\" role=\"group\">\n                                    <button type=\"button\"\n                                            class=\"btn btn-outline-primary btn-sm dropdown-toggle\"\n                                            data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                        Editar\n                                    </button>\n                                    <div class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\">\n                                        <a class=\"dropdown-item\" href=\"#\" (click)=\"auxEditaAnula(1, $event)\">\n                                            <i class=\"fas fa-edit\"></i> Editar </a>\n                                        <a class=\"dropdown-item\" href=\"#\" (click)=\"auxEditaAnula(2, $event)\">\n                                            <i class=\"fas fa-trash\"></i>\n                                            Anular </a>\n                                    </div>\n                                </div>\n                                <button class=\"btn btn-outline-primary\" title=\"Ver ficha clínica\"\n                                        (click)=\"verFichaClinica()\" *ngIf=\"showFichaCli\">\n                                    <i class=\"fas fas fa-stethoscope\"></i>\n                                </button>\n                                <button class=\"btn btn-outline-primary\" (click)=\"cerrarHistoriaAnt()\">\n                                    <i class=\"fas fa-times\"></i> Cerrar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row dato-adc-fila\">\n                    <div class=\"col-md-3\">\n                        <span class=\"text-muted\">Fecha Atención:</span>\n                    </div>\n                    <div class=\"col\">\n                        <p>\n                            {{rowHistoriaSel.cosm_fechacrea}}\n                        </p>\n                    </div>\n                </div>\n\n                <div class=\"row dato-adc-fila\">\n                    <div class=\"col-md-3\">\n                        <span class=\"text-muted\">Motivo Consulta:</span>\n                    </div>\n                    <div class=\"col\">\n                        <p>\n                            {{historiaSel.datosconsulta.cosm_motivo}}\n                        </p>\n                    </div>\n                </div>\n                <div class=\"row dato-adc-fila\">\n                    <div class=\"col-md-3\">\n                        <span class=\"text-muted\">Enfermedad actual:</span>\n                    </div>\n                    <div class=\"col\">\n                        <p>\n                            {{historiaSel.datosconsulta.cosm_enfermactual}}\n                        </p>\n                    </div>\n                </div>\n\n                <div class=\"row dato-adc-fila\" *ngIf=\"historiaSel.datosconsulta.cosm_fechaedita\">\n                    <div class=\"col\">\n                        <div class=\"alert alert-warning\" role=\"alert\">\n                            Historia editada el {{historiaSel.datosconsulta.cosm_fechaedita}}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"card border-secondary\" *ngIf=\"hasAntecedentes()\">\n            <div class=\"card-header quitaPadding\">\n                Antecedentes Personales\n            </div>\n            <div id=\"HistPanelAntecedentes\">\n                <ng-container *ngFor=\"let it of historiaSel.antecedentes;\">\n                    <div class=\"row dato-adc-fila\" *ngIf=\"it.valorreg\">\n                        <div class=\"col-md-4\">\n                            <span class=\"text-muted\">{{it.cmtv_valor}}:</span>\n                        </div>\n                        <div class=\"col-md-8\">\n                            <p>\n                                {{it.valorreg}}\n                            </p>\n                        </div>\n                    </div>\n                </ng-container>\n            </div>\n        </div>\n\n        <div class=\"card border-secondary\" *ngIf=\"hasRevXSistemas()\">\n            <div class=\"card-header quitaPadding\">\n                Revisión por sistemas\n            </div>\n            <div id=\"HistPanelRevXSistemas\">\n                <ng-container *ngFor=\"let it of historiaSel.revxsistemas\">\n                    <div class=\"row dato-adc-fila\" *ngIf=\"it.valorreg\">\n                        <div class=\"col-md-4\">\n                            <span class=\"text-muted\">{{it.cmtv_valor}}:</span>\n                        </div>\n                        <div class=\"col-md-8\">\n                            <p>\n                                {{it.valorreg}}\n                            </p>\n                        </div>\n                    </div>\n                </ng-container>\n            </div>\n        </div>\n\n        <div class=\"card border-secondary\" *ngIf=\"hasExamsFisico()\">\n            <div class=\"card-header quitaPadding\">\n                Exámen Físico\n            </div>\n            <div id=\"HistPanelExamenFisico\">\n                <ng-container *ngFor=\"let it of historiaSel.examsfisicos\">\n                    <div class=\"row dato-adc-fila\" *ngIf=\"it.valorreg\">\n                        <div class=\"col-md-4\">\n                            <span class=\"text-muted\">{{it.cmtv_valor}}</span>\n                        </div>\n                        <div class=\"col-md-8\">\n                            <p>\n                                {{it.valorreg}} <span class=\"badge bg-light\">{{it.cmtv_unidad}}</span>\n                            </p>\n                        </div>\n                    </div>\n                </ng-container>\n                <div class=\"row dato-adc-fila\" *ngIf=\"historiaSel.datosconsulta.cosm_hallazgoexamfis\">\n                    <div class=\"col-md-4\">\n                        <span class=\"text-muted\">Descripción de Hallazgos:</span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        {{historiaSel.datosconsulta.cosm_hallazgoexamfis}}\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"card border-secondary mb-3\">\n            <div class=\"card-header quitaPadding\">\n                Diagnóstico\n            </div>\n            <div id=\"HistPanelDiagnostico\">\n                <div class=\"row dato-fila\">\n                    <div class=\"col-md-4\">\n                        <span class=\"text-muted\">Diagnóstico:</span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        {{historiaSel.datosconsulta.diagnosticos}}\n                    </div>\n                </div>\n\n                <div class=\"row dato-fila\">\n                    <div class=\"col-md-4\">\n                        <span class=\"text-muted\">Diagnóstico Alternativo:</span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        {{historiaSel.datosconsulta.cosm_diagnosticoal}}\n                    </div>\n                </div>\n\n                <div class=\"row dato-fila\">\n                    <div class=\"col-md-4\">\n                        <span class=\"text-muted\">Tratamiento:</span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <p style=\"white-space: pre-line\">{{historiaSel.datosconsulta.cosm_tratamiento}}</p>\n                    </div>\n                </div>\n                <div class=\"row dato-fila\">\n                    <div class=\"col-md-4\">\n                        <span class=\"text-muted\">Receta:</span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <p style=\"white-space: pre-line\">{{historiaSel.datosconsulta.cosm_receta}}</p>\n                    </div>\n                </div>\n                <div class=\"row dato-fila\">\n                    <div class=\"col-md-4\">\n                        <span class=\"text-muted\">Indicaciones Receta:</span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <p style=\"white-space: pre-line\">{{historiaSel.datosconsulta.cosm_indicsreceta}}</p>\n                    </div>\n                </div>\n                <div class=\"row dato-fila\">\n                    <div class=\"col-md-4\">\n                        <span class=\"text-muted\">Recomendaciones:</span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        <p style=\"white-space: pre-line\">{{historiaSel.datosconsulta.cosm_recomendaciones}}</p>\n                    </div>\n                </div>\n                <div class=\"row dato-fila\">\n                    <div class=\"col-md-4\">\n                        <span class=\"text-muted\">Fecha Próxima Cita:</span>\n                    </div>\n                    <div class=\"col-md-8\">\n                        {{historiaSel.datosconsulta.cosm_fechaproxcita}}\n                    </div>\n                </div>\n                <div class=\"d-flex flex-row-reverse\">\n                    <div class=\"btn-group btn-group-sm\" role=\"group\"\n                         aria-label=\"Button group with nested dropdown\">\n                        <div class=\"btn-group\" role=\"group\">\n                            <button type=\"button\"\n                                    class=\"btn btn-outline-primary btn-sm dropdown-toggle\"\n                                    data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                Imprimir\n                            </button>\n                            <div class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\">\n                                <a class=\"dropdown-item\" href=\"#\" (click)=\"auximprime(1, $event)\">\n                                    <i class=\"fas fa-print\"></i>Historia </a>\n                                <a class=\"dropdown-item\" href=\"#\" (click)=\"auximprime(2, $event)\">\n                                    <i class=\"fas fa-print\"></i>Receta </a>\n                            </div>\n                        </div>\n                        <div class=\"btn-group\" role=\"group\">\n                            <button type=\"button\"\n                                    class=\"btn btn-outline-primary btn-sm dropdown-toggle\"\n                                    data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                                Editar\n                            </button>\n                            <div class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\">\n                                <a class=\"dropdown-item\" href=\"#\" (click)=\"auxEditaAnula(1, $event)\">\n                                    <i class=\"fas fa-edit\"></i> Editar </a>\n                                <a class=\"dropdown-item\" href=\"#\" (click)=\"auxEditaAnula(2, $event)\">\n                                    <i class=\"fas fa-trash\"></i>\n                                    Anular </a>\n                            </div>\n                        </div>\n                        <button class=\"btn btn-outline-primary\" title=\"Ver ficha clínica\" *ngIf=\"showFichaCli\"\n                                (click)=\"verFichaClinica()\">\n                            <i class=\"fas fas fa-stethoscope\"></i>\n                        </button>\n                        <button class=\"btn btn-outline-primary\" (click)=\"cerrarHistoriaAnt()\">\n                            <i class=\"fas fa-times\"></i> Cerrar\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, EventEmitter, Input, OnDestroy, OnInit, Output} from '@angular/core';\nimport {CitasMedicasService} from '../../../services/citas-medicas.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {Subscription} from 'rxjs';\nimport {ConsMedicaMsgService} from '../../../services/cons-medica-msg.service';\nimport {SwalService} from '../../../services/swal.service';\n\n@Component({\n    selector: 'app-citameddet',\n    templateUrl: './cita-med-det.component.html',\n    styleUrls: ['./cita-med-det.component.css']\n})\nexport class CitaMedDetComponent implements OnInit, OnDestroy {\n\n    @Input() rowHistoriaSel: any;\n    @Input() showFichaCli: boolean;\n    @Output() closed = new EventEmitter<any>();\n\n    subsCitasPlaned: Subscription;\n    historiaSel: any;\n    showAnim: any;\n\n    constructor(private citasMedicasServ: CitasMedicasService,\n                private loadingUiService: LoadingUiService,\n                private swalService: SwalService,\n                private cosmedicamsgService: ConsMedicaMsgService) {\n\n    }\n\n    ngOnInit(): void {\n        setTimeout(() => {\n            this.showAnim = true;\n        }, 100);\n        this.historiaSel = {datosconsulta: {}, antecedentes: [], revxsistemas: [], examsfisicos: [], paciente: {}};\n        this.loadDatosCita();\n    }\n\n    ngOnDestroy() {\n        if (this.subsCitasPlaned) {\n            this.subsCitasPlaned.unsubscribe();\n        }\n    }\n\n    loadDatosCita() {\n        this.citasMedicasServ.getDatosHistoriaByCod(this.rowHistoriaSel.cosm_id).subscribe(res => {\n            if (res.status === 200) {\n                this.historiaSel = res.datoshistoria;\n                setTimeout(() => {\n                    this.showAnim = false;\n                }, 100);\n            }\n        });\n    }\n\n    imprimirRecetaAnterior() {\n        this.citasMedicasServ.imprimir(this.rowHistoriaSel.cosm_id);\n    }\n\n    imprimirHistoria() {\n        this.citasMedicasServ.imprimirHistoria(this.rowHistoriaSel.cosm_id);\n    }\n\n    cerrarHistoriaAnt() {\n        this.closed.emit('');\n    }\n\n    anular() {\n        const motivo = prompt('Ingrese el motivo de la anulación', '');\n        if (motivo) {\n            this.citasMedicasServ.anular(this.rowHistoriaSel.cosm_id, motivo).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.cerrarHistoriaAnt();\n                    this.cosmedicamsgService.publishReloadHistorias();\n                }\n            });\n        }\n    }\n\n    auximprime(tipo: number, event: Event) {\n        event.preventDefault();\n        if (tipo === 1) {\n            this.imprimirHistoria();\n        } else if (tipo === 2) {\n            this.imprimirRecetaAnterior();\n        }\n    }\n\n    auxEditaAnula(tipo: number, event: Event) {\n        event.preventDefault();\n        if (tipo === 1) {\n            this.editar();\n        } else if (tipo === 2) {\n            this.anular();\n        }\n    }\n\n    editar() {\n        const datoshistoria = {\n            cosm_id: this.rowHistoriaSel.cosm_id,\n            per_ciruc: this.rowHistoriaSel.per_ciruc,\n            per_id: this.historiaSel.paciente.per_id\n        };\n        this.cerrarHistoriaAnt();\n        this.cosmedicamsgService.publishMessage({tipo: 2, msg: datoshistoria});\n    }\n\n    verFichaClinica() {\n        const datoshistoria = {\n            per_ciruc: this.rowHistoriaSel.per_ciruc,\n            per_id: this.historiaSel.paciente.per_id\n        };\n        this.cerrarHistoriaAnt();\n        this.cosmedicamsgService.publishMessage({tipo: 1, msg: datoshistoria});\n    }\n\n    hasAntecedentes() {\n        return this.historiaSel.antecedentes.filter(it => it.valorreg).length > 0;\n    }\n\n    hasExamsFisico() {\n        const val = this.historiaSel.examsfisicos.filter(it => it.valorreg).length > 0;\n        return val || this.historiaSel.datosconsulta.cosm_hallazgoexamfis;\n    }\n\n    hasRevXSistemas() {\n        return this.historiaSel.revxsistemas.filter(it => it.valorreg).length > 0;\n    }\n\n}\n","<div>\n    <div *ngIf=\"showBuscaPaciente\">\n        <h5 class=\"quitaPaddingMargin mb-1\">\n            <span class=\"fas fa-stethoscope\"></span> Historias Clínicas\n        </h5>\n\n        <!--Ubicar tabs para navegacion -->\n        <ul class=\"nav nav-tabs mb-2\">\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':1===selectedSupTab}\"\n                   (click)=\"selectSupTab(1, $event)\">Registrar\n                    Historia</a>\n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':2===selectedSupTab}\"\n                   (click)=\"selectSupTab(2, $event)\">Atenciones\n                    realizadas</a>\n            </li>\n            <li class=\"nav-item\">\n                <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':3===selectedSupTab}\"\n                   (click)=\"selectSupTab(3, $event)\">Citas\n                    planificadas</a>\n            </li>\n        </ul>\n\n        <div id=\"RegistrarHistoria\" *ngIf=\"selectedSupTab===1\">\n            <app-listadorefs (evCrearPaciente)=\"onCreaPaciente($event)\"\n                             (evSelPaciente)=\"selPacFromLista($event)\"></app-listadorefs>\n        </div>\n\n        <div id=\"AtencionesHechas\" *ngIf=\"selectedSupTab===2\">\n            <app-citashechas [tipocita]=\"tipoHistoria\"></app-citashechas>\n        </div>\n\n        <div id=\"CitasPlanificadas\" *ngIf=\"selectedSupTab===3\">\n            <div *ngIf=\"!isShowCalendar\">\n                <app-citasplaned [tipocita]=\"1\"\n                                 (registraAtencionEv)=\"onRegistrarAtencionEv($event)\"\n                                 (gotoCalendarEv)=\"doGotoCalendar($event)\"></app-citasplaned>\n            </div>\n            <div *ngIf=\"isShowCalendar\">\n                <app-mvcalendar [tipoCita]=\"1\" [showListado]=\"true\"\n                                (evListado)=\"showListado($event)\"></app-mvcalendar>\n            </div>\n        </div>\n\n    </div>\n    <div *ngIf=\"!showBuscaPaciente\" #mainDiv id=\"mainDiv\">\n        <div class=\"row mb-2\">\n            <div class=\"col-9\">\n                <h4 class=\"quitaPaddingMargin text-muted\"><span class=\"fas fa-stethoscope\">  </span> Ficha Clínica </h4>\n            </div>\n            <div class=\"col-3 d-flex justify-content-end\">\n                <div class=\"btn-group\" role=\"group\" aria-label=\"Default button group\">\n                    <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"limpiar()\"\n                            title=\"Cerrar esta ficha clínica y buscar otra\">\n                        <i class=\"fa fa-times\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <hr class=\"quitaPaddingMargin\">\n        <div class=\"card border-primary\" style=\"margin-bottom: 20px\"\n             *ngIf=\"form.paciente.per_id>0 && datosPacienteFull.per_id>0\">\n            <div class=\"card-body\">\n                <div class=\"d-flex row justify-content-between align-items-center\">\n                    <div class=\"col-md-1\">\n                        <img src=\"assets/imgs/{{datosPacienteFull.per_genero===2?'female.png':'male.png'}}\"\n                             alt=\"Avatar\" class=\"img-fluid\">\n                    </div>\n                    <div class=\"col-md-11\">\n                        <div class=\"row d-flex flex-row\">\n                            <div class=\"col-md-6\">\n                                <h5>\n                                    {{datosPacienteFull.per_nombres + ' ' + datosPacienteFull.per_apellidos}}\n                                </h5>\n                                <h6>\n                                    {{datosPacienteFull.per_ciruc}}\n                                </h6>\n                                <h6 *ngIf=\"datosPacienteFull.per_fechanac\">\n                                    {{datosPacienteFull.per_fechanac}} - <small>{{datosPacienteFull.per_edad.years}}\n                                    año(s), {{datosPacienteFull.per_edad.months}}\n                                    mes(es), {{datosPacienteFull.per_edad.days}}\n                                    dia(s)</small>\n                                </h6>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-3\">\n                                        <span class=\"text-muted\">Dirección:</span>\n                                    </div>\n                                    <div class=\"col-md\">\n                                        <span> {{datosPacienteFull.residencia}} {{datosPacienteFull.per_direccion ? ('-' + datosPacienteFull.per_direccion) : ''}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-3\">\n                                        <span class=\"text-muted\">Celular:</span>\n                                    </div>\n                                    <div class=\"col-md\">\n                                        <span> {{datosPacienteFull.per_movil}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-3\">\n                                        <span class=\"text-muted\">Email:</span>\n                                    </div>\n                                    <div class=\"col-md\">\n                                        <span> {{datosPacienteFull.per_email}}</span>\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-3\">\n                                        <span class=\"text-muted\">Estado Civil:</span>\n                                    </div>\n                                    <div class=\"col-md\">\n                                        <span> {{datosPacienteFull.estadocivil}}</span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"w-100\">\n                            <span class=\"text-muted\">Profesión: </span>\n                            <span>{{datosPacienteFull.profesion}}</span>\n                        </div>\n\n                        <div class=\"w-100 mt-4\" *ngIf=\"historias.length>0\">\n                            <div>\n                                <button class=\"btn btn-link btn-sm\" data-bs-toggle=\"collapse\"\n                                        data-bs-target=\"#citasPanel\"\n                                        *ngIf=\"historias.length>0\">\n                                    <i class=\"fa fa-history\"></i>\n                                    Citas Anteriores <span\n                                        class=\"badge rounded-pill bg-primary\">{{historias.length}}</span></button>\n                            </div>\n\n                            <div id=\"citasPanel\" class=\"collapse\">\n                                <div class=\"table-responsive\">\n                                    <table class=\"table table-hover\">\n                                        <thead>\n                                        <tr>\n                                            <th scope=\"col\" class=\"quitaPaddingTB\">Día</th>\n                                            <th scope=\"col\" class=\"quitaPaddingTB\">Motivo</th>\n                                            <th scope=\"col\" class=\"quitaPaddingTB\">Próxima Cita</th>\n                                            <th scope=\"col\" class=\"quitaPaddingTB\">\n                                                <button type=\"button\" class=\"btn btn-sm btn-outline-primary\"\n                                                        data-bs-toggle=\"collapse\"\n                                                        data-bs-target=\"#citasPanel\"\n                                                        title=\"Cerrar \">\n                                                    <i class=\"fa fa-times\"></i>\n                                                </button>\n                                            </th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr *ngFor=\"let row of historias\" (click)=\"selectHistoriaAnt(row)\"\n                                            class=\"hand \">\n                                            <td>\n                                                {{row.cosm_fechacrea}}\n                                            </td>\n                                            <td>\n                                                {{row.cosm_motivo}}\n                                            </td>\n                                            <td>\n                                                {{row.cosm_fechaproxcita}}\n                                            </td>\n                                            <td>\n                                                <button class=\"btn btn-sm btn-outline-primary\" title=\"Ver detalles\"><i\n                                                        class=\"fa fa-eye\"></i>\n                                                </button>\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"isHistoriaAntSel\">\n            <p-dialog header=\"Detalles de la cita\" [modal]=\"true\" [style]=\"{width: '90vw'}\" [baseZIndex]=\"10000\"\n                      [(visible)]=\"isHistoriaAntSel\">\n                <app-citameddet [rowHistoriaSel]=\"rowHistoriaSel\"\n                                (closed)=\"onCerrarDetHistoria($event)\"></app-citameddet>\n            </p-dialog>\n        </div>\n\n        <div class=\"alert alert-warning\" role=\"alert\" *ngIf=\"editando\">\n            Editando la historia Nro: {{this.form.datosconsulta.cosm_id}}\n            <button class=\"btn btn-sm btn-outline-secondary\" style=\"margin-left: 30px\" (click)=\"limpiar()\">Cancelar\n            </button>\n        </div>\n\n        <p-tabView [(activeIndex)]=\"selectedTab\" (onChange)=\"onTabChange($event)\">\n            <p-tabPanel header=\"1. Datos del Paciente\">\n                <app-datosref [codPaciente]=\"pacienteSelected.per_id\" (pacienteLoaded)=\"onPacienteLoaded($event)\"\n                              (pacienteSaved)=\"onPacienteSaved($event)\"\n                              (datosIncompletosEv)=\"onDatosIncompletos($event)\"\n                              (creacionCancelada)=\"limpiar()\"></app-datosref>\n            </p-tabPanel>\n\n            <p-tabPanel header=\"2. Motivo\">\n                <div class=\"row my-1 mx-md-3\">\n                    <div class=\"col-12\">\n                        <span class=\"required\">*</span><span>Motivo Consulta:</span>\n                    </div>\n                    <div class=\"col-12\">\n                        <textarea class=\"form-control\" [(ngModel)]=\"form.datosconsulta.cosm_motivo\" [disabled]=\"saved\"\n                                  id=\"motivoConsultaTextArea\">\n                        </textarea>\n                    </div>\n                </div>\n                <div class=\"row my-1 mx-md-3\">\n                    <div class=\"col-12\">\n                        <span class=\"required\">*</span><span>Enfermedad actual:</span>\n                    </div>\n                    <div class=\"col-12\">\n                        <textarea class=\"form-control\" rows=\"5\" [disabled]=\"saved\"\n                                  [(ngModel)]=\"form.datosconsulta.cosm_enfermactual\">\n                        </textarea>\n                    </div>\n                </div>\n                <div class=\"padding15\">\n                    <button class=\"btn btn-primary\" (click)=\"guardaMotivoConsulta()\" [disabled]=\"saved\"> Siguiente <i\n                            class=\"fa fa-arrow-right\"></i></button>\n                </div>\n            </p-tabPanel>\n\n            <p-tabPanel header=\"3. Antecedentes\">\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <div *ngFor=\"let it of form.antecedentes.slice(0,4);\">\n                            <div class=\"row my-1 mx-md-3\" *ngIf=\"showExamFisico(it)\">\n                                <div class=\"col-12\">\n                                    <span>{{it.cmtv_valor}}:</span>\n                                </div>\n                                <div class=\"col\">\n                                    <div *ngIf=\"it.cmtv_tinput===1\">\n                                        <input type=\"text\" class=\"form-control\" [disabled]=\"saved\"\n                                               [(ngModel)]=\"it.valorreg\"\n                                               id=\"inantecedentes_{{form.antecedentes.indexOf(it)}}\">\n                                    </div>\n                                    <div *ngIf=\"it.cmtv_tinput===2\">\n                                        <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\" [disabled]=\"saved\"\n                                                  id=\"inantecedentes_{{form.antecedentes.indexOf(it)}}\">\n                                        </textarea>\n                                    </div>\n                                    <div *ngIf=\"it.cmtv_tinput===3\">\n                                        <p-inputMask mask=\"99/99/9999\" [(ngModel)]=\"it.valorreg\" [disabled]=\"saved\"\n                                                     placeholder=\"dd/mm/aaaa\"\n                                                     slotChar=\"dd/mm/aaaa\"></p-inputMask>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col\" *ngIf=\"datosPacienteFull.per_genero===2\">\n                        <div *ngFor=\"let it of form.antecedentes.slice(4,10);\">\n                            <div class=\"row my-1 mx-md-3\">\n                                <div class=\"col-12\">\n                                    <span>{{it.cmtv_valor}}:</span>\n                                </div>\n                                <div class=\"col\">\n                                    <input type=\"text\" class=\"form-control\" [disabled]=\"saved\"\n                                           [(ngModel)]=\"it.valorreg\"\n                                           id=\"inantecedentes_{{form.antecedentes.indexOf(it)}}\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <div class=\"row my-1 mx-md-3\"\n                             *ngFor=\"let it of form.antecedentes.slice(10,11);\">\n                            <div class=\"col-12\">\n                                <span>{{it.cmtv_valor}}:</span>\n                            </div>\n                            <div class=\"col\">\n                                <div *ngIf=\"it.cmtv_tinput===1\">\n                                    <input type=\"text\" class=\"form-control\" [disabled]=\"saved\"\n                                           [(ngModel)]=\"it.valorreg\"\n                                           id=\"inantecedentes_{{form.antecedentes.indexOf(it)}}\">\n                                </div>\n\n                                <div *ngIf=\"it.cmtv_tinput===2\">\n                                <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\" [disabled]=\"saved\"\n                                          id=\"inantecedentes_{{form.antecedentes.indexOf(it)}}\">\n                                </textarea>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"padding15\">\n                    <button class=\"btn btn-primary\" (click)=\"guardarAntecedentes()\" [disabled]=\"saved\"> Siguiente <i\n                            class=\"fa fa-arrow-right\"></i></button>\n                </div>\n            </p-tabPanel>\n\n            <p-tabPanel header=\"4. Rev x Sistemas\">\n                <div class=\"row\">\n                    <div class=\"col\">\n                        <div class=\"row my-1 mx-md-3\" *ngFor=\"let it of form.revxsistemas.slice(0,5)\">\n                            <div class=\"col-12\">\n                                <span>{{it.cmtv_valor}}:</span>\n                            </div>\n                            <div class=\"col\">\n                                <div *ngIf=\"it.cmtv_tinput===1\">\n                                    <input type=\"text\" class=\"form-control\" [disabled]=\"saved\"\n                                           [(ngModel)]=\"it.valorreg\"\n                                           id=\"inrevxsis_{{form.revxsistemas.indexOf(it)}}\">\n                                </div>\n                                <div *ngIf=\"it.cmtv_tinput===2\">\n                                <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\" [disabled]=\"saved\"\n                                          id=\"inrevxsis_{{form.revxsistemas.indexOf(it)}}\">\n                                </textarea>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col\">\n                        <div class=\"row my-1 mx-md-3\" *ngFor=\"let it of form.revxsistemas.slice(5,9)\">\n                            <div class=\"col-12\">\n                                <span>{{it.cmtv_valor}}:</span>\n                            </div>\n                            <div class=\"col\">\n                                <div *ngIf=\"it.cmtv_tinput===1\">\n                                    <input type=\"text\" class=\"form-control\" [disabled]=\"saved\"\n                                           [(ngModel)]=\"it.valorreg\"\n                                           id=\"inrevxsis_{{form.revxsistemas.indexOf(it)}}\">\n                                </div>\n                                <div *ngIf=\"it.cmtv_tinput===2\">\n                                <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\" [disabled]=\"saved\"\n                                          id=\"inrevxsis_{{form.revxsistemas.indexOf(it)}}\">\n                                </textarea>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"padding15\">\n                    <button class=\"btn btn-primary\" (click)=\"guardarRevXSistemas()\" [disabled]=\"saved\"> Siguiente <i\n                            class=\"fa fa-arrow-right\"></i></button>\n                </div>\n            </p-tabPanel>\n\n            <p-tabPanel header=\"5. Exm Físico\">\n                <div>\n                    <div class=\"row\">\n                        <div class=\"col\">\n                            <div class=\"row my-1 mx-md-3\" *ngFor=\"let it of form.examsfisicos.slice(0,4)\">\n                                <div class=\"col-12\">\n                                    <span>{{it.cmtv_valor}}</span>\n                                    <span class=\"badge bg-light\">{{it.cmtv_unidad}}</span>:\n                                </div>\n                                <div class=\"col-12\">\n                                    <div *ngIf=\"it.cmtv_tinput===1\">\n                                        <input type=\"text\" class=\"form-control\" [disabled]=\"saved\"\n                                               [(ngModel)]=\"it.valorreg\"\n                                               id=\"inexamfis_{{form.examsfisicos.indexOf(it)}}\"\n                                               (focusout)=\"calcularIMC(it)\">\n                                    </div>\n                                    <div *ngIf=\"it.cmtv_tinput===2\">\n                                        <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\" [disabled]=\"saved\"\n                                                  id=\"inexamfis_{{form.examsfisicos.indexOf(it)}}\">\n                                        </textarea>\n                                    </div>\n                                </div>\n                                <div class=\"col-12\"\n                                     *ngIf=\"it.cmtv_nombre === 'EXFIS_TA' && datosAlertaPresion.msg? datosAlertaPresion.msg.length>0:false \">\n                                    <span style=\"color: {{datosAlertaPresion.color}}\"> {{datosAlertaPresion.msg}} </span>\n                                    <br>\n                                </div>\n                                <div class=\"col-12\"\n                                     *ngIf=\"it.cmtv_nombre === 'EXFIS_IMC' && datosAlertaImc.msg?datosAlertaImc.msg.length>0:false\">\n                                    <span style=\"color: {{datosAlertaImc.color}}\"> {{datosAlertaImc.msg}} </span>\n                                    <br>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"row my-1 mx-md-3\"\n                                 *ngFor=\"let it of form.examsfisicos.slice(4,9)\">\n                                <div class=\"col-12\">\n                                    <span>{{it.cmtv_valor}}</span>\n                                    <span class=\"badge bg-light\">{{it.cmtv_unidad}}</span>:\n                                </div>\n                                <div class=\"col-12\">\n                                    <div *ngIf=\"it.cmtv_tinput===1\">\n                                        <input type=\"text\" class=\"form-control\"\n                                               [(ngModel)]=\"it.valorreg\" [disabled]=\"saved\"\n                                               id=\"inexamfis_{{form.examsfisicos.indexOf(it)}}\"\n                                               (focusout)=\"calcularIMC(it)\">\n                                    </div>\n                                    <div *ngIf=\"it.cmtv_tinput===2\">\n                                    <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\" [disabled]=\"saved\"\n                                              id=\"inexamfis_{{form.examsfisicos.indexOf(it)}}\">\n                                    </textarea>\n                                    </div>\n                                </div>\n                                <div class=\"col-12\"\n                                     *ngIf=\"it.cmtv_nombre === 'EXFIS_TA' && datosAlertaPresion.msg? datosAlertaPresion.msg.length>0:false \">\n                                    <span style=\"color: {{datosAlertaPresion.color}}\"> {{datosAlertaPresion.msg}} </span>\n                                    <br>\n                                </div>\n                                <div class=\"col-12\"\n                                     *ngIf=\"it.cmtv_nombre === 'EXFIS_IMC' && datosAlertaImc.msg?datosAlertaImc.msg.length>0:false\">\n                                    <span style=\"color: {{datosAlertaImc.color}}\"> {{datosAlertaImc.msg}} </span>\n                                    <br>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"row my-1 mx-md-3\">\n                        <div class=\"col-12\">\n                            <span>Descripción de Hallazgos:</span>\n                        </div>\n                        <div class=\"col-12\">\n                        <textarea class=\"form-control\" [disabled]=\"saved\"\n                                  [(ngModel)]=\"form.datosconsulta.cosm_hallazgoexamfis\">\n                        </textarea>\n                        </div>\n                    </div>\n\n                    <div class=\"padding15\">\n                        <button class=\"btn btn-primary\" (click)=\"guardarExamenFisico()\" [disabled]=\"saved\"> Siguiente\n                            <i class=\"fa fa-arrow-right\"></i></button>\n                    </div>\n                </div>\n            </p-tabPanel>\n\n            <p-tabPanel header=\"6. Exm Complementario\">\n                <app-rxdocs [codPaciente]=\"pacienteSelected.per_id\" [tipo]=\"1\"></app-rxdocs>\n                <div class=\"padding15\">\n                    <button class=\"btn btn-primary\" (click)=\"guardarExamCompl()\" [disabled]=\"saved\"> Siguiente <i\n                            class=\"fa fa-arrow-right\"></i></button>\n                </div>\n            </p-tabPanel>\n\n            <p-tabPanel header=\"7. Diagnóstico\">\n                <div #diagnosticoDiv id=\"diagnosticoDiv\" *ngIf=\"!showCalendar\">\n                    <div class=\"row my-1 mx-md-3\">\n                        <div class=\"col-12\">\n                            <span class=\"required\">*</span><span>Diagnóstico:</span>\n                        </div>\n                    </div>\n                    <div class=\"my-1 mx-md-3\">\n                        <div class=\"row mx-md-3\"\n                             *ngFor=\"let sdiag of selectedDiags; let i=index\">\n                            <div class=\"col-11\">\n                                <p-dropdown [options]=\"ciedataArray\" id=\"diagnostico_id_{{i}}\"\n                                            [(ngModel)]=\"selectedDiags[i]\"\n                                            [virtualScroll]=\"true\"\n                                            placeholder=\"Seleccione o busque la enfermedad diagnosticada\"\n                                            [showClear]=\"true\"\n                                            [style]=\"{width:'100%', overflow:'visible'}\"\n                                            itemSize=\"50\"\n                                            [disabled]=\"saved\"\n                                            filter=\"true\"\n                                            optionLabel=\"ciekeyval\"\n                                            inputId=\"diagnostico_id_{{i}}\"></p-dropdown>\n                            </div>\n                            <div class=\"col-1 quitaPaddingLR\">\n                                <button class=\"btn btn-sm btn-outline-primary\"\n                                        (click)=\"addDiagnostico()\" [disabled]=\"saved\"\n                                        *ngIf=\"i===selectedDiags.length-1 && sdiag\"\n                                        title=\"Agregar otro diagnóstico\"><span\n                                        class=\"fa fa-plus-circle\"></span></button>\n                                <button class=\"btn btn-sm btn-outline-warning\"\n                                        (click)=\"removeDiagnostico(sdiag)\"\n                                        *ngIf=\"i>0\" [disabled]=\"saved\"\n                                        title=\"Quitar este diagnóstico\"><span\n                                        class=\"fa fa-minus-circle\"></span></button>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row mx-md-3\">\n                        <div class=\"col-12\">\n                            <span>Diagnóstico Alternativo:</span>\n                        </div>\n                        <div class=\"col-12\">\n                    <textarea class=\"form-control\" [disabled]=\"saved\"\n                              [(ngModel)]=\"form.datosconsulta.cosm_diagnosticoal\">\n                    </textarea>\n                        </div>\n                    </div>\n\n                    <div class=\"row mx-md-3\" *ngIf=\"tipoHistoria === 1\">\n                        <div class=\"col-12\">\n                            <span class=\"required\">*</span><span>Tratamiento:</span>\n                        </div>\n                        <div class=\"col-12\">\n                    <textarea class=\"form-control\" [disabled]=\"saved\"\n                              [(ngModel)]=\"form.datosconsulta.cosm_tratamiento\">\n                    </textarea>\n                        </div>\n                    </div>\n                    <div class=\"row mx-md-3\">\n                        <div class=\"col-12\">\n                            <span class=\"required\">*</span><span>Receta:</span>\n                        </div>\n                        <div class=\"col-12\">\n                    <textarea class=\"form-control\" [(ngModel)]=\"form.datosconsulta.cosm_receta\"\n                              rows=\"10\" [disabled]=\"saved\">\n                    </textarea>\n                        </div>\n                    </div>\n                    <div class=\"row mx-md-3\">\n                        <div class=\"col-12\">\n                            <span class=\"required\">*</span><span>Indicaciones Receta:</span>\n                        </div>\n                        <div class=\"col-12\">\n                    <textarea class=\"form-control\" [disabled]=\"saved\"\n                              [(ngModel)]=\"form.datosconsulta.cosm_indicsreceta\" rows=\"10\">\n                    </textarea>\n                        </div>\n                    </div>\n                    <div class=\"row mx-md-3\">\n                        <div class=\"col-12\">\n                            <span>Recomendaciones:</span>\n                        </div>\n                        <div class=\"col-12\">\n                    <textarea class=\"form-control\" [disabled]=\"saved\"\n                              [(ngModel)]=\"form.datosconsulta.cosm_recomendaciones\">\n                    </textarea>\n                        </div>\n                    </div>\n                    <div class=\"row mx-md-3\" #proxcitaDiv id=\"proxcitaDiv\">\n                        <div class=\"col-12\">\n                            <span>Próxima Cita:</span>\n                        </div>\n                        <div class=\"col-12\">\n                        <span *ngIf=\"lastCita.ct_id>0\">\n                            {{lastCita.texto}}\n                        </span>\n                            <button class=\"ms-2 btn btn-outline-warning\" *ngIf=\"lastCita.ct_id>0\"\n                                    (click)=\"anularCita()\" [disabled]=\"saved\">\n                                Anular\n                            </button>\n                            <button class=\"ms-2 btn btn-outline-primary\" *ngIf=\"!lastCita.ct_id\"\n                                    (click)=\"showModalCalendar()\" [disabled]=\"saved\"><i\n                                    class=\"fas fa-calendar\"></i>\n                                Agendar\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class=\"padding15\">\n                        <div class=\"btn-group\" role=\"group\" aria-label=\"Botones de acción\"\n                             style=\"padding-left: 10px\">\n                            <button class=\"btn btn-primary\" *ngIf=\"saved\" (click)=\"imprimirReceta()\">\n                                Imprimir Receta <i\n                                    class=\"fa fa-print\"></i></button>\n\n                            <button class=\"btn btn-primary\" [disabled]=\"saved\"\n                                    (click)=\"guardarDiagnostico()\"> Guardar <i\n                                    class=\"fa fa-save\"></i></button>\n\n                            <button class=\"btn btn-primary\" *ngIf=\"saved\" (click)=\"limpiar()\"> Cerrar <i\n                                    class=\"fa fa-times\"></i></button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"mt-3\" #agendaDiv>\n                    <div *ngIf=\"showCalendar\" class=\"pb-2\">\n                        <app-mvcalendar [tipoCita]=\"1\" (evCreated)=\"onCitaCreated($event)\"\n                                        (evCancelar)=\"closeModalCalendar()\" [showCancelar]=\"true\"></app-mvcalendar>\n                    </div>\n                </div>\n\n            </p-tabPanel>\n        </p-tabView>\n    </div>\n</div>\n","import {Component, OnDestroy, OnInit, ViewChild} from '@angular/core';\nimport {CitasMedicasService} from '../../../services/citas-medicas.service';\nimport {FechasService} from '../../../services/fechas.service';\nimport {PersonaService} from '../../../services/persona.service';\nimport {SwalService} from '../../../services/swal.service';\nimport {ArrayutilService} from '../../../services/arrayutil.service';\nimport {DomService} from '../../../services/dom.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Subscription} from 'rxjs';\nimport {ConsMedicaMsgService} from '../../../services/cons-medica-msg.service';\nimport {LocalStorageService} from '../../../services/local-storage.service';\nimport {TcitaService} from '../../../services/tcita.service';\nimport {CtesService} from '../../../services/ctes.service';\n\n\n@Component({\n    selector: 'app-citasmedicas',\n    templateUrl: './citasmedicas.component.html',\n    styleUrls: ['./citasmedicas.component.css']\n})\nexport class CitasmedicasComponent implements OnInit, OnDestroy {\n\n    form: any;\n    ciedataArray: Array<any>;\n    showBuscaPaciente = true;\n    selectedSupTab: number;\n    historias: Array<any>;\n    isHistoriaAntSel: boolean;\n    rowHistoriaSel: any;\n    selectedTab: number;\n    saved: boolean;\n    codConsultaGen: any;\n    datosPacienteFull: any = {};\n    showAnim: boolean;\n    datosAlertaImc: any;\n    datosAlertaPresion: any;\n    selectedDiags: any[];\n    tipoHistoria: number;\n    editando: boolean;\n    codHistoriaEdit: number;\n    pacienteSelected: any;\n    isShowCalendar = false;\n\n    @ViewChild('mainDiv') mainDiv: any;\n    @ViewChild('agendaDiv') agendaDiv: any;\n    @ViewChild('diagnosticoDiv') diagnosticoDiv: any;\n    @ViewChild('proxcitaDiv') proxcitaDiv: any;\n\n    subsCitasPlaned: Subscription;\n    showCalendar: boolean;\n    lastCita: any;\n\n    constructor(private citasMedicasServ: CitasMedicasService,\n                private lclStrgServ: LocalStorageService,\n                private personaService: PersonaService,\n                private swalService: SwalService,\n                private fechasService: FechasService,\n                private arrayUtil: ArrayutilService,\n                private domService: DomService,\n                private loadingUiService: LoadingUiService,\n                private route: ActivatedRoute,\n                private router: Router,\n                private ctes: CtesService,\n                private cosMsgService: ConsMedicaMsgService,\n                private tcitaServ: TcitaService\n    ) {\n        this.route.paramMap.subscribe(params => {\n            this.tipoHistoria = parseInt(params.get('tipo'), 10);\n        });\n        this.selectedSupTab = 1;\n    }\n\n    auxLoadCiedata() {\n        this.citasMedicasServ.getCie10Data().subscribe(rescie => {\n            if (rescie.status === 200) {\n                this.ciedataArray = rescie.cie10data;\n            }\n        });\n    }\n\n    ngOnInit() {\n        this.clearAll();\n        this.initForm();\n        this.auxLoadCiedata();\n        this.domService.setFocusTm(this.ctes.buscaPacNomCiInput, 700);\n\n        this.subsCitasPlaned = this.cosMsgService.message.subscribe(msg => {\n            if (msg) {\n                if (msg.tipo === 1) {// Cargar ficha clicina\n                    this.selPacFromLista(msg.msg);\n                } else if (msg.tipo === 2) { // Cargar historia anterior para edicion\n                    this.selectHistoriaForEdit(msg.msg);\n                } else if (msg.tipo === 3) { // Recargar listado de atenciones\n                    this.loadListaAtenciones();\n                }\n            }\n        });\n    }\n\n    clearAll() {\n        this.showBuscaPaciente = true;\n        this.selectedTab = 1;\n        this.datosAlertaImc = {};\n        this.datosAlertaPresion = {};\n        this.isHistoriaAntSel = false;\n        this.rowHistoriaSel = {};\n        this.datosPacienteFull = {per_id: 0, per_edad: {}};\n        this.pacienteSelected = {per_id: 0, per_ciruc: ''};\n        this.historias = [];\n        this.saved = false;\n        this.codConsultaGen = null;\n        this.showAnim = false;\n        this.selectedDiags = [null];\n        this.editando = false;\n        this.lastCita = {};\n    }\n\n    initForm() {\n        this.selectedDiags = [null];\n        this.form = {\n            paciente: {\n                per_id: 0,\n                per_ciruc: ''\n            },\n            datosconsulta: {\n                cosm_id: 0,\n                pac_id: 0,\n                med_id: 0,\n                cosm_fechacita: '',\n                cosm_fechacrea: '',\n                cosm_motivo: '',\n                cosm_enfermactual: '',\n                cosm_hallazgoexamfis: '',\n                cosm_exmscompl: '',\n                cosm_tratamiento: '',\n                cosm_receta: '',\n                cosm_recomendaciones: '',\n                user_crea: '',\n                cosm_odontograma: ''\n            },\n            antecedentes: [],\n            examsfisicos: [],\n            revxsistemas: [],\n            diagnostico: []\n        };\n    }\n\n    reloadFormConsulta() {\n        this.loadingUiService.publishBlockMessage();\n        this.citasMedicasServ.getForm().subscribe(res => {\n            if (res.status === 200) {\n                this.form = res.form;\n                this.pacienteSelected = {\n                    per_id: this.datosPacienteFull.per_id,\n                    per_ciruc: this.datosPacienteFull.per_ciruc\n                };\n                this.form.paciente.per_id = this.pacienteSelected.per_id;\n                this.loadListaAtenciones();\n                this.domService.setFocusTm(this.ctes.motivoConsultaTextArea, 300);\n            }\n        });\n    }\n\n    loadFormConsulta() {\n        this.loadingUiService.publishBlockMessage();\n        this.citasMedicasServ.getForm().subscribe(res => {\n            if (res.status === 200) {\n                this.form = res.form;\n                if (this.pacienteSelected.per_id > 0) {\n                    this.form.paciente.per_id = this.pacienteSelected.per_id;\n                    this.loadListaAtenciones();\n                    this.domService.setFocusTm(this.ctes.motivoConsultaTextArea, 300);\n                } else {\n                    this.form.paciente.per_id = 0;\n                    this.selectedTab = 0;\n                }\n\n                this.showBuscaPaciente = false;\n\n                if (this.editando) {\n                    this.selectedTab = 1;\n                    this.citasMedicasServ.getDatosHistoriaByCod(this.codHistoriaEdit).subscribe(resHis => {\n                        if (resHis.status === 200) {\n                            this.form.antecedentes = resHis.datoshistoria.antecedentes;\n                            this.form.examsfisicos = resHis.datoshistoria.examsfisicos;\n                            this.form.revxsistemas = resHis.datoshistoria.revxsistemas;\n                            this.form.datosconsulta = resHis.datoshistoria.datosconsulta;\n                            const cosm_diagnosticos = resHis.datoshistoria.datosconsulta.cosm_diagnosticos;\n                            this.selectedDiags = [];\n                            if (cosm_diagnosticos) {\n                                const diagsNumberArray = cosm_diagnosticos.split(',');\n                                for (const codDiag of diagsNumberArray) {\n                                    const ciedDiag = this.arrayUtil.getFirstResult(\n                                        this.ciedataArray, el => {\n                                            return parseInt(el.cie_id, 10) === parseInt(codDiag, 10);\n                                        }\n                                    );\n                                    if (ciedDiag) {\n                                        this.selectedDiags.push(ciedDiag);\n                                    }\n                                }\n                            }\n                            this.selectedDiags.push(null);\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n    calcularIMC(it: any) {\n        let valorPeso: any = '0';\n        let valorTalla: any = '0';\n        let filaIMC: any;\n        this.form.examsfisicos.forEach(e => {\n            const nombredato = e.cmtv_nombre;\n            if (nombredato === 'EXFIS_PESO') {\n                valorPeso = e.valorreg;\n            } else if (nombredato === 'EXFIS_TALLA') {\n                valorTalla = e.valorreg;\n            } else if (nombredato === 'EXFIS_IMC') {\n                filaIMC = e;\n            }\n        });\n        const valorPesoNumber = Number(valorPeso);\n        const valorTallaNumber = Number(valorTalla);\n        let imc = Number('0');\n        if (valorTallaNumber !== 0) {\n            imc = valorPesoNumber / (valorTallaNumber * valorTallaNumber);\n        }\n        const imcRounded = imc.toFixed(2);\n        if (filaIMC) {\n            filaIMC.valorreg = imcRounded;\n            this.citasMedicasServ.getDescValExamFisico(3, imcRounded).subscribe(resimc => {\n                if (resimc.status === 200) {\n                    const result = resimc.result;\n                    const color = resimc.color;\n                    this.datosAlertaImc = {msg: result, color};\n                }\n            });\n        }\n\n        if (it.cmtv_nombre === 'EXFIS_IMC') {\n            this.citasMedicasServ.getDescValExamFisico(3, imcRounded).subscribe(resa => {\n                if (resa.status === 200) {\n                    const result = resa.result;\n                    const color = resa.color;\n                    this.datosAlertaImc = {msg: result, color};\n                }\n            });\n        } else if (it.cmtv_nombre === 'EXFIS_TA') {\n            this.citasMedicasServ.getDescValExamFisico(1, it.valorreg).subscribe(resb => {\n                if (resb.status === 200) {\n                    const result = resb.result;\n                    const color = resb.color;\n                    this.datosAlertaPresion = {msg: result, color};\n                }\n            });\n        }\n    }\n\n    addDiagnostico() {\n        if (this.selectedDiags[this.selectedDiags.length - 1] != null) {\n            this.selectedDiags.push(null);\n        } else {\n            this.swalService.fireToastWarn('Debe especificar el diagnóstico para agregar otros');\n        }\n    }\n\n    removeDiagnostico(diag: any) {\n        this.arrayUtil.removeElement(this.selectedDiags, diag);\n    }\n\n    selectHistoriaForEdit(datosHistoria: any) {\n        this.codHistoriaEdit = datosHistoria.cosm_id;\n        this.editando = true;\n        this.selPacFromLista(datosHistoria);\n    }\n\n    loadListaAtenciones() {\n        this.historias = [];\n        this.citasMedicasServ.getListaAtenciones(this.pacienteSelected.per_ciruc).subscribe(resCitas => {\n            if (resCitas.status === 200) {\n                this.historias = resCitas.items;\n                const antpers = resCitas.antpers;\n                if (antpers && antpers.length > 0) {\n                    this.form.antecedentes = antpers;\n                }\n            }\n        });\n    }\n\n    guardarDiagnostico() {\n        this.registrarCita();\n    }\n\n    auxGuardaTab(tabId, inputFocusId) {\n        this.selectedTab = tabId;\n        if (inputFocusId) {\n            this.domService.setFocusTm(inputFocusId, 100);\n        }\n    }\n\n    guardarExamCompl() {\n        this.auxGuardaTab(6, 'diagnostico_id');\n    }\n\n    guardarExamenFisico() {\n        this.auxGuardaTab(5, 'inexamcompl_0');\n    }\n\n    guardarRevXSistemas() {\n        this.auxGuardaTab(4, 'inexamfis_0');\n    }\n\n    guardaMotivoConsulta() {\n        this.auxGuardaTab(2, 'inantecedentes_0');\n    }\n\n    guardarAntecedentes() {\n        this.auxGuardaTab(3, 'inrevxsis_0');\n    }\n\n    registrarCita() {\n        const msg = '¿Seguro?';\n        this.swalService.fireDialog(msg).then(confirm => {\n            if (confirm.value) {\n                let fechaProxCita = '';\n                if (this.form.datosconsulta.cosm_fechaproxcita) {\n                    if (this.form.datosconsulta.cosm_fechaproxcita instanceof Date) {\n                        fechaProxCita = this.fechasService.formatDate(this.form.datosconsulta.cosm_fechaproxcita);\n                    } else {\n                        fechaProxCita = this.form.datosconsulta.cosm_fechaproxcita;\n                    }\n                }\n                const formToPost: any = {};\n                for (const prop of Object.keys(this.form)) {\n                    formToPost[prop] = this.form[prop];\n                }\n\n                formToPost.datosconsulta.cosm_fechaproxcita = fechaProxCita;\n                formToPost.datosconsulta.cosm_tipo = this.tipoHistoria;\n                formToPost.datosconsulta.diagnosticos = this.selectedDiags;\n\n                this.loadingUiService.publishBlockMessage();\n                if (this.editando) {\n                    this.citasMedicasServ.editarCita(formToPost).subscribe(res => {\n                        if (res.status === 200) {\n                            this.codConsultaGen = res.ccm;\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadListaAtenciones();\n                            this.saved = true;\n                        }\n                    });\n                } else {\n                    this.citasMedicasServ.crearCita(formToPost).subscribe(res => {\n                        if (res.status === 200) {\n                            this.codConsultaGen = res.ccm;\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadListaAtenciones();\n                            this.saved = true;\n                        }\n                    });\n                }\n            }\n        });\n    }\n\n    limpiar() {\n        this.clearAll();\n        this.showBuscaPaciente = true;\n        this.domService.setFocusTm(this.ctes.buscaPacNomCiInput, 800);\n    }\n\n    selectHistoriaAnt(row: any) {\n        this.rowHistoriaSel = row;\n        this.isHistoriaAntSel = true;\n    }\n\n    onCerrarDetHistoria(msg: any) {\n        this.cerrarHistoriaAnt();\n    }\n\n    cerrarHistoriaAnt() {\n        this.isHistoriaAntSel = false;\n        setTimeout(() => {\n            this.mainDiv.nativeElement.scrollIntoView({behavior: 'smooth'});\n        }, 400);\n    }\n\n    imprimirReceta() {\n        this.citasMedicasServ.imprimir(this.codConsultaGen);\n    }\n\n    ngOnDestroy() {\n        if (this.subsCitasPlaned) {\n            this.subsCitasPlaned.unsubscribe();\n        }\n    }\n\n    showExamFisico(itExamFis): boolean {\n        const nombreExamen = itExamFis.cmtv_nombre;\n        const perGenero = this.datosPacienteFull.per_genero;\n        const setAntMujer = new Set();\n        setAntMujer.add('ANT_A');\n        setAntMujer.add('ANT_C');\n        setAntMujer.add('ANT_FUM');\n        setAntMujer.add('ANT_G');\n        setAntMujer.add('ANT_HM');\n        setAntMujer.add('ANT_HV');\n        setAntMujer.add('ANT_P');\n        setAntMujer.add('ANT_GINECOOBS');\n        if (parseInt(perGenero, 10) === 1) {\n            return !setAntMujer.has(nombreExamen);\n        } else {\n            return true;\n        }\n    }\n\n    selectSupTab(tab: number, event: Event) {\n        this.selectedSupTab = tab;\n        event.preventDefault();\n        if (tab === 1) {\n            this.domService.setFocusTm(this.ctes.buscaPacNomCiInput, 500);\n        }\n    }\n\n    onCreaPaciente($event: any) {\n        this.showBuscaPaciente = false;\n        this.datosPacienteFull = {per_edad: {}};\n        this.pacienteSelected = {per_ciruc: '', per_id: 0};\n        this.loadFormConsulta();\n    }\n\n    selPacFromLista(row: any) {\n        this.pacienteSelected.per_id = row.per_id;\n        this.pacienteSelected.per_ciruc = row.per_ciruc;\n        this.loadFormConsulta();\n    }\n\n    onPacienteLoaded($event: any) {\n        if (this.editando) {\n            this.datosPacienteFull = $event;\n        }\n\n        if (this.datosPacienteFull.per_ciruc !== $event.per_ciruc && !this.editando) {\n            this.datosPacienteFull = $event;\n            this.reloadFormConsulta();\n        }\n    }\n\n    reloadDatosPaciente(perId) {\n        this.personaService.buscarPorCodfull(perId).subscribe(res => {\n            if (res.status === 200) {\n                this.datosPacienteFull = res.persona;\n            }\n        });\n    }\n\n    onPacienteSaved($event: any) {\n        this.datosPacienteFull.per_id = $event;\n        this.selectedTab = 1;\n        this.form.paciente.per_id = $event;\n        this.domService.setFocusTm(this.ctes.motivoConsultaTextArea, 600);\n        this.reloadDatosPaciente(this.datosPacienteFull.per_id);\n    }\n\n    onDatosIncompletos($event: any) {\n        this.selectedTab = 0;\n    }\n\n    showModalCalendar() {\n        this.lclStrgServ.setItem('PAC_FOR_CAL', JSON.stringify(this.datosPacienteFull));\n        this.showCalendar = true; // modificado\n        this.scrollToDivAgenda();\n    }\n\n    closeModalCalendar() {\n        this.showCalendar = false; // modificado\n        this.scrollToDivDiagnos();\n    }\n\n    onCitaCreated($event: any) {\n        this.showCalendar = false;\n        this.loadLastCita();\n        this.scrollToDivDiagnos();\n    }\n\n    loadLastCita() {\n        this.lastCita = {};\n        const cd = this.fechasService.getCurrentDateStr();\n        this.form.datosconsulta.cosm_fechaproxcita = '';\n        this.tcitaServ.getNextCita(this.datosPacienteFull.per_id, 1, cd).subscribe(res => {\n            if (res.status === 200) {\n                this.lastCita = res.cita;\n                this.lastCita.texto = this.tcitaServ.getFechaHoraStr(this.lastCita);\n                this.form.datosconsulta.cosm_fechaproxcita = this.lastCita.ct_fecha;\n            }\n        });\n    }\n\n    onTabChange($event: any) {\n        if ($event && $event.index === 6) {\n            this.loadLastCita();\n        }\n    }\n\n    scrollToDivDiagnos() {\n        setTimeout(() => {\n            this.proxcitaDiv.nativeElement.scrollIntoView({behavior: 'smooth'});\n        }, 400);\n    }\n\n    scrollToDivAgenda() {\n        setTimeout(() => {\n            this.agendaDiv.nativeElement.scrollIntoView({behavior: 'smooth'});\n        }, 400);\n    }\n\n\n    anularCita() {\n        const msg = '¿Seguro que desea anular esta cita?';\n        this.swalService.fireDialog(msg).then(confirm => {\n                if (confirm.value) {\n                    this.tcitaServ.anular(this.lastCita.ct_id).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadLastCita();\n                        }\n                    });\n                }\n            }\n        );\n    }\n\n    onRegistrarAtencionEv($event: any) {\n        if ($event.pac_id) {\n            const datoshistoria = {\n                per_ciruc: $event.ciruc_pac,\n                per_id: $event.pac_id\n            };\n            this.cerrarHistoriaAnt();\n            this.cosMsgService.publishMessage({tipo: 1, msg: datoshistoria});\n        } else {\n            this.swalService.fireWarning('Esta cita no tiene registrado un paciente, no se puede ver la ficha clinica');\n        }\n    }\n\n    doGotoCalendar($event: any) {\n        this.isShowCalendar = true;\n    }\n\n    showListado($event: any) {\n        this.isShowCalendar = false;\n    }\n}\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {OdAntecService} from '../../services/odantec.service';\nimport {LoadingUiService} from '../../services/loading-ui.service';\nimport {SwalService} from '../../services/swal.service';\nimport {CitasMedicasService} from '../../services/citas-medicas.service';\n\n@Component({\n    selector: 'app-antcodonto',\n    styles: [\n            `.dato-adc-fila {\n            margin: 6px 1px;\n        }\n        `],\n    template: `\n        <div>\n            <div *ngIf=\"codPaciente>0\">\n                <div *ngIf=\"tipo===1\">\n                    <div *ngFor=\"let it of detalles\">\n                        <div class=\"row dato-adc-fila\">\n                            <div class=\"col-12\">\n                                <span>{{it.cmtv_valor}}:</span>\n                            </div>\n                            <div class=\"col\">\n                                <div *ngIf=\"it.cmtv_tinput===1\">\n                                    <input type=\"text\" class=\"form-control\"\n                                           [(ngModel)]=\"it.valorreg\">\n                                </div>\n                                <div *ngIf=\"it.cmtv_tinput===2\">\n                                    <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\">\n                                    </textarea>\n                                </div>\n                                <div *ngIf=\"it.cmtv_tinput===3\">\n                                    <p-inputMask mask=\"99/99/9999\" [(ngModel)]=\"it.valorreg\"\n                                                 placeholder=\"dd/mm/aaaa\"\n                                                 slotChar=\"dd/mm/aaaa\"></p-inputMask>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div *ngIf=\"tipo===2\">\n                    <div class=\"row\">\n                        <div class=\"col\">\n                            <div class=\"row dato-adc-fila\"\n                                 *ngFor=\"let it of detalles.slice(0,4)\">\n                                <div class=\"col-12\">\n                                    <span>{{it.cmtv_valor}}</span>\n                                    <span class=\"badge badge-light\">{{it.cmtv_unidad}}</span>:\n                                </div>\n                                <div class=\"col-12\">\n                                    <div *ngIf=\"it.cmtv_tinput===1\">\n                                        <input type=\"text\" class=\"form-control\"\n                                               [(ngModel)]=\"it.valorreg\"\n                                               (focusout)=\"calcularIMC(it)\">\n                                    </div>\n                                    <div *ngIf=\"it.cmtv_tinput===2\">\n                                        <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\">\n                                        </textarea>\n                                    </div>\n                                </div>\n                                <div class=\"col-12\"\n                                     *ngIf=\"it.cmtv_nombre === 'EXFIS_TA' && datosAlertaPresion.msg? datosAlertaPresion.msg.length>0:false \">\n                                    <span style=\"color: {{datosAlertaPresion.color}}\"> {{datosAlertaPresion.msg}} </span>\n                                    <br>\n                                </div>\n                                <div class=\"col-12\"\n                                     *ngIf=\"it.cmtv_nombre === 'EXFIS_IMC' && datosAlertaImc.msg?datosAlertaImc.msg.length>0:false\">\n                                    <span style=\"color: {{datosAlertaImc.color}}\"> {{datosAlertaImc.msg}} </span>\n                                    <br>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col\">\n                            <div class=\"row dato-adc-fila\"\n                                 *ngFor=\"let it of detalles.slice(4,9)\">\n                                <div class=\"col-12\">\n                                    <span>{{it.cmtv_valor}}</span>\n                                    <span class=\"badge badge-light\">{{it.cmtv_unidad}}</span>:\n                                </div>\n                                <div class=\"col-12\">\n                                    <div *ngIf=\"it.cmtv_tinput===1\">\n                                        <input type=\"text\" class=\"form-control\"\n                                               [(ngModel)]=\"it.valorreg\"\n                                               (focusout)=\"calcularIMC(it)\">\n                                    </div>\n                                    <div *ngIf=\"it.cmtv_tinput===2\">\n                                        <textarea class=\"form-control\" [(ngModel)]=\"it.valorreg\">\n                                        </textarea>\n                                    </div>\n                                </div>\n                                <div class=\"col-12\"\n                                     *ngIf=\"it.cmtv_nombre === 'EXFIS_TA' && datosAlertaPresion.msg? datosAlertaPresion.msg.length>0:false \">\n                                    <span style=\"color: {{datosAlertaPresion.color}}\"> {{datosAlertaPresion.msg}} </span>\n                                    <br>\n                                </div>\n                                <div class=\"col-12\"\n                                     *ngIf=\"it.cmtv_nombre === 'EXFIS_IMC' && datosAlertaImc.msg?datosAlertaImc.msg.length>0:false\">\n                                    <span style=\"color: {{datosAlertaImc.color}}\"> {{datosAlertaImc.msg}} </span>\n                                    <br>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row dato-fila\">\n                        <div class=\"col-12\">\n                            <span>Descripción de Hallazgos:</span>\n                        </div>\n                        <div class=\"col-12\">\n                            <textarea class=\"form-control\"\n                                      [(ngModel)]=\"cabecera.od_hallazgoexamfis\">\n                            </textarea>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"mt-1 d-flex justify-content-center\">\n                    <button class=\"btn btn-outline-primary\" (click)=\"guardar()\">\n                        <i class=\"fa fa-save\"></i> Guardar\n                    </button>\n                </div>\n\n            </div>\n            <div *ngIf=\"!codPaciente\">\n                <h4 class=\"text-muted\"> Favor registre primero los datos del paciente </h4>\n            </div>\n        </div>\n    `\n})\nexport class AntcodontoComponent implements OnInit, OnChanges {\n    @Input() codPaciente: number;\n    @Input() tipo: number; // 1-Personales, 2-Examen Fisico\n    @Output() evGuardar = new EventEmitter<any>();\n\n    cabecera: any;\n    detalles: Array<any>;\n    lastValid: boolean;\n    datosAlertaImc: any;\n    datosAlertaPresion: any;\n    editando: boolean;\n    hallazgosfisicos: string;\n\n    constructor(private antecService: OdAntecService,\n                private loadingUiService: LoadingUiService,\n                private swalService: SwalService,\n                private citasMedicasServ: CitasMedicasService) {\n    }\n\n    ngOnInit(): void {\n        this.cabecera = {};\n        this.detalles = [];\n        this.lastValid = false;\n        this.hallazgosfisicos = '';\n        this.datosAlertaImc = {};\n        this.datosAlertaPresion = {};\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const pacchange = changes.codPaciente;\n        const codcurrentvalue = pacchange.currentValue;\n        if (codcurrentvalue !== null) {\n            if (pacchange.currentValue > 0) {\n                this.loadLastOrForm();\n            }\n        }\n    }\n\n    loadLastOrForm() {\n        this.lastValid = false;\n        this.loadingUiService.publishBlockMessage();\n        this.antecService.getLastValid(this.codPaciente, this.tipo).subscribe(res => {\n            if (res.status === 200) {\n                this.editando = false;\n                this.lastValid = true;\n                this.cabecera = res.res.cabecera;\n                this.detalles = res.res.detalles;\n            } else {\n                this.editando = true;\n                this.loadForm();\n            }\n        });\n    }\n\n    loadForm() {\n        this.loadingUiService.publishBlockMessage();\n        this.antecService.getForm(this.codPaciente, this.tipo).subscribe(res => {\n            if (res.status === 200) {\n                this.cabecera = res.form.cabecera;\n                this.detalles = res.form.detalles;\n            }\n        });\n    }\n\n    guardar() {\n        const form = {cabecera: this.cabecera, detalles: this.detalles};\n        this.loadingUiService.publishBlockMessage();\n        if (this.cabecera.od_antid > 0) {\n            this.antecService.actualizar(form, this.cabecera.od_antid).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.evGuardar.emit('');\n                }\n            });\n        } else {\n            this.antecService.crear(form).subscribe(res => {\n                if (res.status === 200) {\n                    this.loadLastOrForm();\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.evGuardar.emit('');\n                }\n            });\n        }\n    }\n\n    calcularIMC(it: any) {\n        let valorPeso: any = '0';\n        let valorTalla: any = '0';\n        let filaIMC: any;\n        this.detalles.forEach(e => {\n            const nombredato = e.cmtv_nombre;\n            if (nombredato === 'EXFIS_PESO') {\n                valorPeso = e.valorreg;\n            } else if (nombredato === 'EXFIS_TALLA') {\n                valorTalla = e.valorreg;\n            } else if (nombredato === 'EXFIS_IMC') {\n                filaIMC = e;\n            }\n        });\n        const valorPesoNumber = Number(valorPeso);\n        const valorTallaNumber = Number(valorTalla);\n        let imc = Number('0');\n        if (valorTallaNumber !== 0) {\n            imc = valorPesoNumber / (valorTallaNumber * valorTallaNumber);\n        }\n        const imcRounded = imc.toFixed(2);\n        if (filaIMC) {\n            filaIMC.valorreg = imcRounded;\n            this.citasMedicasServ.getDescValExamFisico(3, imcRounded).subscribe(resimc => {\n                if (resimc.status === 200) {\n                    const result = resimc.result;\n                    const color = resimc.color;\n                    this.datosAlertaImc = {msg: result, color};\n                }\n            });\n        }\n\n        if (it.cmtv_nombre === 'EXFIS_IMC') {\n            this.citasMedicasServ.getDescValExamFisico(3, imcRounded).subscribe(resa => {\n                if (resa.status === 200) {\n                    const result = resa.result;\n                    const color = resa.color;\n                    this.datosAlertaImc = {msg: result, color};\n                }\n            });\n        } else if (it.cmtv_nombre === 'EXFIS_TA') {\n            this.citasMedicasServ.getDescValExamFisico(1, it.valorreg).subscribe(resb => {\n                if (resb.status === 200) {\n                    const result = resb.result;\n                    const color = resb.color;\n                    this.datosAlertaPresion = {msg: result, color};\n                }\n            });\n        }\n    }\n}\n","<div *ngIf=\"!showFichaClinica\">\n    <h4 class=\"quitaPaddingMargin m-1\">\n        <span class=\"fa fa-tooth\"></span> Historias Clínicas\n    </h4>\n    <ul class=\"nav nav-tabs\" style=\"margin-bottom: 10px\">\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':1===selectedSupTab}\" (click)=\"selectSupTab(1, $event)\">Registrar\n                Historia</a>\n        </li>\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':2===selectedSupTab}\" (click)=\"selectSupTab(2, $event)\">Atenciones\n                realizadas</a>\n        </li>\n        <li class=\"nav-item\">\n            <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':3===selectedSupTab}\" (click)=\"selectSupTab(3, $event)\">Citas\n                planificadas</a>\n        </li>\n    </ul>\n    <div *ngIf=\"selectedSupTab===1\">\n        <app-listadorefs (evCrearPaciente)=\"onCreaPaciente($event)\"\n                         (evSelPaciente)=\"onSelPaciente($event)\"></app-listadorefs>\n\n    </div>\n    <div *ngIf=\"selectedSupTab===2\">\n        <app-citashechas [tipocita]=\"2\" (showHistoria)=\"doShowHistoria($event)\"></app-citashechas>\n    </div>\n\n    <div *ngIf=\"selectedSupTab===3\">\n        <div *ngIf=\"!isShowCalendar\">\n            <app-citasplaned [tipocita]=\"2\"\n                             (registraAtencionEv)=\"onRegistraAtencionEv($event)\"\n                             (gotoCalendarEv)=\"doGotoCalendar($event)\"></app-citasplaned>\n        </div>\n        <div *ngIf=\"isShowCalendar\">\n            <app-mvcalendar [tipoCita]=\"2\" [showListado]=\"true\"\n                            (evListado)=\"showListado($event)\"></app-mvcalendar>\n        </div>\n    </div>\n</div>\n<div *ngIf=\"showFichaClinica\">\n    <div *ngIf=\"datosPacienteFull.per_id>0\">\n        <app-resumenpac [paciente]=\"datosPacienteFull\" (evCerrarResumen)=\"limpiar()\"\n                        [selectedMasterTab]=\"selectedMasterTab\"\n                        (evSelectMasterTab)=\"onSelectMasterTab($event)\"></app-resumenpac>\n    </div>\n\n    <div *ngIf=\"selectedMasterTab===1\" class=\"mt-3\">\n        <p-tabView [(activeIndex)]=\"selectedTab\">\n            <p-tabPanel header=\"Datos del Paciente\">\n                <app-datosref [codPaciente]=\"pacienteSelected.per_id\" (pacienteLoaded)=\"onPacienteLoaded($event)\"\n                              (pacienteSaved)=\"onPacienteSaved($event)\"\n                              (creacionCancelada)=\"limpiar()\"></app-datosref>\n            </p-tabPanel>\n            <p-tabPanel header=\"Atenciones\">\n                <app-odatenciones [codPaciente]=\"pacienteSelected.per_id\"></app-odatenciones>\n            </p-tabPanel>\n            <p-tabPanel header=\"Antecedentes\">\n                <app-antcodonto [codPaciente]=\"pacienteSelected.per_id\" (evGuardar)=\"onAntePerSave($event)\"\n                                [tipo]=\"1\"></app-antcodonto>\n            </p-tabPanel>\n            <p-tabPanel header=\"Examen Físico\">\n                <app-antcodonto [codPaciente]=\"pacienteSelected.per_id\" (evGuardar)=\"onExamFisSave($event)\"\n                                [tipo]=\"2\"></app-antcodonto>\n            </p-tabPanel>\n            <p-tabPanel header=\"Odontograma\">\n                <div class=\"d-flex justify-content-between mb-2\" *ngIf=\"pacienteSelected.per_id>0\">\n                    <div class=\"btn-group btn-group-sm\" role=\"group\">\n                        <button type=\"button\" class=\"btn \" (click)=\"setTipoOdontograma(1)\"\n                                [ngClass]=\"{'btn-outline-primary':tipoOdontogramaSel===1, 'btn-outline-secondary':tipoOdontogramaSel!==1 }\">\n                            Permanente\n                        </button>\n                        <button type=\"button\" class=\"btn \" (click)=\"setTipoOdontograma(2)\"\n                                [ngClass]=\"{'btn-outline-primary':tipoOdontogramaSel===2, 'btn-outline-secondary':tipoOdontogramaSel!==2 }\">\n                            Temporal\n                        </button>\n                    </div>\n                </div>\n                <div *ngIf=\"tipoOdontogramaSel===1\">\n                    <app-odontograma [tipodontograma]=\"1\"\n                                     [codpaciente]=\"pacienteSelected.per_id\"></app-odontograma>\n                </div>\n                <div *ngIf=\"tipoOdontogramaSel===2\">\n                    <app-odontograma [tipodontograma]=\"2\"\n                                     [codpaciente]=\"pacienteSelected.per_id\"></app-odontograma>\n                </div>\n            </p-tabPanel>\n            <p-tabPanel header=\"Recetas\">\n                <app-recetas [codPaciente]=\"pacienteSelected.per_id\"></app-recetas>\n            </p-tabPanel>\n            <p-tabPanel header=\"Documentos Clínicos\">\n                <app-rxdocs [codPaciente]=\"pacienteSelected.per_id\" [tipo]=\"2\"></app-rxdocs>\n            </p-tabPanel>\n        </p-tabView>\n    </div>\n\n    <div *ngIf=\"selectedMasterTab===2\">\n        <app-plantratamiento [codpaciente]=\"pacienteSelected.per_id\"></app-plantratamiento>\n    </div>\n\n    <div *ngIf=\"selectedMasterTab===3\">\n        <app-factpagos [codpaciente]=\"pacienteSelected.per_id\" [clase]=\"1\"></app-factpagos>\n    </div>\n\n    <div *ngIf=\"selectedMasterTab===4\">\n        <div class=\"mt-2 pb-2\">\n            <app-mvcalendar [tipoCita]=\"2\" [showCancelar]=\"false\" (evCancelar)=\"onCancelarAgenda($event)\"\n                            (evCreated)=\"onEventoCreated($event)\"></app-mvcalendar>\n        </div>\n    </div>\n    <div *ngIf=\"selectedMasterTab===5\">\n        <div class=\"mt-2 pb-2\">\n            <app-credreflist [codref]=\"pacienteSelected.per_id\" [clase]=\"1\"></app-credreflist>\n        </div>\n    </div>\n\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport {PersonaService} from '../../../services/persona.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {Router} from '@angular/router';\n\n@Component({\n    selector: 'app-citasodonto',\n    templateUrl: './citasodonto.component.html'\n})\nexport class CitasodontoComponent implements OnInit {\n    selectedMasterTab: number;\n    selectedSupTab: number;\n    selectedTab: number;\n    showFichaClinica: boolean;\n    pacienteSelected: any;\n    datosIncompletos: boolean;\n    datosPacienteFull: any;\n    tipoOdontogramaSel: number;\n    isShowCalendar = false;\n\n    constructor(private personaService: PersonaService,\n                private router: Router,\n                private loadUiService: LoadingUiService) {\n    }\n\n    ngOnInit(): void {\n        this.clearAll();\n    }\n\n    selectSupTab(tab: number, event: Event) {\n        this.selectedSupTab = tab;\n        event.preventDefault();\n    }\n\n    onSelectMasterTab($event) {\n        this.selectedMasterTab = $event;\n    }\n\n    onCreaPaciente($event: any) {\n        this.pacienteSelected = {per_id: 0};\n        this.showFichaClinica = true;\n    }\n\n    onSelPaciente($event: any) {\n        this.pacienteSelected = $event;\n        this.showFichaClinica = true;\n    }\n\n    clearAll() {\n        this.selectedMasterTab = 1;\n        this.selectedSupTab = 1;\n        this.selectedTab = 0;\n        this.showFichaClinica = false;\n        this.pacienteSelected = null;\n        this.datosIncompletos = false;\n        this.datosPacienteFull = {};\n        this.tipoOdontogramaSel = 1;\n    }\n\n    realoadDatosPaciente() {\n        this.loadUiService.publishBlockMessage();\n        this.personaService.buscarPorCodfull(this.pacienteSelected.per_id).subscribe(res => {\n            if (res.status === 200) {\n                this.datosPacienteFull = res.persona;\n                this.pacienteSelected = res.persona;\n            }\n        });\n    }\n\n    limpiar() {\n        this.clearAll();\n    }\n\n    onPacienteLoaded($event: any) {\n        this.datosPacienteFull = $event;\n        this.pacienteSelected = $event;\n    }\n\n    onPacienteSaved($event: any) {\n        if (this.pacienteSelected.per_id === 0) {\n            this.pacienteSelected.per_id = $event;\n        }\n        this.realoadDatosPaciente();\n    }\n\n    onAntePerSave($event: any) {\n    }\n\n    onExamFisSave($event: any) {\n    }\n\n    setTipoOdontograma(tipo: number) {\n        this.tipoOdontogramaSel = tipo;\n    }\n\n    auxShowFichaClinica(perid: number) {\n        this.loadUiService.publishBlockMessage();\n        this.personaService.buscarPorCodfull(perid).subscribe(res => {\n            if (res.status === 200) {\n                this.pacienteSelected = res.persona;\n                this.showFichaClinica = true;\n            }\n        });\n    }\n\n    onRegistraAtencionEv($event: any) {\n        this.auxShowFichaClinica($event.pac_id);\n    }\n\n    onCancelarAgenda($event: any) {\n        this.selectedMasterTab = 1;\n    }\n\n    onEventoCreated($event: any) {\n        this.selectedMasterTab = 1;\n    }\n\n    doGotoCalendar($event: any) {\n        this.isShowCalendar = true;\n    }\n\n    showListado($event: any) {\n        this.isShowCalendar = false;\n    }\n\n    doShowHistoria($event) {\n        this.auxShowFichaClinica($event.per_id);\n    }\n}\n","<div *ngIf=\"!isShowFormCreaFact\">\n    <div class=\"card rounded mt-2\">\n        <div class=\"m-1 d-flex justify-content-between\">\n            <span class=\"fw-light\">Facturas de {{clase === 1 ? 'venta' : 'compra'}}</span>\n            <button class=\"ms-md-3 btn btn-outline-primary btn-sm\" (click)=\"showFormCreaFact(7, $event)\"\n                    *ngIf=\"clase===2\">\n                <i class=\"fa fa-plus-circle\"></i> Crear\n            </button>\n            <div class=\"ms-md-3 btn-group btn-group-sm dropend\" *ngIf=\"clase===1\">\n                <button type=\"button\" class=\"btn btn-outline-primary dropdown-toggle\"\n                        data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    <i class=\"fa fa-plus-circle\"></i> Crear\n                </button>\n                <div class=\"dropdown-menu\" style=\"\">\n                    <a href=\"#\" class=\"dropdown-item\" (click)=\"showFormCreaFact(1, $event)\"> Factura </a>\n                    <a href=\"#\" class=\"dropdown-item\" (click)=\"showFormCreaFact(2, $event)\"> Nota de venta </a>\n                </div>\n            </div>\n        </div>\n        <!--<div class=\"card-body\">-->\n        <app-loading *ngIf=\"loadingFacturas\"></app-loading>\n        <div *ngIf=\"!loadingFacturas\">\n            <div class=\"table-responsive\" *ngIf=\"facturasList.length>0\">\n                <table class=\"table table-bordered table-hover table-sm\">\n                    <thead>\n                    <tr>\n                        <th scope=\"col\" style=\"width: 5%\"><span class=\"fontsizesm\">#</span></th>\n                        <th scope=\"col\">\n                            <span class=\"fontsizesm\">\n                                Fecha </span></th>\n                        <th scope=\"col\">\n                            <span class=\"fontsizesm\">\n                                Nro </span></th>\n                        <th scope=\"col\">\n                            <span class=\"fontsizesm\">\n                                Efectivo </span></th>\n                        <th scope=\"col\">\n                            <span class=\"fontsizesm\">\n                                Crédito </span></th>\n                        <th scope=\"col\">\n                            <span class=\"fontsizesm\">\n                                Total </span></th>\n                        <th scope=\"col\">\n                            <span class=\"fontsizesm\">\n                                Observación </span></th>\n                        <th scope=\"col\"></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr *ngFor=\"let fila of facturasList\" class=\"hand\" (click)=\"showDetallesFactura(fila)\">\n                        <th scope=\"row\" style=\"width: 5%\">\n                            <span class=\"fontsizesm\">\n                            {{facturasList.indexOf(fila) + 1}}\n                            </span>\n                        </th>\n                        <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.trn_fecreg}} </span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.trn_compro}} </span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.efectivo}} </span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.credito}} </span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizesm\">\n                                {{fila.total}} </span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizesm\">{{fila.trn_observ}}</span>\n                        </td>\n                        <td>\n                            <button class=\"btn btn-outline-secondary btn-sm\">\n                                <i class=\"fa fa-eye\"></i>\n                            </button>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td colspan=\"3\">\n                            <div class=\"d-flex flex-row-reverse\">\n                                <span class=\"fontsizenr fw-bold\">\n                                Total: </span>\n                            </div>\n\n                        </td>\n                        <td>\n                            <span class=\"fontsizenr fw-bold\">\n                                {{totales.efectivo}} </span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizenr fw-bold\">\n                                {{totales.credito}} </span>\n                        </td>\n                        <td>\n                            <span class=\"fontsizenr fw-bold\">\n                                {{totales.total}} </span>\n                        </td>\n                        <td>\n\n                        </td>\n                        <td>\n\n                        </td>\n                        <td>\n\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"card-body\" *ngIf=\"facturasList.length===0\">\n                <div class=\"p-5 d-flex justify-content-center\">\n                    <h2 class=\"text-muted\"> No registra facturas </h2>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div *ngIf=\"isShowFormCreaFact\" class=\"mt-2\">\n    <app-facturasform [tracodigo]=\"tracodigofact\"\n                      [form]=\"formfact\" [showbuttons]=\"true\" [showreferente]=\"false\"\n                      [showtitulo]=\"true\" [showtotales]=\"true\" (evTotalesUpd)=\"onTotalUpdated($event)\"\n                      (evCancela)=\"oncancelarCreaFact($event)\"\n                      (evFormLoaded)=\"onformloaded($event)\"\n                      (evGuardarOk)=\"onguardarFact($event)\">\n    </app-facturasform>\n</div>\n\n<div *ngIf=\"isShowDetallesFactura\">\n    <p-dialog header=\"Detalles del documento\" [modal]=\"true\" [style]=\"{width: '95vw'}\" [baseZIndex]=\"10000\"\n              [(visible)]=\"isShowDetallesFactura\">\n        <app-facturaview [trncod]=\"codFacturaSel\" (evBtnClosed)=\"closeModalFact()\"></app-facturaview>\n    </p-dialog>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {AsientoService} from '../../../../services/asiento.service';\nimport {PersonaService} from '../../../../services/persona.service';\nimport {DomService} from '../../../../services/dom.service';\nimport {SwalService} from '../../../../services/swal.service';\nimport {FacturasmsgService} from '../../../../services/facturasmsg.service';\n\n@Component({\n    selector: 'app-factpagos',\n    templateUrl: './factpagos.component.html'\n})\nexport class FactpagosComponent implements OnInit, OnChanges {\n    facturasList: Array<any>;\n    isShowFormCreaFact: boolean;\n    formfact: any;\n    formpersona: any;\n    currentdate: any;\n    isShowDetallesFactura: boolean;\n    codFacturaSel: number;\n    loadingFacturas: boolean;\n    tracodigofact = 1;\n    totales: any = {};\n\n    @Input() codpaciente: number;\n    @Input() clase: number;\n\n    @Output() evDeudasChange = new EventEmitter<any>();\n\n    constructor(private asientoServ: AsientoService,\n                private personaService: PersonaService,\n                private domService: DomService,\n                private swalService: SwalService,\n                private facturaMsgService: FacturasmsgService) {\n    }\n\n    ngOnInit(): void {\n        this.facturasList = [];\n        this.isShowFormCreaFact = false;\n        this.formpersona = {};\n        this.currentdate = new Date();\n        this.isShowDetallesFactura = false;\n        this.codFacturaSel = null;\n        this.loadingFacturas = true;\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const chng = changes.codpaciente;\n        if (chng.currentValue) {\n            this.loadFacturasCreditos();\n            this.loadDatosPersona();\n        }\n    }\n\n    loadDatosPersona() {\n        this.personaService.buscarPorCodfull(this.codpaciente).subscribe(resper => {\n            if (resper.status === 200) {\n                this.formpersona = resper.persona;\n            }\n        });\n    }\n\n    loadFacturas() {\n        this.loadingFacturas = true;\n        this.asientoServ.auxListarFacturas(this.codpaciente, this.clase).subscribe(res => {\n            this.loadingFacturas = false;\n            if (res.status === 200) {\n                this.facturasList = res.docs;\n                this.totales = res.totales;\n            }\n        });\n    }\n\n    loadFacturasCreditos() {\n        this.loadFacturas();\n    }\n\n    showFormCreaFact(tracod, $event: MouseEvent) {\n        $event.preventDefault();\n        this.tracodigofact = tracod;\n        this.formfact = {};\n        this.isShowFormCreaFact = true;\n    }\n\n    showDetallesFactura(fila: any) {\n        this.isShowDetallesFactura = true;\n        this.codFacturaSel = fila.trn_codigo;\n    }\n\n    oncancelarCreaFact($event: any) {\n        this.isShowFormCreaFact = false;\n    }\n\n    onguardarFact($event: any) {\n        this.isShowFormCreaFact = false;\n        this.loadFacturas();\n        this.evDeudasChange.emit($event);\n    }\n\n    onformloaded($event: any) {\n        this.facturaMsgService.publishMessage({tipo: 1, form_persona: this.formpersona});\n    }\n\n    closeModalFact() {\n        this.isShowDetallesFactura = false;\n    }\n\n    onTotalUpdated($event: any) {\n\n    }\n}\n","<div>\n    <div *ngIf=\"!showForm\">\n        <div class=\"card shadow-sm rounded mt-2\">\n            <div class=\"card-header d-flex justify-content-between\">\n            <span class=\"fw-bold\">Planes de tratamiento <span class=\"badge bg-info\"\n                                                              *ngIf=\"listaPlanes.length>0\">{{listaPlanes.length}}</span></span>\n                <button class=\"btn btn-outline-primary btn-sm\" (click)=\"initFormCrea()\">\n                    <i class=\"fa fa-plus\"></i> Crear\n                </button>\n            </div>\n\n            <div *ngIf=\"isLoadingPlanes\">\n                <app-loading></app-loading>\n            </div>\n            <div class=\"table-responsive\" *ngIf=\"!isLoadingPlanes && listaPlanes.length>0\">\n                <table class=\"table table-bordered\">\n                    <thead>\n                    <tr>\n                        <th scope=\"col\"><span class=\"fontsizesm\">#</span></th>\n                        <th scope=\"col\"><span class=\"fontsizesm\">Fecha Crea</span></th>\n                        <th scope=\"col\"><span class=\"fontsizesm\">Nombre Plan</span></th>\n                        <th scope=\"col\"><span class=\"fontsizesm\">Estado</span></th>\n                        <th scope=\"col\"></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <tr *ngFor=\"let fila of listaPlanes\" class=\"hand\" (click)=\"showDetallesPlan(fila)\">\n                        <th scope=\"row\" style=\"width: 5%\">{{listaPlanes.indexOf(fila) + 1}}</th>\n                        <td>\n                            {{fila.pnt_fechacrea}}\n                        </td>\n                        <td>\n                            {{fila.pnt_nombre}}\n                        </td>\n                        <td>\n                            {{fila.estadodesc}}\n                        </td>\n                        <td>\n                            <button class=\"btn btn-outline-secondary btn-sm\">\n                                <i class=\"fa fa-eye\"></i>\n                            </button>\n                        </td>\n                    </tr>\n                    </tbody>\n                </table>\n            </div>\n            <div class=\"card-body\" *ngIf=\"listaPlanes.length==0\">\n                <div class=\"p-5 d-flex justify-content-center\">\n                    <h2 class=\"text-muted\"> No registra planes de tratamiento </h2>\n                </div>\n            </div>\n        </div>\n\n        <div *ngIf=\"datosDocPlan.plan\" class=\"p-2 mt-3 mb-3 shadow border\">\n            <div *ngIf=\"datosDocPlan.plan\">\n                <div class=\"row\">\n                    <div class=\"col-md-8\">\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-lighter\">Nombre del plan:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold\">{{datosDocPlan.plan.pnt_nombre}}</span>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-lighter\">Médico:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold\">{{datosDocPlan.plan.medico}}</span>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-lighter\">Nro Factura:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-light\">{{datosDocPlan.doc.tasiento.trn_compro}}</span>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-lighter\">Fecha factura:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold\">{{datosDocPlan.doc.tasiento.trn_fecha}}</span>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"fw-lighter\">Estado:</span>\n                            </div>\n                            <div class=\"col-md\">\n                                <span class=\"fw-bold\">{{plansel.estadodesc}}</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-4 d-flex flex-column align-content-between\">\n                        <div *ngIf=\"datosDocPlan.plan.pnt_obs\">\n                            <div>\n                                <span class=\"fw-lighter\">Observación:</span>\n                            </div>\n                            <div>\n                                <span class=\"fw-light\">{{datosDocPlan.plan.pnt_obs}}</span>\n                            </div>\n                        </div>\n                        <div class=\"mt-3\">\n                            <div class=\"btn-group btn-group-sm\" role=\"group\">\n                                <button type=\"button\" class=\"btn btn-outline-primary\"\n                                        (click)=\"cerrarVerDetallesFact()\" title=\"Cerrar detalle del plan\">\n                                    <i class=\"fa fa-times\"></i>\n                                    Cerrar\n                                </button>\n                                <button type=\"button\" class=\"btn btn-outline-primary\"\n                                        (click)=\"imprimirPlan(datosDocPlan.plan.pnt_id)\"\n                                        title=\"Imprimir el plan\">\n                                    <i class=\"fa fa-print\"></i>\n                                    Imprimir\n                                </button>\n                                <button type=\"button\" *ngIf=\"datosDocPlan.plan.pnt_estado === 1\"\n                                        class=\"btn btn-outline-primary\" (click)=\"confirmarPlan()\"\n                                        title=\"Confirmar este plan de tratamiento\">\n                                    <i class=\"fa fa-check\"></i>\n                                    Confirmar\n                                </button>\n                                <button type=\"button\" *ngIf=\"datosDocPlan.plan.pnt_estado === 2\"\n                                        class=\"btn btn-outline-primary\" (click)=\"finalizarPlan()\"\n                                        title=\"Marcar como finalizado este plan de tratamiento\">\n                                    <i class=\"fa fa-check\"></i>\n                                    Finalizar\n                                </button>\n                                <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"anularPlan()\"\n                                        title=\"Anular este plan de tratamiento\"\n                                        *ngIf=\"datosDocPlan.plan.pnt_estado === 1\">\n                                    <i class=\"fa fa-trash\"></i>\n                                    Anular\n                                </button>\n                                <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"editarPlan()\"\n                                        title=\"Modificar este plan de tratamiento\"\n                                        *ngIf=\"datosDocPlan.plan.pnt_estado <= 2\">\n                                    <i class=\"fa fa-edit\"></i>\n                                    Editar\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"table-responsive mt-1\">\n                    <table class=\"table table-bordered table-sm table-striped\">\n                        <thead>\n                        <tr>\n                            <th scope=\"col\"><span class=\"fontsizesm\">#</span></th>\n                            <th scope=\"col\"><span class=\"fontsizesm\">Servicio</span></th>\n                            <th scope=\"col\"><span class=\"fontsizesm\">Cant.</span></th>\n                            <th scope=\"col\"><span class=\"fontsizesm\">Precio U.</span></th>\n                            <th scope=\"col\"><span class=\"fontsizesm\">Descuento</span></th>\n                            <th scope=\"col\"><span class=\"fontsizesm\">Iva</span></th>\n                            <th scope=\"col\">\n                                <div class=\"d-flex flex-row-reverse\">\n                                    <span class=\"fontsizesm\">Precio T.</span>\n                                </div>\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let fila of datosDocPlan.doc.detalles\" class=\"hand\">\n                            <td>\n                                {{datosDocPlan.doc.detalles.indexOf(fila) + 1}}\n                            </td>\n                            <td>\n                                {{fila.ic_nombre}}\n                            </td>\n                            <td>\n                                {{fila.dt_cant}}\n                            </td>\n                            <td>\n                                {{fila.dt_precio}}\n                            </td>\n                            <td>\n                                {{fila.dt_decto}}\n                            </td>\n                            <td>\n                                {{fila.dai_impg > 0 ? 'S' : 'N'}}\n                            </td>\n                            <td>\n                                <div class=\"d-flex flex-row-reverse\">\n                                    <span>{{fila.dt_valor}}</span>\n                                </div>\n                            </td>\n                        </tr>\n                        <tr>\n                            <td colspan=\"4\">\n                                <div>\n                                    <div class=\"d-flex flex-row justify-content-end\">\n                                        <span class=\"text-muted\">FORMAS DE PAGO:</span>\n                                    </div>\n                                    <div class=\"d-flex flex-row justify-content-end\"\n                                         *ngFor=\"let pago of datosDocPlan.doc.pagos\">\n                                        <span class=\"fw-bold\">{{pago.ic_nombre}} $:</span>\n                                        <span class=\"ms-2\">${{pago.dt_valor|number:'.2'}}</span>\n                                    </div>\n                                </div>\n                            </td>\n                            <td colspan=\"2\">\n                                <div class=\"d-flex flex-column align-items-end\">\n                                    <span class=\"fw-light\">Subtotal $:</span>\n                                    <span class=\"fw-light\">(-)Descuento $:</span>\n                                    <span class=\"fw-light\">(+)Iva {{datosDocPlan.doc.tasiento.trn_impref * 100}}\n                                        % de ${{datosDocPlan.doc.totales.subtotal12}}:</span>\n                                    <span\n                                            class=\"fw-bolder\">Total $:</span>\n                                </div>\n                            </td>\n                            <td>\n                                <div class=\"d-flex flex-column\">\n                                    <div class=\"d-flex flex-row-reverse\">\n                                        <span class=\"fw-light\">\n                                        {{datosDocPlan.doc.totales.subtotal|number:'.2'}}\n                                        </span>\n                                    </div>\n                                    <div class=\"d-flex flex-row-reverse\">\n                                    <span class=\"fw-light\">\n                                        {{datosDocPlan.doc.totales.descuentos|number:'.2'}}\n                                    </span>\n                                    </div>\n                                    <div class=\"d-flex flex-row-reverse\">\n                                    <span class=\"fw-light\">\n                                        {{datosDocPlan.doc.totales.iva|number:'.2'}}\n                                    </span>\n                                    </div>\n                                    <div class=\"d-flex flex-row-reverse\">\n                                    <span class=\"fw-bold\">\n                                        {{datosDocPlan.doc.totales.total|number:'.2'}}\n                                    </span>\n                                    </div>\n                                </div>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div *ngIf=\"showForm\" class=\"shadow border mt-1 p-3\">\n        <p class=\"alert\" [ngClass]=\"formcab.trn_codigo === 0 ? 'alert-info':'alert-warning'\">\n            {{formcab.trn_codigo === 0 ? 'Nuevo plan de tratamiento, ingrese la información que se solicita:' : 'Editando plan de tratamiento'}}\n        </p>\n        <div class=\"mt-4\">\n            <div class=\"row\">\n                <div class=\"col-md-6\">\n                    <div class=\"row my-2\">\n                        <div class=\"col-md-3\">\n                            <span class=\"text-rojo\">*</span> <span>Nro:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <span class=\"fw-bold\">{{formcab.secuencia}}</span>\n                        </div>\n                    </div>\n\n                    <div class=\"row\">\n                        <div class=\"col-md-3\">\n                            <span class=\"text-rojo\">*</span><span>Nombre:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <input type=\"text\" class=\"form-control\" id=\"pnt_nombre\"\n                                   [(ngModel)]=\"formplan.pnt_nombre\" placeholder=\"Nombre para el plan de tratamiento\"\n                                   maxlength=\"40\">\n                        </div>\n                    </div>\n                    <div class=\"row\">\n                        <div class=\"col-md-3\">\n                            <span class=\"text-rojo\">*</span><span>Responsable:</span>\n                        </div>\n                        <div class=\"col-md\">\n                            <div class=\"p-fluid\">\n                                <p-dropdown [options]=\"medicos\" [disabled]=\"formcab.trn_codigo>0\"\n                                            [showClear]=\"true\"\n                                            placeholder=\"Seleccione el/la profesional a cargo\"\n                                            filter=\"true\"\n                                            (onChange)=\"onMedicoChange($event)\"\n                                            optionLabel=\"nomapel\" optionValue=\"per_id\"\n                                            [(ngModel)]=\"formplan.med_id\"></p-dropdown>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col-md-6 d-flex flex-column justify-content-between\">\n                    <div class=\"d-flex flex-column\">\n                        <span>Observación:</span>\n                        <textarea class=\"form-control\" [(ngModel)]=\"formplan.pnt_obs\" rows=\"3\" autocomplete=\"off\"\n                                  placeholder=\"Ingrese una observación para este nuevo plan de tratamiento\"\n                                  id=\"pnt_obs\">\n                </textarea>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"row mt-4\">\n                <div class=\"col-md-4 quitaPaddingMargin\">\n                    <div class=\"card\">\n                        <div class=\"card-header quitaPaddingMargin p-1\">\n                            <input type=\"text\" class=\"form-control form-control-sm\" [(ngModel)]=\"filtroserv\"\n                                   (keyup)=\"doFilter()\" placeholder=\"Buscar procedimiento a realizar:\">\n                        </div>\n\n                        <ul class=\"list-group list-group-flush scrol-list-dental\">\n                            <li class=\"noselect list-group-item hand list-group-item-action\"\n                                *ngFor=\"let item of filteredServ\" (dblclick)=\"selectServicio(item)\">\n                                <div class=\"d-flex flex-row\">\n                                    <div style=\"width: 90%;\">\n                                        <span style=\"font-size: small\">{{item.ic_nombre}}</span>\n                                        <span style=\"font-size: small\"\n                                              class=\"text-muted font-italic\"> ${{item.icdp_precioventa}} </span>\n                                    </div>\n                                    <div style=\"width: 10%;\">\n                                        <button class=\"btn btn-sm btn-outline-primary\" (click)=\"selectServicio(item)\">\n                                            <i class=\"fa fa-arrow-right\"> </i>\n                                        </button>\n                                    </div>\n                                </div>\n\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n                <div class=\"col-md quitaPaddingMargin ms-md-2\">\n                    <div class=\"table-responsive shadow-sm\">\n                        <table class=\"table table-bordered table-sm\">\n                            <thead>\n                            <tr>\n                                <th scope=\"col\" style=\"width: 3%\">\n                                    <span class=\"fw-normal fontsizesm\">#</span>\n                                </th>\n                                <th scope=\"col\" style=\"width: 31%\">\n                            <span class=\"fw-bold fontsizesm\">\n                                Servicio </span>\n                                </th>\n                                <th scope=\"col\" style=\"width: 12%\">\n                            <span class=\"fw-bold fontsizesm\">\n                                Cant. </span></th>\n                                <th scope=\"col\" style=\"width: 10%\">\n                            <span class=\"fw-bold fontsizesm\">\n                                P. Uni. </span></th>\n                                <th scope=\"col\" style=\"width: 10%\">\n                            <span class=\"fw-bold fontsizesm\">\n                                Subt.</span></th>\n                                <th scope=\"col\" style=\"width: 9%\">\n                            <span class=\"fw-bold fontsizesm\">\n                                Desc </span></th>\n                                <th scope=\"col\" style=\"width: 10%\">\n                            <span class=\"fw-bold fontsizesm\">\n                                Iva </span></th>\n                                <th scope=\"col\" style=\"width: 10%\">\n                            <span class=\"fw-bold fontsizesm\">\n                                Total </span></th>\n                                <th scope=\"col\" style=\"width: 5%\">\n                                </th>\n                            </tr>\n                            </thead>\n                            <tbody>\n                            <tr *ngFor=\"let fila of detalles\">\n                                <th scope=\"row\">\n                                    <span class=\"fw-normal fontsizesm\">{{detalles.indexOf(fila) + 1}}</span>\n                                </th>\n                                <td>\n                                    <div class=\"d-flex flex-column\">\n                                        <span class=\"fw-light fontsizesm\">{{fila.ic_code}}</span>\n                                        <span class=\"fw-bold fontsizesm\">{{fila.ic_nombre}}</span>\n                                    </div>\n                                </td>\n                                <td>\n                                    <div class=\"p-fluid\">\n                                        <p-inputNumber [(ngModel)]=\"fila.dt_cant\" [min]=\"1\" [max]=\"1000\"\n                                                       styleClass=\"form-control-sm\"\n                                                       [showButtons]=\"true\"\n                                                       (ngModelChange)=\"recalcTotalFila(fila)\"></p-inputNumber>\n                                    </div>\n                                </td>\n                                <td>\n                                    <input type=\"text\" class=\"form-control form-control-sm\"\n                                           (keyup)=\"onFilaPrecioChange(fila)\" (focusin)=\"$event.target.select()\"\n                                           [(ngModel)]=\"fila.dt_precioiva\"></td>\n                                <td>\n                                    <input type=\"text\" class=\"form-control form-control-sm\" [(ngModel)]=\"fila.subtotal\"\n                                           disabled>\n                                </td>\n                                <td>\n                                    <input type=\"text\" class=\"form-control form-control-sm\"\n                                           (keyup)=\"onFilaDescChange(fila)\" [ngClass]=\"{'is-invalid':fila.dt_dectoerr}\"\n                                           (focusin)=\"$event.target.select()\"\n                                           [(ngModel)]=\"fila.dt_dectoin\"></td>\n                                <td>\n                                    <select class=\"form-control form-control-sm\" [(ngModel)]=\"fila.icdp_grabaiva\"\n                                            (ngModelChange)=\"onFilaIvaChange(fila)\">\n                                        <option *ngFor=\"let iv of ivas\" [ngValue]=\"iv.value\">{{iv.label}}</option>\n                                    </select>\n                                <td>\n                                    <span class=\"fontsizesm fw-bold\">${{fila.total | number: '.2'}}</span>\n                                </td>\n                                <td>\n                                    <button class=\"btn btn-sm btn-outline-secondary\" (click)=\"quitarItem(fila)\"\n                                            title=\"Quitar\">\n                                        <i class=\"fa fa-trash\"></i></button>\n                                </td>\n                            </tr>\n                            </tbody>\n                        </table>\n                    </div>\n\n                    <div class=\"border shadow-sm p-2 mt-2\" *ngIf=\"detalles.length>0\">\n                        <div class=\"row\">\n                            <div class=\"col-md-7\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-5\"><span\n                                            class=\"fw-bold fontsizenr\">Subtotal $:</span>\n                                    </div>\n                                    <div class=\"col-md\">\n                                        <input type=\"text\" class=\"form-control form-control-sm\" disabled\n                                               [(ngModel)]=\"totales.subtotal\">\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-5\"><span\n                                            class=\"fw-bold fontsizenr\">(-)Descuento $:</span>\n                                    </div>\n                                    <div class=\"col-md\">\n                                        <input type=\"text\" class=\"form-control form-control-sm\" disabled\n                                               [(ngModel)]=\"totales.descuentos\">\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-5\">\n                                        <span class=\"fw-bold fontsizenr\">(+)Iva {{impuestos?.iva * 100}}\n                                            % de ${{totales.subtotal12}}:</span>\n                                    </div>\n                                    <div class=\"col-md\">\n                                        <input type=\"text\" class=\"form-control form-control-sm\" disabled\n                                               [(ngModel)]=\"totales.iva\">\n                                    </div>\n                                </div>\n                                <div class=\"row\">\n                                    <div class=\"col-md-5\"><span\n                                            class=\"fw-bolder fontsizenr\">Total $:</span>\n                                    </div>\n                                    <div class=\"col-md\">\n                                        <input type=\"text\" class=\"form-control form-control-sm\" disabled\n                                               [(ngModel)]=\"totales.total\">\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"col-md-5\">\n                                <div>\n                                    <span class=\"text-muted\">FORMAS DE PAGO:</span>\n                                </div>\n                                <div class=\"row\" *ngFor=\"let pago of formaspago\">\n                                    <div class=\"col-md-5\">\n                                        <span class=\"fw-bold\">{{pago.ic_nombre}} $:</span>\n                                    </div>\n                                    <div class=\"col-md-7\">\n                                        <input type=\"number\" class=\"form-control form-control-sm\"\n                                               (focusin)=\"$event.target.select()\"\n                                               [(ngModel)]=\"pago.dt_valor\" (keyup)=\"calculaPagos(pago)\">\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"mt-2 d-flex justify-content-around\">\n                        <div>\n                            <button class=\"btn btn-outline-primary\" (click)=\"creaPlanTratamiento()\"\n                                    *ngIf=\"detalles.length>0\">\n                                <i class=\"fa fa-save\"></i>\n                                Guardar\n                            </button>\n                            <button class=\"ms-3 btn btn-outline-secondary\" (click)=\"cancelarCreaPlan()\"><i\n                                    class=\"fa fa-times\"></i> Cancelar\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {ArticuloService} from '../../../../services/articulo.service';\nimport {DomService} from '../../../../services/dom.service';\nimport {PlantratamientoService} from '../../../../services/plantratamiento.service';\nimport {SwalService} from '../../../../services/swal.service';\nimport {ArrayutilService} from '../../../../services/arrayutil.service';\nimport {LoadingUiService} from '../../../../services/loading-ui.service';\nimport {NumberService} from '../../../../services/number.service';\n\n@Component({\n    selector: 'app-plantratamiento',\n    templateUrl: './plantratamiento.component.html'\n})\nexport class PlantratamientoComponent implements OnInit, OnChanges {\n    form: any;\n    detalles: Array<any>;\n    totales: any;\n    medicos: Array<any>;\n    formaspago: Array<any>;\n    impuestos: any;\n    ttransacc: any;\n    formcab: any;\n    formplan: any;\n    formdet: any;\n    formpago: any;\n    listaPlanes: Array<any>;\n    datosDocPlan: any;\n    showForm: boolean;\n    allServicios: Array<any>;\n    filteredServ: Array<any>;\n    plansel: any;\n    ivas: Array<any>;\n    filtroserv: any;\n    tracodFact = 1;\n    isLoadingPlanes = false;\n\n    @Input()\n    codpaciente: number;\n\n    constructor(private artService: ArticuloService,\n                private domService: DomService,\n                private loadinUIServ: LoadingUiService,\n                private arrayService: ArrayutilService,\n                private swalService: SwalService,\n                private numberService: NumberService,\n                private planService: PlantratamientoService) {\n    }\n\n    ngOnInit(): void {\n        this.clearAll();\n        this.ivas = this.numberService.getIvasArray();\n        this.artService.buscaAllServDentalles().subscribe(res => {\n            if (res.status === 200) {\n                this.allServicios = res.items;\n                this.filteredServ = res.items;\n            }\n        });\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const chng = changes.codpaciente;\n        if (chng.currentValue) {\n            this.loadPlanes();\n        } else {\n            this.clearAll();\n        }\n    }\n\n    initFormCrea() {\n        this.filtroserv = '';\n        this.filteredServ = this.allServicios;\n        this.showForm = true;\n        this.detalles = [];\n        this.loadForm();\n    }\n\n    loadPlanes() {\n        this.isLoadingPlanes = true;\n        this.planService.listar(this.codpaciente).subscribe(res => {\n            this.isLoadingPlanes = false;\n            if (res.status === 200) {\n                this.listaPlanes = res.items;\n            }\n        });\n    }\n\n    loadForm() {\n        this.loadinUIServ.publishBlockMessage();\n        this.planService.getForm(this.codpaciente, this.tracodFact).subscribe(res => {\n            if (res.status === 200) {\n                this.formcab = res.formcab;\n                this.formplan = res.formplan;\n                this.medicos = res.medicos;\n                this.ttransacc = res.ttransacc;\n                this.formaspago = res.formaspago;\n                this.formdet = res.formdet;\n                this.formpago = res.formpago;\n                this.domService.setFocusTm('pnt_nombre', 100);\n                this.impuestos = res.formcab.impuestos;\n                this.numberService.setIva(this.impuestos.iva);\n            }\n        });\n    }\n\n    clearAll() {\n        this.form = {};\n        this.detalles = [];\n        this.medicos = [];\n        this.ttransacc = {};\n        this.formaspago = [];\n        this.formcab = {};\n        this.formdet = {};\n        this.formplan = {};\n        this.formpago = {};\n        this.showForm = false;\n        this.listaPlanes = [];\n        this.datosDocPlan = {};\n        this.plansel = {};\n\n        this.initTotales();\n    }\n\n    initTotales() {\n        this.totales = {\n            subtotal: 0.0,\n            descuentos: 0.0,\n            subtforiva: 0.0,\n            iva: 0.0,\n            total: 0.0\n        };\n    }\n\n    getNewEmptyRow(art) {\n        const formDetalles = this.domService.clonarObjeto(this.formdet);\n        this.artService.initFormDetalles(formDetalles, art, false);\n        return formDetalles;\n    }\n\n    recalcTotalFila(fila) {\n        this.numberService.recalcTotalFila(fila);\n        this.totalizar();\n    }\n\n    checkPagosPrevios() {\n        const isedit = this.formcab.trn_codigo > 0;\n        if (isedit) {\n            this.numberService.checkPagosPrevios(this.datosDocPlan.doc.pagos, this.totales, this.formaspago);\n        }\n    }\n\n    totalizar() {\n        this.initTotales();\n        this.totales = this.numberService.totalizar(this.detalles);\n        if (this.formaspago && this.formaspago.length > 0) {\n            this.formaspago[0].dt_valor = 0.0;\n        }\n        if (this.formaspago && this.formaspago.length > 1) {\n            this.formaspago[1].dt_valor = this.totales.total;\n        }\n    }\n\n    creaPlanTratamiento() {\n        if (this.formplan.pnt_nombre.trim().length === 0) {\n            this.swalService.fireToastError('Debe ingresar el nombre del plan');\n        } else if (this.detalles.length === 0) {\n            this.swalService.fireToastError('Debe agregar items al plan de tratamiento');\n        } else {\n            const isedit = this.formcab.trn_codigo > 0;\n            const tipo = isedit ? 'actualización' : 'creación';\n            const msg = `¿Confirma la ${tipo} de este plan de tratamiento?`;\n            this.swalService.fireDialog(msg).then(confirm => {\n                if (confirm.value) {\n                    this.formcab.trn_docpen = 'T';\n                    const form = {\n                        formplan: this.formplan,\n                        form_cab: this.formcab,\n                        form_persona: {per_id: this.codpaciente},\n                        detalles: this.detalles,\n                        pagos: this.formaspago,\n                        totales: this.totales\n                    };\n                    this.loadinUIServ.publishBlockMessage();\n                    this.planService.crear(form).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.showForm = false;\n                            this.loadPlanes();\n                            if (isedit) {\n                                this.loadDatosPlan(this.plansel.pnt_id);\n                            }\n                        }\n                    });\n                }\n            });\n        }\n    }\n\n    quitarItem(fila: any) {\n        const msg = '¿Seguro que desea quitar este item?';\n        this.swalService.fireDialog(msg).then(confirm => {\n            if (confirm.value) {\n                this.arrayService.removeElement(this.detalles, fila);\n                this.totalizar();\n            }\n        });\n    }\n\n    onMedicoChange($event: any) {\n\n    }\n\n    selectServicio(item: any) {\n        const prevserv = this.arrayService.getFirstResult(this.detalles, (it) => it.art_codigo === item.ic_id);\n        if (prevserv) {\n            prevserv.dt_cant += 1;\n            this.recalcTotalFila(prevserv);\n        } else {\n            this.detalles.push(this.getNewEmptyRow(item));\n        }\n        this.totalizar();\n    }\n\n    cancelarCreaPlan() {\n        this.showForm = false;\n    }\n\n    loadDatosPlan(pntid) {\n        this.loadinUIServ.publishBlockMessage();\n        this.planService.getDetallesPlan(pntid).subscribe(res => {\n            if (res.status === 200) {\n                this.datosDocPlan.plan = res.plan;\n                this.datosDocPlan.doc = res.doc;\n            }\n        });\n    }\n\n    showDetallesPlan(plan) {\n        this.plansel = plan;\n        this.loadDatosPlan(this.plansel.pnt_id);\n    }\n\n    cerrarVerDetallesFact() {\n        this.plansel = {};\n        this.datosDocPlan = {};\n    }\n\n    calculaPagos(filapago) {\n        try {\n            const dtvalor = filapago.dt_valor;\n            const index = this.formaspago.indexOf(filapago);\n\n            const sobrante = (this.totales.total - dtvalor).toFixed(2);\n            let itpago = this.formaspago[0];\n            if (index === 0) {\n                itpago = this.formaspago[1];\n            }\n            if (itpago) {\n                itpago.dt_valor = sobrante;\n            }\n        } catch (e) {\n            console.error('Error en el calculo del total:', e);\n        }\n    }\n\n    imprimirPlan(planid: any) {\n        this.planService.imprimirPlan(planid);\n    }\n\n    confirmarPlan() {\n        const msg = '¿Seguro que desea marcar como confirmado este plan?';\n        this.swalService.fireDialog(msg).then(confirm => {\n                if (confirm.value) {\n                    this.planService.cambiarEstado(this.plansel.pnt_id, 2).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadPlanes();\n                            this.cerrarVerDetallesFact();\n                        }\n                    });\n                }\n            }\n        );\n    }\n\n    anularPlan() {\n        const msg = '¿Seguro que desea eliminar este plan de tratamiento?';\n        this.swalService.fireDialog(msg).then(confirm => {\n            if (confirm.value) {\n                this.planService.cambiarEstado(this.plansel.pnt_id, 5).subscribe(res => {\n                    if (res.status === 200) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        this.loadPlanes();\n                        this.cerrarVerDetallesFact();\n                    }\n                });\n            }\n        });\n    }\n\n    editarPlan() {\n        this.loadinUIServ.publishBlockMessage();\n        this.planService.getForm(this.codpaciente, this.tracodFact).subscribe(res => {\n            this.showForm = true;\n            this.detalles = this.datosDocPlan.doc.detalles;\n            if (res.status === 200) {\n                this.formcab = res.formcab;\n                this.formplan = res.formplan;\n                this.medicos = res.medicos;\n                this.ttransacc = res.ttransacc;\n                this.formaspago = res.formaspago;\n                this.formdet = res.formdet;\n                this.formpago = res.formpago;\n                this.domService.setFocusTm('pnt_nombre', 100);\n                this.impuestos = res.formcab.impuestos;\n                this.numberService.setIva(this.impuestos.iva);\n            }\n            this.detalles.forEach(det => {\n                this.recalcTotalFila(det);\n            });\n            this.formplan = this.datosDocPlan.plan;\n            this.formcab = this.datosDocPlan.doc.tasiento;\n            this.totalizar();\n            this.checkPagosPrevios();\n        });\n    }\n\n    finalizarPlan() {\n        const msg = '¿Seguro que desea marcar como finalizado?';\n        this.swalService.fireDialog(msg).then(confirm => {\n                if (confirm.value) {\n                    this.planService.cambiarEstado(this.plansel.pnt_id, 4).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadPlanes();\n                            this.cerrarVerDetallesFact();\n                        }\n                    });\n                }\n            }\n        );\n    }\n\n    doFilter() {\n        const filtroupd = this.filtroserv ? this.filtroserv.toString().trim().toUpperCase() : '';\n        if (filtroupd.length === 0) {\n            this.filteredServ = this.allServicios;\n        } else {\n            this.filteredServ = this.allServicios.filter(serv => serv.ic_nombre.startsWith(filtroupd));\n        }\n    }\n\n    onFilaPrecioChange(fila: any) {\n        let dtPrecio = Number(fila.dt_precioiva);\n        if (!dtPrecio) {\n            dtPrecio = 0.0;\n        }\n        if (fila.icdp_grabaiva) {\n            dtPrecio = this.numberService.quitarIva(dtPrecio);\n        }\n        fila.dt_precio = dtPrecio;\n\n        if (fila.dt_decto > fila.dt_precio) {\n            fila.dt_decto = 0.0;\n            fila.dt_dectoin = 0.0;\n        }\n\n        this.recalcTotalFila(fila);\n    }\n\n    onFilaDescChange(fila: any) {\n        let dtDecto = 0.0;\n        fila.dt_dectoerr = false;\n        const numberdtdecto = Number(fila.dt_dectoin);\n        if (numberdtdecto >= 0 && this.numberService.round2(numberdtdecto) <= this.numberService.round2(fila.dt_precio * fila.dt_cant)) {\n            dtDecto = numberdtdecto;\n        } else {\n            fila.dt_dectoerr = true;\n        }\n        fila.dt_decto = dtDecto;\n        this.recalcTotalFila(fila);\n    }\n\n    onFilaIvaChange(fila: any) {\n        let dtPrecio = Number(fila.dt_precioiva);\n        if (!dtPrecio) {\n            dtPrecio = 0.0;\n        }\n        if (fila.icdp_grabaiva) {\n            dtPrecio = this.numberService.quitarIva(dtPrecio);\n        }\n        fila.dt_precio = dtPrecio;\n        this.recalcTotalFila(fila);\n    }\n}\n","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {OdatencionesService} from '../../services/odatenciones.service';\nimport {LoadingUiService} from '../../services/loading-ui.service';\nimport {SwalService} from '../../services/swal.service';\nimport {DomService} from '../../services/dom.service';\n\n@Component({\n    selector: 'app-odatenciones',\n    template: `\n        <div>\n            <div *ngIf=\"codPaciente>0\" class=\"mt-3\">\n                <div class=\"d-flex\" *ngIf=\"!showform\">\n                    <h5 *ngIf=\"anteriones.length>0\" class=\"me-5\"><i class=\"fa fa-history\"></i>\n                        Atenciones Realizadas <span\n                                class=\"badge badge-pill badge-primary\">{{anteriones.length}}</span>\n                    </h5>\n                    <button *ngIf=\"!showform\" class=\"btn btn-outline-primary\" (click)=\"showFormCrear()\"> Crear <i\n                            class=\"fa fa-plus-circle\"></i></button>\n                </div>\n                <h5 class=\"text-muted\" *ngIf=\"anteriones.length===0 &&!showform\">\n                    No registra atenciones\n                </h5>\n\n                <div *ngIf=\"showform\" class=\"border mt-3\">\n                    <div class=\"ps-5 pe-5 pt-2 pb-2\">\n                        <h4 class=\"mt-2 mb-2 text-muted\">Registrar nueva atención</h4>\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span>Motivo:</span>\n                            </div>\n                            <div class=\"col-12\">\n                        <textarea class=\"form-control\" id=\"newMotivoAten\"\n                                  [(ngModel)]=\"form.ate_diagnostico\" maxlength=\"2000\">\n                        </textarea>\n                            </div>\n                        </div>\n                        <div class=\"row dato-fila\">\n                            <div class=\"col-12\">\n                                <span>Procedimiento realizado:</span>\n                            </div>\n                            <div class=\"col-12\">\n                        <textarea class=\"form-control\"\n                                  [(ngModel)]=\"form.ate_procedimiento\" maxlength=\"2000\">\n                        </textarea>\n                            </div>\n                        </div>\n                        <div class=\"mt-3 d-flex justify-content-center\">\n                            <button class=\"btn btn-outline-primary\" (click)=\"guardar()\"><i class=\"fa fa-save\"></i>\n                                Guardar\n                            </button>\n                            <button class=\"ms-3 btn btn-outline-secondary\" (click)=\"cancelar()\"><i\n                                    class=\"fa fa-times\"></i>\n                                Cancelar\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"border mt-4\">\n                    <table class=\"table table-hover\" *ngIf=\"anteriones.length>0\">\n                        <thead>\n                        <tr>\n                            <th scope=\"col\" class=\"quitaPaddingTB\">Nro</th>\n                            <th scope=\"col\" class=\"quitaPaddingTB\">Día</th>\n                            <th scope=\"col\" class=\"quitaPaddingTB\">Motivo</th>\n                            <th scope=\"col\" class=\"quitaPaddingTB\">Procedimientos</th>\n                            <th scope=\"col\" class=\"quitaPaddingTB\">\n\n                            </th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        <tr *ngFor=\"let row of anteriones\">\n                            <td width=\"5%\">\n                                {{row.ate_nro}}\n                            </td>\n                            <td width=\"15%\">\n                                {{row.ate_fechacrea}}\n                            </td>\n                            <td width=\"30%\">\n                                {{row.ate_diagnostico}}\n                            </td>\n                            <td width=\"40%\">\n                                {{row.ate_procedimiento}}\n                            </td>\n                            <td>\n                                <button class=\"btn btn-sm btn-outline-primary\" title=\"Anular\"><i\n                                        class=\"fa fa-trash\" (click)=\"anular(row)\"></i>\n                                </button>\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n            <div *ngIf=\"!(codPaciente>0)\">\n                <h4 class=\"text-muted\"> Favor registre primero los datos del paciente </h4>\n            </div>\n        </div>\n    `\n})\nexport class OdatencionesComponent implements OnInit, OnChanges {\n    @Input() codPaciente: number;\n    anteriones: Array<any>;\n    form: any;\n    showform: boolean;\n\n    constructor(private atencionesServ: OdatencionesService,\n                private loadinUiService: LoadingUiService,\n                private domService: DomService,\n                private swalService: SwalService) {\n\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const pacchange = changes.codPaciente;\n        const codcurrentvalue = pacchange.currentValue;\n        if (codcurrentvalue !== null) {\n            this.loadAnteriores();\n        }\n    }\n\n    ngOnInit(): void {\n        this.clearForm();\n        this.anteriones = [];\n    }\n\n    clearForm() {\n        this.form = {};\n        this.showform = false;\n    }\n\n    showFormCrear() {\n        this.loadForm();\n        this.showform = true;\n        this.domService.setFocusTm('newMotivoAten', 300);\n    }\n\n    loadForm() {\n        this.loadinUiService.publishBlockMessage();\n        this.atencionesServ.getForm(this.codPaciente).subscribe(res => {\n            if (res.status === 200) {\n                this.form = res.form;\n            }\n        });\n    }\n\n    loadAnteriores() {\n        this.loadinUiService.publishBlockMessage();\n        this.atencionesServ.getHistoria(this.codPaciente).subscribe(res => {\n            if (res.status === 200) {\n                this.anteriones = res.historia;\n            }\n        });\n    }\n\n    guardar() {\n        if (!this.form.ate_procedimiento || this.form.ate_procedimiento.trim().length === 0) {\n            this.swalService.fireError('Debe ingresar el procedimiento realizado');\n            return;\n        } else {\n            this.loadinUiService.publishBlockMessage();\n            this.atencionesServ.crear(this.form).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.loadAnteriores();\n                    this.clearForm();\n                }\n            });\n        }\n    }\n\n    anular(atencion: any) {\n        const msg = '¿Confirma que desea anular esta atención?';\n        this.swalService.fireDialog(msg).then(confirm => {\n            if (confirm.value) {\n                this.loadinUiService.publishBlockMessage();\n                this.atencionesServ.anular(atencion.ate_id).subscribe(res => {\n                    if (res.status === 200) {\n                        this.swalService.fireToastSuccess(res.msg);\n                        this.loadAnteriores();\n                    }\n                });\n            }\n        });\n\n    }\n\n    cancelar() {\n        this.clearForm();\n    }\n}\n","import {Component, Input, OnInit} from '@angular/core';\n\n@Component({\n    selector: 'app-butoldent',\n    template: `\n        <div class=\"viewtooldiente rounded border border-danger text-rojo hand\"\n             title=\"Sellante necesario\" *ngIf=\"idtool===1\">\n            *\n        </div>\n        <div class=\"viewtooldiente rounded border border-primary text-azul hand\"\n             title=\"Sellante realizado\" *ngIf=\"idtool===2\">*\n        </div>\n        <div class=\"viewtooldiente rounded border border-danger text-rojo hand\"\n             title=\"Extracción Indicada\" *ngIf=\"idtool===3\">\n            <span class=\"fa fa-times text-danger\"></span>\n        </div>\n        <div class=\"viewtooldiente rounded border border-primary text-azul hand\"\n             title=\"Pérdida por caries\" *ngIf=\"idtool===4\">\n            <span class=\"fa fa-times\"></span>\n        </div>\n        <div class=\"viewtooldiente rounded border border-danger hand\"\n             title=\"Endodoncia Necesaria\" *ngIf=\"idtool===6\">\n            <p class=\"endonecesaria\"></p>\n        </div>\n        <div class=\"viewtooldiente rounded border border-primary hand\"\n             title=\"Endodoncia Realizada\" *ngIf=\"idtool===7\">\n            <p class=\"endorealizada\"></p>\n        </div>\n        <div class=\"viewtooldiente rounded border border-danger text-rojo hand\"\n             title=\"Corona Necesaria\" *ngIf=\"idtool===11\">\n            O\n        </div>\n        <div class=\"viewtooldiente  rounded border border-primary text-azul hand\"\n             title=\"Corona Realizada\" *ngIf=\"idtool===12\">\n            O\n        </div>\n        <div class=\"viewtooldiente rounded border border-success hand\" title=\"Implante\" *ngIf=\"idtool===15\">\n            I\n        </div>\n        <div class=\"viewtooldiente rounded border border-success hand\" title=\"Implante\" *ngIf=\"idtool===18\">\n            DS\n        </div>\n    `\n})\nexport class ButooldentComponent implements OnInit {\n\n    @Input() idtool: number;\n\n    constructor() {\n\n    }\n\n    ngOnInit(): void {\n\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {ToolsDienteService} from '../../../services/toolsdiente.service';\n\n@Component({\n    selector: 'app-caraspd',\n    template: `\n        <div class=\"contdiente\" data-name=\"value\"\n             id=\"diente{{diente.numero}}\"\n             [title]=\"diente.texto?diente.texto:''\">\n            <div class=\"mdiente\" (click)=\"raiseShowDetallesDiente(diente)\">\n                <div id=\"t{{diente.numero}}\" class=\"mcuadro marriba\"\n                     [ngClass]=\"getCssClass(diente.t.estilos)\">\n                </div>\n                <div id=\"l{{diente.numero}}\" class=\"mcuadro mizquierdo\"\n                     [ngClass]=\"getCssClass(diente.l.estilos)\">\n                </div>\n                <div id=\"b{{diente.numero}}\" class=\"mcuadro mdebajo\"\n                     [ngClass]=\"getCssClass(diente.b.estilos)\">\n                </div>\n                <div id=\"r{{diente.numero}}\" class=\"mcuadro mderecha\"\n                     [ngClass]=\"getCssClass(diente.r.estilos)\">\n                </div>\n                <div id=\"c{{diente.numero}}\" class=\"mcentro\"\n                     [ngClass]=\"getCssClass(diente.c.estilos)\">\n                </div>\n            </div>\n            <div class=\"mfondodiente {{diente.classTapa}}\" (click)=\"raiseShowDetallesDiente(diente)\"\n                 *ngIf=\"diente.tapaVisible\">\n            </div>\n        </div>\n    `\n})\nexport class CaraspdComponent implements OnInit {\n    @Input() diente: any;\n    @Output() ondienteclic = new EventEmitter<any>();\n\n    constructor(private dienteServ: ToolsDienteService) {\n    }\n\n    ngOnInit(): void {\n    }\n\n    raiseShowDetallesDiente($event) {\n        if (!this.dienteServ.dienteIsProt(this.diente)) {\n            this.ondienteclic.emit(this.diente);\n        }\n    }\n\n    getCssClass(estilos) {\n        return Object.values(estilos);\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {OdatencionesService} from '../../../services/odatenciones.service';\n\n@Component({\n    selector: 'app-citaodontodet',\n    template: `\n        <div>\n            <div class=\"text-center\" *ngIf=\"showAnim\">\n                <app-loading></app-loading>\n            </div>\n            <div *ngIf=\"!showAnim\">\n                <div class=\"card border-secondary\">\n                    <div>\n                        <h6 class=\"dato-adc-fila\">\n                            {{datosAtencion.per_nombres + ' ' + datosAtencion.per_apellidos}}\n                            -  {{datosAtencion.per_ciruc}}  - {{datosAtencion.per_fechanac}}\n                            - {{datosAtencion.per_edad.years}} año(s), {{datosAtencion.per_edad.months}}\n                            mes(es), {{datosAtencion.per_edad.days}} dia(s)\n                        </h6>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"text-muted\">Fecha Atención:</span>\n                            </div>\n                            <div class=\"col\">\n                                <p>\n                                    {{datosAtencion.ate_fechacrea}}\n                                </p>\n                            </div>\n                        </div>\n\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"text-muted\">Motivo Consulta:</span>\n                            </div>\n                            <div class=\"col\">\n                                <p>\n                                    {{datosAtencion.ate_diagnostico}}\n                                </p>\n                            </div>\n                        </div>\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <span class=\"text-muted\">Procedimiento Realizado:</span>\n                            </div>\n                            <div class=\"col\">\n                                <p>\n                                    {{datosAtencion.ate_procedimiento}}\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card border-secondary\" *ngIf=\"datosAtencion.ate_odontograma\">\n                    <div class=\"card-header quitaPadding\">\n                        Odontograma (Permanente)\n                    </div>\n                    <div class=\"d-flex justify-content-center\">\n                        <div style=\"overflow: auto; width: 950px; height: 600px;\">\n                            <div>\n                                <div class=\"d-flex\">\n                                    <div id=\"tr\" class=\"text-end d-flex\">\n                                        <ng-container *ngFor=\"let diente of dentadura.A\">\n                                            <app-grppiezadent [diente]=\"diente\"></app-grppiezadent>\n                                        </ng-container>\n                                    </div>\n                                    <div id=\"tl\" class=\"d-flex ms-4\">\n                                        <ng-container *ngFor=\"let diente of dentadura.B\">\n                                            <app-grppiezadent [diente]=\"diente\"></app-grppiezadent>\n                                        </ng-container>\n                                    </div>\n                                </div>\n                                <div class=\"d-flex\">\n                                    <div id=\"br\" class=\"d-flex text-end\" style=\"padding-top: 30px\">\n                                        <ng-container *ngFor=\"let diente of dentadura.C\">\n                                            <app-grppiezadent [diente]=\"diente\"></app-grppiezadent>\n                                        </ng-container>\n                                    </div>\n                                    <div id=\"bl\" style=\"padding-top: 30px\" class=\"ms-4 d-flex\">\n                                        <ng-container *ngFor=\"let diente of dentadura.D\">\n                                            <app-grppiezadent [diente]=\"diente\"></app-grppiezadent>\n                                        </ng-container>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"card border-secondary\" *ngIf=\"datosAtencion.ate_odontograma_sm\">\n                    <div class=\"card-header quitaPadding\">\n                        Odontograma (Temporal)\n                    </div>\n                    <div class=\"d-flex justify-content-center\">\n                        <div style=\"overflow: auto; width: 650px; height: 600px;\">\n                            <div>\n                                <div class=\"d-flex\">\n                                    <div id=\"tr\" class=\"text-end d-flex\">\n                                        <ng-container *ngFor=\"let diente of dentaduraSm.A\">\n                                            <app-grppiezadent [diente]=\"diente\"></app-grppiezadent>\n                                        </ng-container>\n                                    </div>\n                                    <div id=\"tl\" class=\"d-flex ms-4\">\n                                        <ng-container *ngFor=\"let diente of dentaduraSm.B\">\n                                            <app-grppiezadent [diente]=\"diente\"></app-grppiezadent>\n                                        </ng-container>\n                                    </div>\n                                </div>\n                                <div class=\"d-flex\">\n                                    <div id=\"br\" class=\"d-flex text-end\" style=\"padding-top: 30px\">\n                                        <ng-container *ngFor=\"let diente of dentaduraSm.C\">\n                                            <app-grppiezadent [diente]=\"diente\"></app-grppiezadent>\n                                        </ng-container>\n                                    </div>\n                                    <div id=\"bl\" style=\"padding-top: 30px\" class=\"ms-4 d-flex\">\n                                        <ng-container *ngFor=\"let diente of dentaduraSm.D\">\n                                            <app-grppiezadent [diente]=\"diente\"></app-grppiezadent>\n                                        </ng-container>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"mt-2 d-md-flex flex-row-reverse\">\n                    <button class=\"btn btn-outline-primary\" (click)=\"doCerrar()\">\n                        <i class=\"fa fa-times\"></i> Cerrar\n                    </button>\n                    <button class=\"btn btn-outline-primary me-2\" (click)=\"doVerHistoria()\">\n                        <i class=\"fa fa-tooth\"></i> Ver Ficha\n                    </button>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class CitaodontodetComponent implements OnInit {\n    showAnim: boolean;\n    @Input() codatencion: number;\n    datosAtencion: any;\n    dentadura: any;\n    dentaduraSm: any;\n\n    @Output() evShowHistoria = new EventEmitter<any>();\n    @Output() evCerrar = new EventEmitter<any>();\n\n    constructor(private odatenserv: OdatencionesService) {\n\n    }\n\n    ngOnInit(): void {\n        this.showAnim = true;\n        this.dentadura = [];\n        this.dentaduraSm = [];\n        this.loadDatos();\n    }\n\n    loadDatos() {\n        this.showAnim = true;\n        this.odatenserv.getDetallesAtencion(this.codatencion).subscribe(res => {\n            this.showAnim = false;\n            if (res.status === 200) {\n                this.datosAtencion = res.atencion;\n                this.setupOdontograma();\n            }\n        });\n    }\n\n    setupOdontograma() {\n        this.dentadura = [];\n        this.dentaduraSm = [];\n        if (this.datosAtencion.ate_odontograma) {\n            this.dentadura = JSON.parse(this.datosAtencion.ate_odontograma);\n        }\n        if (this.datosAtencion.ate_odontograma_sm) {\n            this.dentaduraSm = JSON.parse(this.datosAtencion.ate_odontograma_sm);\n        }\n    }\n\n    doCerrar() {\n        this.evCerrar.emit('');\n    }\n\n    doVerHistoria() {\n        this.evShowHistoria.emit('');\n    }\n}\n","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\nimport {ToolsDienteService} from '../../../services/toolsdiente.service';\n\n@Component({\n    selector: 'app-grppiezadent',\n    template: `\n        <div style=\"display: inline-block\" class=\"dntc_{{diente.numero}}\"\n             (mouseenter)=\"onmousenter()\"\n             (mouseleave)=\"onmouseleave()\"\n             [title]=\"titulo\">\n            <div class=\"d-flex flex-column align-items-center\">\n                <app-numpiezadent [diente]=\"diente\"></app-numpiezadent>\n                <app-piezadental [diente]=\"diente\"\n                                 (ondienteclic)=\"raiseClicEvent(diente)\"></app-piezadental>\n                <app-caraspd [diente]=\"diente\" (ondienteclic)=\"raiseClicEvent(diente)\"></app-caraspd>\n            </div>\n        </div>\n    `\n})\nexport class GrppiezadentComponent {\n    @Input() diente: any;\n    @Output() ongrpdntclic = new EventEmitter<any>();\n    @Output() ondntstatechange = new EventEmitter<any>();\n    titulo: string;\n    loaded: boolean;\n\n    constructor(private dienteServ: ToolsDienteService) {\n        this.loaded = false;\n    }\n\n    onmousenter() {\n        if (!this.loaded) {\n            this.titulo = this.getTitulo();\n            this.loaded = true;\n        }\n    }\n\n    onmouseleave() {\n        this.loaded = false;\n    }\n\n    dienteIsProt() {\n        return this.dienteServ.dienteIsProt(this.diente);\n    }\n\n    getTitulo() {\n        if (this.diente) {\n            let titulo = this.diente.texto ? this.diente.texto : '';\n            if (this.dienteIsProt()) {\n                const tipoProtesis = this.dienteServ.getTipoProtesis(this.diente);\n                if (tipoProtesis) {\n                    titulo += ' Protesis ' + tipoProtesis.label;\n                }\n            }\n            return titulo;\n        }\n        return '';\n    }\n\n    raiseClicEvent($event: MouseEvent) {\n        if (!this.dienteIsProt()) {\n            this.ongrpdntclic.emit(this.diente);\n        }\n    }\n\n}\n","import {Component, Input} from '@angular/core';\n\n@Component({\n    selector: 'app-numpiezadent',\n    template: `\n        <span class=\"hand badge rounded-pill bg-{{getBadgeStatus(diente)}} numdiente\">\n                                <span *ngIf=\"diente.texto\" class=\"text-warning\">!</span>\n            {{diente.numero}}\n                            </span>\n    `\n})\nexport class NumpiezaComponent {\n    @Input() diente: any;\n\n    constructor() {\n\n    }\n\n    getBadgeStatus(diente: any) {\n        let status = 'secondary';\n        const estado = diente.estado ? diente.estado : 0;\n        switch (estado) {\n            case 0:\n                status = 'secondary';\n                break;\n            case 1:\n                status = 'danger';\n                break;\n            case 2:\n                status = 'success';\n                break;\n            case 3:\n                status = 'info';\n                break;\n            default:\n                status = 'secondary';\n                break;\n        }\n        return status;\n    }\n}\n","<div>\n    <div *ngIf=\"!(codpaciente>0)\">\n        <h4 class=\"text-muted\"> Favor registre primero los datos del paciente </h4>\n    </div>\n    <div *ngIf=\"codpaciente>0\">\n\n        <div class=\"d-flex flex-row-reverse mb-2\" style=\"margin-top: -40px\">\n            <div class=\"btn-group btn-group-sm\" role=\"group\" *ngIf=\"tipodontograma===1\">\n                <button id=\"thebutton\" #thebutton type=\"button\" class=\"btn btn-sm btn-outline-primary\"\n                        (click)=\"showModalProtesis()\"\n                        title=\"Crear protesis fija, removible o total\">\n                    Crear Protesis\n                </button>\n            </div>\n            <button class=\"btn btn-sm btn-outline-primary\" (click)=\"guardarOdontograma()\">\n                <i class=\"fa fa-save\"></i>\n                Guardar Odontograma\n            </button>\n        </div>\n\n        <div class=\"row\">\n            <div class=\"col\">\n                <div class=\"row\">\n                    <div id=\"tr\" class=\"col-6 text-end\">\n                        <ng-container *ngFor=\"let diente of dentadura.A\">\n                            <app-grppiezadent [diente]=\"diente\"\n                                              (ondntstatechange)=\"saveOdontoSilent()\"\n                                              (ongrpdntclic)=\"showModalPieza(diente)\"></app-grppiezadent>\n                        </ng-container>\n                    </div>\n                    <div id=\"tl\" class=\"col-6\">\n                        <ng-container *ngFor=\"let diente of dentadura.B\">\n                            <app-grppiezadent [diente]=\"diente\"\n                                              (ondntstatechange)=\"saveOdontoSilent()\"\n                                              (ongrpdntclic)=\"showModalPieza(diente)\"></app-grppiezadent>\n                        </ng-container>\n                    </div>\n\n                    <div id=\"br\" class=\"col-6 text-end\" style=\"padding-top: 30px\">\n                        <ng-container *ngFor=\"let diente of dentadura.C\">\n                            <app-grppiezadent [diente]=\"diente\"\n                                              (ondntstatechange)=\"saveOdontoSilent()\"\n                                              (ongrpdntclic)=\"showModalPieza(diente)\"></app-grppiezadent>\n                        </ng-container>\n                    </div>\n                    <div id=\"bl\" class=\"col-6\" style=\"padding-top: 30px\">\n                        <ng-container *ngFor=\"let diente of dentadura.D\">\n                            <app-grppiezadent [diente]=\"diente\"\n                                              (ondntstatechange)=\"saveOdontoSilent()\"\n                                              (ongrpdntclic)=\"showModalPieza(diente)\"></app-grppiezadent>\n                        </ng-container>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div style=\"margin-top: 20px\">\n            <div class=\"row\">\n                <div class=\"col\">\n                    <div class=\"mb-3\">\n                        <label for=\"obsOdontograma\" class=\"fw-bold\">Observación:</label>\n                        <textarea id=\"obsOdontograma\" class=\"form-control\" rows=\"2\" [(ngModel)]=\"obsodontograma\"\n                                  placeholder=\"Ingrese una observación al odontograma\">  </textarea>\n                    </div>\n                </div>\n            </div>\n            <div class=\"table-responsive mt-1\">\n                <table class=\"table table-bordered table-sm\">\n                    <thead>\n                    <tr>\n                        <th scope=\"col\" width=\"6%\">Pieza</th>\n                        <th scope=\"col\" width=\"88%\">Diagnóstico</th>\n                        <th scope=\"col\" width=\"6%\">Acción</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    <ng-container *ngFor=\"let itdiente of dentadura.A\">\n                        <tr *ngIf=\"isDienteModif(itdiente)\">\n                            <td>\n                                {{itdiente.numero}}\n                            </td>\n                            <td>\n                                <app-diagnospieza [itdiente]=\"itdiente\"></app-diagnospieza>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-sm btn-outline-secondary\"\n                                        (click)=\"clearDienteCssTBLRC(itdiente)\"> Limpiar\n                                </button>\n                            </td>\n                        </tr>\n                    </ng-container>\n                    <ng-container *ngFor=\"let itdiente of dentadura.B\">\n                        <tr *ngIf=\"isDienteModif(itdiente)\">\n                            <td>\n                                {{itdiente.numero}}\n                            </td>\n                            <td>\n                                <app-diagnospieza [itdiente]=\"itdiente\"></app-diagnospieza>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-sm btn-outline-secondary\"\n                                        (click)=\"clearDienteCssTBLRC(itdiente)\"> Limpiar\n                                </button>\n                            </td>\n                        </tr>\n                    </ng-container>\n                    <ng-container *ngFor=\"let itdiente of dentadura.C\">\n                        <tr *ngIf=\"isDienteModif(itdiente)\">\n                            <td>\n                                {{itdiente.numero}}\n                            </td>\n                            <td>\n                                <app-diagnospieza [itdiente]=\"itdiente\"></app-diagnospieza>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-sm btn-outline-secondary\"\n                                        (click)=\"clearDienteCssTBLRC(itdiente)\"> Limpiar\n                                </button>\n                            </td>\n                        </tr>\n                    </ng-container>\n                    <ng-container *ngFor=\"let itdiente of dentadura.D\">\n                        <tr *ngIf=\"isDienteModif(itdiente)\">\n                            <td>\n                                {{itdiente.numero}}\n                            </td>\n                            <td>\n                                <app-diagnospieza [itdiente]=\"itdiente\"></app-diagnospieza>\n                            </td>\n                            <td>\n                                <button class=\"btn btn-sm btn-outline-secondary\"\n                                        (click)=\"clearDienteCssTBLRC(itdiente)\"> Limpiar\n                                </button>\n                            </td>\n                        </tr>\n                    </ng-container>\n                    <ng-container *ngFor=\"let protesis of protesisList\">\n                        <tr>\n                            <td>\n                                {{protesis.piezas}}\n                            </td>\n                            <td>\n                                Prótesis {{protesis.tipo}} ({{protesis.estado}}\n                                ): {{protesis.piezas}} {{protesis.retens.length > 0 ? ' - Retenedores:' + protesis.retens : ''}}\n                            </td>\n                            <td>\n                                <button class=\"btn btn-sm btn-outline-secondary\"\n                                        (click)=\"clearProtesis(protesis)\"> Limpiar\n                                </button>\n                            </td>\n                        </tr>\n                    </ng-container>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n\n        <div *ngIf=\"dienteSelected!=null\">\n            <p-dialog header=\"Pieza dental Nro: {{dienteSelected.numero}}\" [modal]=\"true\" [style]=\"{width: '90vw'}\"\n                      [baseZIndex]=\"10000\" (visibleChange)=\"onModalPiezaHide($event)\"\n                      [(visible)]=\"modalPiezaVisible\">\n                <div class=\"container-fluid\">\n                    <div class=\"row\">\n                        <div class=\"col-md-4\">\n                            <div class=\"card\">\n                                <div class=\"row\" style=\"margin-bottom: 6px\">\n                                    <div class=\"col\">\n                                        <div>\n                                            <p class=\"quitaPaddingMargin\">Obturado</p>\n                                            <button type=\"button\" class=\"btn {{cssSelectedTool(13)}} text-azul\"\n                                                    title=\"Obturado\" (click)=\"selectTool(13)\">\n                                                <div class=\"obturado\"></div>\n                                            </button>\n                                        </div>\n                                    </div>\n                                    <div class=\"col\">\n                                        <div>\n                                            <p class=\"quitaPaddingMargin\">Caries</p>\n                                            <button type=\"button\" class=\"btn {{cssSelectedTool(14)}} text-rojo\"\n                                                    (click)=\"selectTool(14)\" title=\"Caries\">\n                                                <div class=\"caries\"></div>\n                                            </button>\n                                            <button type=\"button\" class=\"btn {{cssSelectedTool(17)}} text-rojo\"\n                                                    (click)=\"selectTool(17)\" title=\"Caries\">\n                                                <div class=\"cariesm\"></div>\n                                            </button>\n                                            <button type=\"button\" class=\"btn {{cssSelectedTool(16)}} text-rojo\"\n                                                    (click)=\"selectTool(16)\" title=\"Caries\">\n                                                <div class=\"cariesp\"></div>\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <ul class=\"list-group list-group-flush scrol-tools-diente\">\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(1)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                                <span class=\" text-rojo\">*</span>\n                                                <span class=\"ms-2\">\n                                            Sellante necesario\n                                        </span>\n                                            </div>\n                                            <button class=\"btn \" [ngClass]=\"cssMarkedTool(1)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(2)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                                <span class=\"text-azul\">*</span>\n                                                <span class=\"ms-2\">\n                                            Sellante realizado\n                                        </span>\n                                            </div>\n                                            <button class=\"btn \" [ngClass]=\"cssMarkedTool(2)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(3)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                        <span class=\"text-rojo\"><span class=\"fa fa-times text-danger\"></span>\n                                        </span>\n                                                <span class=\"ms-2\">\n                                            Extracción indicada\n                                        </span>\n                                            </div>\n                                            <button class=\"btn\" [ngClass]=\"cssMarkedTool(3)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(4)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                                <span class=\"text-azul\"><span class=\"fa fa-times\"></span></span>\n                                                <span class=\"ms-2\">\n                                        Pérdida por caries\n                                    </span>\n                                            </div>\n                                            <button class=\"btn\" [ngClass]=\"cssMarkedTool(4)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(6)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                    <span>\n                                        <p class=\"endonecesaria\"></p></span>\n                                                <span class=\"ms-2\">\n                                        Endodoncia necesaria\n                                    </span>\n                                            </div>\n                                            <button class=\"btn\" [ngClass]=\"cssMarkedTool(6)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(7)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                    <span>\n                                        <p class=\"endorealizada\"></p></span>\n                                                <span class=\"ms-2\">\n                                        Endodoncia realizada\n                                    </span>\n                                            </div>\n                                            <button class=\"btn\" [ngClass]=\"cssMarkedTool(7)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(11)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                    <span class=\"text-rojo\">\n                                        O\n                                    </span>\n                                                <span class=\"ms-2\">\n                                        Corona necesaria\n                                    </span>\n                                            </div>\n                                            <button class=\"btn\" [ngClass]=\"cssMarkedTool(11)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(12)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                                <span class=\"text-azul\">O</span>\n                                                <span class=\"ms-2\">\n                                        Corona realizada\n                                        </span>\n                                            </div>\n                                            <button class=\"btn\" [ngClass]=\"cssMarkedTool(12)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(15)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                                <span>Implante</span>\n                                            </div>\n                                            <button class=\"btn\" [ngClass]=\"cssMarkedTool(15)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                    <li class=\"list-group-item hand\" (click)=\"checkUncheckTool(18)\">\n                                        <div class=\"d-flex justify-content-between\">\n                                            <div class=\"d-flex flex-row\">\n                                                <span>Diente sano</span>\n                                            </div>\n                                            <button class=\"btn\" [ngClass]=\"cssMarkedTool(18)\">\n                                                <i class=\"fas fa-check\"></i>\n                                            </button>\n                                        </div>\n                                    </li>\n                                </ul>\n                            </div>\n                        </div>\n                        <div class=\"col-md-4 border\">\n                            <div class=\"text-center\">\n                                <app-numpiezadent [diente]=\"dienteSelected\"></app-numpiezadent>\n                            </div>\n                            <div class=\"row border-bottom\">\n                                <div class=\"col\">\n                                    <div class=\"text-center\">\n                                        <div class=\"contdiente-large\" data-name=\"value\"\n                                             id=\"m_diente{{dienteSelected.numero}}\"\n                                             [title]=\"dienteSelected?.texto\">\n                                            <div class=\"mdiente-large\">\n                                                <div id=\"m_t{{dienteSelected.numero}}\"\n                                                     class=\"mcuadro-large marriba-large\"\n                                                     (click)=\"toggleClassTop(dienteSelected)\"\n                                                     [ngClass]=\"getCssClass(dienteSelected.t.estilos)\">\n                                                </div>\n                                                <div id=\"m_l{{dienteSelected.numero}}\"\n                                                     class=\"mcuadro-large mizquierdo-large\"\n                                                     (click)=\"toggleClassLeft(dienteSelected)\"\n                                                     [ngClass]=\"getCssClass(dienteSelected.l.estilos)\">\n                                                </div>\n                                                <div id=\"m_b{{dienteSelected.numero}}\"\n                                                     class=\"mcuadro-large mdebajo-large\"\n                                                     (click)=\"toggleClassBottom(dienteSelected)\"\n                                                     [ngClass]=\"getCssClass(dienteSelected.b.estilos)\">\n                                                </div>\n                                                <div id=\"m_r{{dienteSelected.numero}}\"\n                                                     class=\"mcuadro-large mderecha-large\"\n                                                     (click)=\"toggleClassRight(dienteSelected)\"\n                                                     [ngClass]=\"getCssClass(dienteSelected.r.estilos)\">\n                                                </div>\n                                                <div id=\"m_c{{dienteSelected.numero}}\" class=\"mcentro-large\"\n                                                     (click)=\"toggleClassCenter(dienteSelected)\"\n                                                     [ngClass]=\"getCssClass(dienteSelected.c.estilos)\">\n                                                </div>\n                                            </div>\n                                            <div class=\"mfondodiente-large {{dienteSelected.classTapa}}\"\n                                                 *ngIf=\"dienteSelected.tapaVisible\">\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div class=\"col\">\n                                    <app-piezadental [diente]=\"dienteSelected\"></app-piezadental>\n                                </div>\n                            </div>\n                            <div class=\"d-flex justify-content-center\">\n                                <span class=\"fw-bold text-{{estadoDienteBg}}\"> {{getEstadoDiente(dienteSelected)}} </span>\n                            </div>\n                            <div>\n                                <app-diagnospieza [itdiente]=\"dienteSelected\"></app-diagnospieza>\n                            </div>\n                        </div>\n                        <div class=\"col-md-4\">\n                            <div class=\"mb-3\">\n                                <label for=\"obsPiezaDental\">Observación:</label>\n                                <textarea id=\"obsPiezaDental\" class=\"form-control\" rows=\"8\"\n                                          [(ngModel)]=\"dienteSelected.texto\"\n                                          placeholder=\"Ingrese una observación para esta pieza dental\">  </textarea>\n                            </div>\n                            <button class=\"btn btn-sm btn-outline-secondary\" *ngIf=\"isDienteModif(dienteSelected)\"\n                                    title=\"Borra todos los diagnósticos asociados a esta pieza dental\"\n                                    (click)=\"clearDienteCssTBLRC(dienteSelected)\"><i class=\"fa fa-eraser\"></i> Limpiar\n                            </button>\n                        </div>\n                    </div>\n                </div>\n                <p-footer>\n                    <div class=\"row border-top\">\n                        <div class=\"col-md-3\">\n                            <div class=\"d-flex flex-row\">\n                                <div class=\"btn-group dropup\">\n                                    <button type=\"button\"\n                                            class=\"btn btn-{{estadoDienteBg}} dropdown-toggle\"\n                                            aria-expanded=\"false\"\n                                            data-bs-toggle=\"dropdown\"> {{estadoDienteStr}}  </button>\n                                    <ul class=\"dropdown-menu\">\n                                        <li><a class=\"dropdown-item\" href=\"#\" *ngIf=\"showStateButtons[0]\"\n                                               (click)=\"changeState($event)\" title=\"Marcar como tratamiento iniciado\">\n                                            <i class=\"fa fa-teeth-open\"></i> Iniciar\n                                            Tratamiento </a></li>\n                                        <li><a class=\"dropdown-item\" href=\"#\" *ngIf=\"showStateButtons[1]\"\n                                               title=\"Marcar como tratamiento finalizado\"\n                                               (click)=\"changeState($event)\"> Tratamiento Realizado </a></li>\n                                        <li><a class=\"dropdown-item\" href=\"#\" *ngIf=\"showStateButtons[2]\"\n                                               title=\"Marcar como tratamiento externo\"\n                                               (click)=\"changeStateExt($event)\"> Tratamiento Externo </a></li>\n                                    </ul>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-md-7 d-flex flex-row justify-content-center\">\n                            <button class=\"btn btn-outline-primary\" (click)=\"backDiente()\">\n                                <i class=\"fas fa-angle-left\"></i> Anterior\n                            </button>\n                            <button class=\"btn btn-outline-primary\" (click)=\"nextDiente()\"> Siguiente\n                                <i class=\"fas fa-angle-right\"></i>\n                            </button>\n                        </div>\n                        <div class=\"col-md-2 d-flex flex-row justify-content-end\">\n                            <button class=\"btn btn-outline-secondary\" (click)=\"cerrarDialogDiente()\">Cerrar</button>\n                        </div>\n                    </div>\n                </p-footer>\n            </p-dialog>\n        </div>\n\n        <p-dialog header=\"Registro de prótesis\" [modal]=\"true\" [style]=\"{width: '50vw'}\"\n                  [baseZIndex]=\"10000\"\n                  [(visible)]=\"modalCreaProtesis\">\n            <div class=\"container-fluid\">\n                <div class=\"d-flex flex-row\">\n                    <span class=\"me-2\">Tipo:</span>\n                    <p-selectButton [options]=\"tiposProtesis\" [(ngModel)]=\"tipoProtesisSel\" optionLabel=\"label\"\n                                    optionValue=\"value\"\n                                    (onChange)=\"onTipoProtesisChange($event)\"></p-selectButton>\n                </div>\n                <div class=\"d-flex flex-row\" *ngIf=\"tipoProtesisSel\">\n                    <span class=\"me-2\">Estado:</span>\n                    <p-selectButton [options]=\"estadosProtesis\" [(ngModel)]=\"estadoProtesisSel\" optionLabel=\"label\"\n                                    optionValue=\"value\"\n                                    (onChange)=\"onEstadoProtesisSel($event)\"></p-selectButton>\n                </div>\n                <div class=\"d-flex flex-row\" *ngIf=\"estadoProtesisSel\">\n                    <span class=\"me-2\">Zona:</span>\n                    <p-selectButton [options]=\"zonasProtesis\" [(ngModel)]=\"zonaProtesisSel\" optionLabel=\"label\"\n                                    optionValue=\"value\"\n                                    (onChange)=\"onZonaProtChange($event)\"></p-selectButton>\n                </div>\n\n                <div *ngIf=\"zonaProtesisSel\">\n                    <div *ngIf=\"tipoProtesisSel<=2\">\n                        <div class=\"mt-3 d-flex justify-content-between\">\n                            <span class=\"fw-bold\">Seleccione las piezas dentales de la prótesis:</span>\n                            <button class=\"btn bt-sm btn-outline-primary\" (click)=\"limpiarSelProtesis()\">\n                                <i class=\"fas fa-eraser\"></i> Limpiar\n                            </button>\n                        </div>\n                        <div *ngIf=\"tipoProtesisSel===2\">\n                            <p-selectButton [options]=\"tiposPiezas\" [(ngModel)]=\"tipoPiezaSel\" optionLabel=\"label\"\n                                            optionValue=\"value\"></p-selectButton>\n                        </div>\n                    </div>\n                    <div class=\"d-flex flex-row justify-content-center mt-2\">\n                        <div class=\"d-flex align-items-center justify-content-center border rounded piezaforprot noselect hand {{it.sel?\n                (it.tipo===1?(estadoProtesisSel===1?'border-primary piezaforprotsel':'piezaforprotxdosel'):'piezaretforprotsel'):''}} \"\n                             (mousedown)=\"onMouseDownProtDiente(it)\"\n                             (mouseover)=\"onMouseOverProtDiente(it)\"\n                             (mouseup)=\"onMouseUpProtDiente(it)\"\n                             *ngFor=\"let it of dientesProtesis\">\n                            <span class=\"fw-bold\">{{it.value}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <p-footer>\n                <div class=\"d-flex flex-row justify-content-center\">\n                    <button *ngIf=\"dientesProtesisMarked()\"\n                            class=\"btn btn-outline-primary me-2\" (click)=\"creaProtesis()\">\n                        <i class=\"fas fa-save\"></i> Crear Protesis\n                    </button>\n                    <button class=\"btn btn-outline-secondary\" (click)=\"closeModalProtesis()\">Cancelar</button>\n                </div>\n            </p-footer>\n        </p-dialog>\n\n    </div>\n</div>\n","import {Component, Input, OnChanges, OnDestroy, OnInit, Renderer2, SimpleChanges, ViewChild} from '@angular/core';\nimport {ArrayutilService} from '../../../services/arrayutil.service';\nimport {MenuItem} from 'primeng/api';\nimport {SwalService} from '../../../services/swal.service';\nimport {ToolsDienteService} from '../../../services/toolsdiente.service';\nimport {OdontogramaService} from '../../../services/odontograma.service';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\n\n@Component({\n    selector: 'app-odontograma',\n    templateUrl: './odontograma.component.html',\n    styleUrls: ['./odontograma.component.css']\n})\nexport class OdontogramaComponent implements OnInit, OnDestroy, OnChanges {\n\n    @Input()\n    tipodontograma: number;\n\n    @Input()\n    codpaciente: number;\n\n    dientesA: Array<any>;\n    dientesB: Array<any>;\n    dientesC: Array<any>;\n    dientesD: Array<any>;\n\n    tools: any;\n    toolSelected: any;\n\n    codSelectedTool: 0;\n    selectedCssClass: string;\n    operacionCapa: boolean;\n    classTapa: string;\n    classTapaLeche: string;\n    dentadura: any;\n\n    dienteSelected: any;\n    rangoProtesis: number[];\n    menuItemsTool: MenuItem[];\n    tiposProtesis: any[];\n    estadoProtesisSel: any;\n    estadosProtesis: any[];\n    tipoProtesisSel: any;\n    zonasProtesis: any[];\n    zonaProtesisSel: any;\n    dientesProtesis: any[];\n    protesisList: any[];\n    showStateButtons: any[];\n\n    tiposPiezas: any[];\n    tipoPiezaSel: any;\n    formOdontograma: any;\n\n    @ViewChild('contextMenuDiente') contextMenuDiente: any;\n\n    modalPiezaVisible: boolean;\n    modalCreaProtesis: boolean;\n    obsodontograma: string;\n    estadoDienteStr: string;\n    estadoDienteBg: string;\n    private iniciaSelProt: boolean;\n\n    constructor(private render: Renderer2, private arrayUtil: ArrayutilService, private swalService: SwalService,\n                private toolsDienteServ: ToolsDienteService,\n                private odontoService: OdontogramaService, private loadingUiService: LoadingUiService) {\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const chng = changes.codpaciente;\n        if (chng.currentValue) {\n            this.loadForm();\n        } else {\n            this.clearAll();\n        }\n    }\n\n    ngOnDestroy(): void {\n        this.modalPiezaVisible = false;\n        this.modalCreaProtesis = false;\n        this.dienteSelected = {};\n        this.iniciaSelProt = false;\n    }\n\n    loadForm() {\n        this.loadingUiService.publishBlockMessage();\n        this.odontoService.getForm(this.codpaciente, this.tipodontograma).subscribe(res => {\n            if (res.status === 200) {\n                this.formOdontograma = res.form;\n                this.loadDientesFromDb(res.form);\n            }\n        });\n    }\n\n    ngOnInit(): void {\n        this.tiposProtesis = this.toolsDienteServ.getTiposProtesis();\n        this.zonasProtesis = [{label: 'Palatino', value: 1}, {label: 'Lingual', value: 2}];\n        this.tiposPiezas = [{label: 'Protesis', value: 1}, {label: 'Retenedor', value: 2}];\n        this.estadosProtesis = [{label: 'Realizado', value: 1}, {label: 'Por realizar', value: 2}];\n        this.estadoProtesisSel = this.estadosProtesis[0].value;\n        this.obsodontograma = '';\n        this.loadDientes();\n        this.initTools();\n        this.selectedCssClass = '';\n        this.menuItemsTool = [];\n        this.rangoProtesis = [];\n        this.dientesProtesis = [];\n        this.protesisList = [];\n    }\n\n    clearAll() {\n        this.loadDientes();\n        this.clearProtesisList();\n        this.obsodontograma = '';\n    }\n\n    clearProtesisList() {\n        this.dientesProtesis = [];\n        this.protesisList = [];\n    }\n\n    showModalPieza(diente) {\n        this.dienteSelected = diente;\n        this.estadoProtesisSel = this.estadosProtesis[0];\n        // Actualizar estado  array dientes\n        this.modalPiezaVisible = true;\n        this.updateStatebuttons();\n    }\n\n    updateStatebuttons() {\n        this.estadoDienteStr = this.toolsDienteServ.getStrState(this.dienteSelected);\n        this.estadoDienteBg = this.toolsDienteServ.getColorState(this.dienteSelected);\n        this.showStateButtons = [\n            this.toolsDienteServ.isShowTrataPend(this.dienteSelected),\n            this.toolsDienteServ.isShowTrataHecho(this.dienteSelected),\n            this.toolsDienteServ.isShowTratExt(this.dienteSelected)\n        ];\n    }\n\n    initTools(): void {\n        this.tools = this.toolsDienteServ.getTools();\n    }\n\n    auxLoadDientes(inicio: number, array: Array<any>, signo: number, numdientes: number, cudr: any) {\n        let tipoDiente = 'D';\n        if (numdientes === 5) {\n            tipoDiente = 'L';\n        }\n        for (let i = 0; i < numdientes; i++) {\n            const numDiente = inicio + (i * signo);\n            const diente = {\n                numero: numDiente,\n                tipo: tipoDiente,\n                t: {estilos: {}, tools: []},\n                b: {estilos: {}, tools: []},\n                l: {estilos: {}, tools: []},\n                r: {estilos: {}, tools: []},\n                c: {estilos: {}, tools: []},\n                tapaVisible: false,\n                classTapa: '',\n                tools: [],\n                texto: '',\n                cdr: cudr,\n                estado: 0,\n                protesis: 0\n            };\n            array.push(diente);\n        }\n    }\n\n    getEstadoDiente(diente: any) {\n        return this.toolsDienteServ.getStrState(diente, false);\n    }\n\n    getCssClass(estilos) {\n        return Object.values(estilos);\n    }\n\n    loadDientes() {\n        this.dientesA = [];\n        this.dientesB = [];\n        this.dientesC = [];\n        this.dientesD = [];\n        const numDientes = 8;\n        const numDientesNinio = 5;\n        if (this.tipodontograma === 1) {\n            this.auxLoadDientes(18, this.dientesA, -1, numDientes, 'A');\n            this.auxLoadDientes(21, this.dientesB, 1, numDientes, 'B');\n            this.auxLoadDientes(48, this.dientesC, -1, numDientes, 'C');\n            this.auxLoadDientes(31, this.dientesD, 1, numDientes, 'D');\n        } else {\n            this.auxLoadDientes(55, this.dientesA, -1, numDientesNinio, 'A');\n            this.auxLoadDientes(61, this.dientesB, 1, numDientesNinio, 'B');\n            this.auxLoadDientes(85, this.dientesC, -1, numDientesNinio, 'C');\n            this.auxLoadDientes(71, this.dientesD, 1, numDientesNinio, 'D');\n        }\n\n        this.dentadura = {\n            A: this.dientesA, B: this.dientesB, C: this.dientesC, D: this.dientesD\n        };\n    }\n\n    loadDientesFromDb(datosodonto: any) {\n        try {\n            if (datosodonto.od_odontograma) {\n                const dentadura = JSON.parse(datosodonto.od_odontograma);\n                if (dentadura) {\n                    this.dentadura = dentadura;\n                }\n            } else {\n                this.loadDientes();\n            }\n\n            if (datosodonto.od_protesis) {\n                const protesis = JSON.parse(datosodonto.od_protesis);\n                if (protesis) {\n                    this.protesisList = protesis;\n                }\n            } else {\n                this.clearProtesisList();\n            }\n\n            if (datosodonto.od_obsodonto) {\n                this.obsodontograma = datosodonto.od_obsodonto;\n            } else {\n                this.obsodontograma = '';\n            }\n        } catch (e) {\n            this.clearAll();\n        }\n    }\n\n    clearDienteCssTBLRC(diente: any) {\n        diente.t = {estilos: {}, tools: []};\n        diente.b = {estilos: {}, tools: []};\n        diente.l = {estilos: {}, tools: []};\n        diente.r = {estilos: {}, tools: []};\n        diente.c = {estilos: {}, tools: []};\n        diente.tools = [];\n        diente.tapaVisible = false;\n        diente.classTapa = '';\n        diente.protesis = 0;\n        diente.tipoprotesis = 0;\n        diente.estado = 0;\n    }\n\n    auxToggleClass(diente: any, lado: string) {\n        let cssclass = this.selectedCssClass;\n        if (this.toolSelected) {\n            if (this.operacionCapa) {\n                if (diente.tapaVisible) {\n                    diente.tapaVisible = false;\n                    diente.classTapa = '';\n                } else {\n                    diente.tapaVisible = true;\n                    if (diente.tipo === 'L') {\n                        diente.classTapa = this.classTapaLeche;\n                    } else {\n                        diente.classTapa = this.classTapa;\n                    }\n                }\n                const tools = diente.tools;\n                if (tools.includes(this.codSelectedTool)) {\n                    this.arrayUtil.removeElement(tools, this.codSelectedTool);\n                } else {\n                    tools.push(this.codSelectedTool);\n                }\n            } else {\n                const estilos = diente[lado].estilos;\n                let cssprop = 'fondo';\n                if (cssclass === 'caries-grande' || cssclass === 'caries-pequenio' || cssclass === 'caries-mediano') {\n                    if (this.arrayUtil.contains(Object.values(estilos), 'obturado-grande')) {\n                        cssprop = 'borde';\n                        cssclass = 'caries-grande-borde';\n                    }\n                }\n                if (estilos[cssprop]) {\n                    delete estilos[cssprop];\n                } else {\n                    estilos[cssprop] = cssclass;\n                }\n                diente[lado].tools = [];\n                Object.values(estilos).forEach(it => {\n                    const idtoolit = this.getCodToolFromEstilo(it.toString());\n                    if (idtoolit) {\n                        diente[lado].tools.push(idtoolit);\n                    }\n                });\n\n                if (diente[lado].tools.length === 1) {\n                    const codtoold = diente[lado].tools[0];\n                    if (codtoold === 14 || codtoold === 16 || codtoold === 17) {\n                        if (codtoold === 14) {\n                            diente[lado].estilos = {fondo: 'caries-grande'};\n                        } else if (codtoold === 16) {\n                            diente[lado].estilos = {fondo: 'caries-pequenio'};\n                        } else if (codtoold === 17) {\n                            diente[lado].estilos = {fondo: 'caries-mediano'};\n                        }\n                    }\n                }\n            }\n        } else {\n            this.swalService.fireToastWarn('Primero seleccione una herramienta');\n        }\n    }\n\n    toggleClassTop(diente: any) {\n        this.auxToggleClass(diente, 't');\n    }\n\n    toggleClassBottom(diente: any) {\n        this.auxToggleClass(diente, 'b');\n    }\n\n    toggleClassLeft(diente: any) {\n        this.auxToggleClass(diente, 'l');\n    }\n\n    toggleClassRight(diente: any) {\n        this.auxToggleClass(diente, 'r');\n    }\n\n    toggleClassCenter(diente: any) {\n        this.auxToggleClass(diente, 'c');\n    }\n\n    cssSelectedTool(idTool) {\n        return this.codSelectedTool === idTool ? 'btn-success' : 'btn-outline-secondary';\n    }\n\n    getCodToolFromEstilo(estilo: string) {\n        let codtool = 0;\n        switch (estilo) {\n            case 'caries-grande':\n                codtool = 14;\n                break;\n            case 'caries-pequenio':\n                codtool = 16;\n                break;\n            case 'caries-mediano':\n                codtool = 17;\n                break;\n            case 'obturado-mediano':\n                codtool = 19;\n                break;\n            case 'obturado-grande':\n                codtool = 13;\n                break;\n            case 'caries-grande-borde':\n                codtool = 14;\n                break;\n            default:\n                codtool = null;\n                break;\n        }\n        return codtool;\n    }\n\n    selectTool(idTool) {\n        this.codSelectedTool = idTool;\n        this.toolSelected = this.tools[idTool];\n        this.operacionCapa = false;\n        if (this.toolSelected.cssClass) {\n            this.selectedCssClass = this.toolSelected.cssClass;\n        }\n        if (this.toolSelected.classTapa) {\n            this.operacionCapa = true;\n            this.classTapa = this.toolSelected.classTapa;\n        }\n        if (this.toolSelected.classTapaLeche) {\n            this.operacionCapa = true;\n            this.classTapaLeche = this.toolSelected.classTapaLeche;\n        }\n    }\n\n    isDienteModif(diente: any) {\n        if (diente.tools.length > 0) {\n            return true;\n        }\n        return Object.values(diente.t.estilos).length > 0 ||\n            Object.values(diente.b.estilos).length > 0 ||\n            Object.values(diente.l.estilos).length > 0 ||\n            Object.values(diente.r.estilos).length > 0 ||\n            Object.values(diente.c.estilos).length > 0;\n    }\n\n    getNextCuadr(currentCuadr) {\n        let nextCuadr = null;\n        switch (currentCuadr) {\n            case 'A': {\n                nextCuadr = 'B';\n                break;\n            }\n            case 'B': {\n                nextCuadr = 'C';\n                break;\n            }\n            case 'C': {\n                nextCuadr = 'D';\n                break;\n            }\n            case 'D': {\n                nextCuadr = null;\n                break;\n            }\n            default: {\n                nextCuadr = null;\n                break;\n            }\n        }\n        return nextCuadr;\n    }\n\n    getPreviusCuadr(currentCuadr) {\n        let backCuadr = null;\n        switch (currentCuadr) {\n            case 'A': {\n                backCuadr = null;\n                break;\n            }\n            case 'B': {\n                backCuadr = 'A';\n                break;\n            }\n            case 'C': {\n                backCuadr = 'B';\n                break;\n            }\n            case 'D': {\n                backCuadr = 'C';\n                break;\n            }\n            default: {\n                backCuadr = null;\n                break;\n            }\n        }\n        return backCuadr;\n    }\n\n    nextDiente() {\n        if (this.dienteSelected) {\n            this.guardarOdontograma(true);\n            const cuandrante = this.dienteSelected.cdr;\n            if (this.dentadura[cuandrante]) {\n                const indexDS = this.dentadura[cuandrante].indexOf(this.dienteSelected);\n                if (indexDS !== -1 && indexDS < (this.dentadura[cuandrante].length - 1)) {\n                    this.dienteSelected = this.dentadura[cuandrante][indexDS + 1];\n                    this.updateStatebuttons();\n                } else {\n                    const nextCuadr = this.getNextCuadr(cuandrante);\n                    if (nextCuadr) {\n                        this.dienteSelected = this.dentadura[nextCuadr][0];\n                        this.updateStatebuttons();\n                    } else {\n                        alert('Llegasta al final');\n                    }\n                }\n            }\n        }\n    }\n\n    backDiente() {\n        if (this.dienteSelected) {\n            this.guardarOdontograma(true);\n            const cuandrante = this.dienteSelected.cdr;\n            if (this.dentadura[cuandrante]) {\n                const indexDS = this.dentadura[cuandrante].indexOf(this.dienteSelected);\n                if (indexDS !== -1 && indexDS > 0) {\n                    this.dienteSelected = this.dentadura[cuandrante][indexDS - 1];\n                    this.updateStatebuttons();\n                } else {\n                    const backCuadr = this.getPreviusCuadr(cuandrante);\n                    if (backCuadr) {\n                        const cuadrlen = this.dentadura[backCuadr].length;\n                        this.dienteSelected = this.dentadura[backCuadr][cuadrlen - 1];\n                        this.updateStatebuttons();\n                    } else {\n                        alert('Se alcanzó el inicio');\n                    }\n                }\n            }\n        }\n    }\n\n    checkUncheckTool(idTool: number) {\n        this.toolsDienteServ.checkUncheckTool(idTool, this.dienteSelected);\n    }\n\n    cssMarkedTool(idTool: number) {\n        return this.dienteSelected.tools.indexOf(idTool) >= 0 ? 'btn-success' : 'btn-outline-secondary';\n    }\n\n    cerrarDialogDiente() {\n        this.modalPiezaVisible = false;\n        this.dienteSelected = null;\n        this.guardarOdontograma(true);\n    }\n\n    showModalProtesis() {\n        this.dientesProtesis = [];\n        this.tipoProtesisSel = null;\n        this.zonaProtesisSel = null;\n        this.tipoPiezaSel = null;\n        this.estadoProtesisSel = null;\n        this.modalCreaProtesis = true;\n    }\n\n    closeModalProtesis() {\n        this.modalCreaProtesis = false;\n    }\n\n    loadDientesForProtesis(startA, endA, startB, endB, issel, tipo) {\n        this.dientesProtesis = [];\n        for (let i = startA; i >= endA; i--) {\n            this.dientesProtesis.push({value: i, sel: issel, tipo});\n        }\n        for (let i = startB; i <= endB; i++) {\n            this.dientesProtesis.push({value: i, sel: issel, tipo});\n        }\n    }\n\n    onZonaProtChange($event: any) {\n        const issel = this.tipoProtesisSel === 3;\n        const tipo = this.tiposPiezas[0].value;\n        if (this.zonaProtesisSel === 1) {\n            this.loadDientesForProtesis(18, 11, 21, 28, issel, tipo);\n        } else {\n            this.loadDientesForProtesis(48, 41, 31, 38, issel, tipo);\n        }\n    }\n\n    getDientesProtesisMarked() {\n        return this.dientesProtesis.filter(it => it.sel);\n    }\n\n    dientesProtesisMarked() {\n        return this.getDientesProtesisMarked().length > 0;\n    }\n\n    creaProtesis() {\n        const dientprot = this.getDientesProtesisMarked();\n        if (dientprot.length > 0) {\n            dientprot.forEach(e => {\n                // Esto es el tipo de pieza si es protesis o retenedor\n                if (e.tipo === 2) {\n                    e.protesis = -1;\n                } else {\n                    e.protesis = this.estadoProtesisSel;\n                    e.tipoprotesis = this.tipoProtesisSel;\n                }\n                const itdiente = this.toolsDienteServ.buscaPiezaDental(this.dentadura, e.value);\n                if (itdiente) {\n                    itdiente.protesis = e.protesis;\n                    if (e.protesis !== -1) {\n                        itdiente.tipoprotesis = e.tipoprotesis;\n                    }\n                }\n            });\n            const newprotesis = {\n                numero: this.protesisList.length + 1,\n                piezas: dientprot.filter(e => e.tipo === 1).map(x => x.value),\n                retens: dientprot.filter(e => e.tipo === 2).map(x => x.value),\n                tipo: this.tiposProtesis[this.tipoProtesisSel - 1].label,\n                estado: this.estadosProtesis[this.estadoProtesisSel - 1].label\n            };\n            this.protesisList.push(newprotesis);\n            this.modalCreaProtesis = false;\n        }\n    }\n\n    onMouseDownProtDiente(it: any) {\n        if (this.tipoPiezaSel && this.tipoProtesisSel < 3) {\n            it.sel = true;\n            it.tipo = this.tipoPiezaSel;\n            this.iniciaSelProt = true;\n        }\n    }\n\n    onMouseOverProtDiente(it: any) {\n        if (this.iniciaSelProt && this.tipoProtesisSel < 3) {\n            it.sel = true;\n            it.tipo = this.tipoPiezaSel;\n        }\n    }\n\n    onMouseUpProtDiente(it: any) {\n        if (this.iniciaSelProt && this.tipoProtesisSel < 3) {\n            it.sel = true;\n            it.tipo = this.tipoPiezaSel;\n            this.iniciaSelProt = false;\n\n            if (this.tipoProtesisSel === 2) {\n                this.tipoPiezaSel = 1;\n            }\n        }\n    }\n\n    limpiarSelProtesis() {\n        this.dientesProtesis.forEach(e => {\n            e.sel = false;\n        });\n    }\n\n    onTipoProtesisChange($event: any) {\n        this.tipoPiezaSel = this.tiposPiezas[0].value;\n        this.estadoProtesisSel = null;\n        this.zonaProtesisSel = null;\n    }\n\n    onEstadoProtesisSel($event: any) {\n    }\n\n    clearProtesis(protesis: any) {\n        protesis.piezas.forEach(x => {\n            const piezadental = this.toolsDienteServ.buscaPiezaDental(this.dentadura, x);\n            if (piezadental) {\n                piezadental.protesis = 0;\n            }\n        });\n\n        protesis.retens.forEach(x => {\n            const piezadental = this.toolsDienteServ.buscaPiezaDental(this.dentadura, x);\n            if (piezadental) {\n                piezadental.protesis = 0;\n            }\n        });\n        this.arrayUtil.removeElement(this.protesisList, protesis);\n    }\n\n    guardarOdontograma(silent = false) {\n        this.formOdontograma.od_tipo = this.tipodontograma;\n        this.formOdontograma.od_odontograma = JSON.stringify(this.dentadura);\n        this.formOdontograma.od_protesis = JSON.stringify(this.protesisList);\n        this.formOdontograma.od_obs = this.obsodontograma;\n        if (this.formOdontograma.pac_id) {\n            if (!silent) {\n                this.loadingUiService.publishBlockMessage();\n            }\n            this.odontoService.guardar(this.formOdontograma).subscribe(res => {\n                if (res.status === 200) {\n                    if (!silent) {\n                        this.swalService.fireToastSuccess(res.msg);\n                    }\n                    this.formOdontograma.od_id = res.od_id;\n                }\n            });\n        } else {\n            this.swalService.fireToastError('Primero debe registrar el paciente antes de registrar el odontograma');\n        }\n    }\n\n    onModalPiezaHide($event: any) {\n        this.guardarOdontograma(true);\n    }\n\n    saveOdontoSilent() {\n        this.guardarOdontograma(false);\n    }\n\n    changeState($event: MouseEvent) {\n        $event.preventDefault();\n        const result = this.toolsDienteServ.changeState(this.dienteSelected);\n        if (result) {\n            this.saveChangeState();\n        }\n    }\n\n    saveChangeState() {\n        this.guardarOdontograma(false);\n        this.updateStatebuttons();\n    }\n\n    changeStateExt($event: MouseEvent) {\n        $event.preventDefault();\n        const result = this.toolsDienteServ.changeStateExt(this.dienteSelected);\n        if (result) {\n            this.saveChangeState();\n        }\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {ArrayutilService} from '../../../services/arrayutil.service';\nimport {ToolsDienteService} from '../../../services/toolsdiente.service';\n\n@Component({\n    selector: 'app-piezadental',\n    template: `\n        <div class=\"contdienteimg {{getSizeDiente()}} dnt_{{diente.numero}} hand\"\n             (click)=\"raiseClicEvent($event)\">\n            <img src=\"assets/imgs/dienteodonto/{{diente.numero}}_df.png\" alt=\"\"\n                 class=\"diente_blank {{getPosDiente()}} {{dienteIsExtract()?'pdextraccion':''}}\"\n                 *ngIf=\"!dienteHasImplante()\">\n            <img *ngIf=\"dienteHasEndo()\"\n                 src=\"assets/imgs/dienteodonto/{{getTipoEndo()}}\" alt=\"\"\n                 class=\"raiz_{{diente.numero}}\">\n            <img *ngIf=\"dienteHasImplante()\"\n                 src=\"assets/imgs/dienteodonto/implante.png\" alt=\"Implante\"\n                 class=\"perno_{{diente.numero}}\">\n            <img *ngIf=\"dienteHasCorona()\"\n                 src=\"assets/imgs/dienteodonto/{{getTipoCorona()}}\" alt=\"\"\n                 class=\"corona_{{diente.numero}}\">\n            <img *ngIf=\"dienteIsProt()\"\n                 src=\"assets/imgs/dienteodonto/{{getTipoProt()}}\" alt=\"\"\n                 class=\"cara_{{diente.numero}}\">\n            <img *ngIf=\"dienteIsReten()\"\n                 src=\"assets/imgs/retens/{{diente.numero}}.png\" alt=\"\"\n                 class=\"reten_{{diente.numero}}\">\n            <img *ngIf=\"isDienteSano()\" src=\"/assets/imgs/dientesano.png\" alt=\"\"\n                 class=\"ds_{{diente.numero}}\">\n        </div>\n    `\n})\nexport class PiezadentalComponent implements OnInit {\n\n    @Input() diente: any;\n    @Output() ondienteclic = new EventEmitter<any>();\n\n    constructor(private arrayUtil: ArrayutilService,\n                private dienteServ: ToolsDienteService) {\n    }\n\n    ngOnInit(): void {\n    }\n\n    dienteHasImplante() {\n        return this.arrayUtil.contains(this.diente.tools, 15);\n    }\n\n    dienteHasEndo() {\n        return this.arrayUtil.contains(this.diente.tools, 6) || this.arrayUtil.contains(this.diente.tools, 7);\n    }\n\n    dienteHasCorona() {\n        return this.arrayUtil.contains(this.diente.tools, 11) || this.arrayUtil.contains(this.diente.tools, 12);\n    }\n\n    getTipoEndo() {\n        return this.diente.numero + '_' + (this.arrayUtil.contains(this.diente.tools, 7) ? 'ea' : 'er') + '.png';\n    }\n\n    getTipoCorona() {\n        return this.diente.numero + '_' + (this.arrayUtil.contains(this.diente.tools, 11) ? 'cn' : 'cr') + '.png';\n    }\n\n    isDienteSano() {\n        return this.arrayUtil.contains(this.diente.tools, 18);\n    }\n\n    getTipoProt() {\n        return this.diente.numero + '_' + (this.diente.protesis ? (this.diente.protesis === 1 ? 'azul' : 'rojo') : 'azul') + '.png';\n    }\n\n    getSizeDiente() {\n        let size = 'dntbig';\n        if (this.arrayUtil.contains([11, 12, 13, 14, 15, 21, 22, 23, 24, 25, 42, 43, 45, 32, 33, 35],\n            this.diente.numero)) {\n            size = 'dntsmall';\n        } else if (this.arrayUtil.contains([41, 31, 34, 44], this.diente.numero)) {\n            size = 'dntxsmall';\n        }\n        return size;\n    }\n\n    getPosDiente() {\n        let pos = 'dtninf';\n        if (this.arrayUtil.contains([11, 12, 13, 14, 15, 16, 17, 18, 21, 22, 23, 24, 25, 26, 27, 28],\n            this.diente.numero)) {\n            pos = 'dntsup';\n        }\n\n        return pos;\n    }\n\n    dienteIsExtract() {\n        return this.dienteIsProt() || this.arrayUtil.contains(this.diente.tools, 4) || this.arrayUtil.contains(this.diente.tools, 3);\n    }\n\n    raiseClicEvent($event: MouseEvent) {\n        if (!this.dienteIsProt()) {\n            this.ondienteclic.emit(this.diente);\n        }\n    }\n\n    dienteIsProt() {\n        return this.dienteServ.dienteIsProt(this.diente);\n    }\n\n    dienteIsReten() {\n        return this.diente.protesis ? this.diente.protesis < 0 : false;\n    }\n\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {ArrayutilService} from '../../../services/arrayutil.service';\nimport {ToolsDienteService} from '../../../services/toolsdiente.service';\n\n@Component({\n    selector: 'app-diagnospieza',\n    template: `\n        <div class=\" d-flex flex-wrap justify-content-start\">\n            <div class=\"d-flex flex-wrap justify-content-start\"\n                 *ngIf=\"itdiente.t.tools&&itdiente.t.tools.length>0\">\n                <div *ngFor=\"let idtool of itdiente.t.tools\" class=\"m-1\">\n                                            <span class=\"p-1 tooldientetxt border border-secondary rounded-start\">\n                                                {{getDescLadoDiente(itdiente, 't')}}:\n                                                {{tools[idtool] ? tools[idtool].nombre : ''}}</span>\n                    <span title=\"Quitar\" (click)=\"quitarToolLado(itdiente, idtool,'t')\"\n                          class=\"hand tooldientetxt border p-1 border-secondary rounded-end\"> <i\n                            class=\"fa fa-times-circle\"></i> </span>\n                </div>\n            </div>\n            <div class=\"d-flex flex-wrap justify-content-start\"\n                 *ngIf=\"itdiente.b.tools&&itdiente.b.tools.length>0\">\n                <div *ngFor=\"let idtool of itdiente.b.tools\" class=\"m-1\">\n                                            <span class=\"p-1  tooldientetxt border border-secondary rounded-start\">\n                                                {{getDescLadoDiente(itdiente, 'b')}}:\n                                                {{tools[idtool] ? tools[idtool].nombre : ''}}</span>\n                    <span title=\"Quitar\" (click)=\"quitarToolLado(itdiente, idtool,'b')\"\n                          class=\"hand tooldientetxt border p-1 border-secondary rounded-end\"> <i\n                            class=\"fa fa-times-circle\"></i> </span>\n                </div>\n            </div>\n            <div class=\"d-flex flex-wrap justify-content-start\"\n                 *ngIf=\"itdiente.l.tools&&itdiente.l.tools.length>0\">\n                <div *ngFor=\"let idtool of itdiente.l.tools\" class=\"m-1\">\n                                            <span class=\"p-1 tooldientetxt border border-secondary rounded-start\">\n                                                {{getDescLadoDiente(itdiente, 'l')}}:\n                                                {{tools[idtool] ? tools[idtool].nombre : ''}}</span>\n                    <span title=\"Quitar\" (click)=\"quitarToolLado(itdiente, idtool,'l')\"\n                          class=\"hand tooldientetxt border p-1 border-secondary rounded-end\"> <i\n                            class=\"fa fa-times-circle\"></i> </span>\n                </div>\n            </div>\n            <div class=\"d-flex flex-wrap justify-content-start\"\n                 *ngIf=\"itdiente.r.tools&&itdiente.r.tools.length>0\">\n                <div *ngFor=\"let idtool of itdiente.r.tools\" class=\"m-1\">\n                                            <span class=\"p-1 tooldientetxt border border-secondary rounded-start\">\n                                                {{getDescLadoDiente(itdiente, 'r')}}:\n                                                {{tools[idtool] ? tools[idtool].nombre : ''}}</span>\n                    <span title=\"Quitar\" (click)=\"quitarToolLado(itdiente, idtool,'r')\"\n                          class=\"hand tooldientetxt border p-1 border-secondary rounded-end\"> <i\n                            class=\"fa fa-times-circle\"></i> </span>\n                </div>\n            </div>\n            <div class=\"d-flex flex-wrap justify-content-start\"\n                 *ngIf=\"itdiente.c.tools&&itdiente.c.tools.length>0\">\n                <div *ngFor=\"let idtool of itdiente.c.tools\" class=\"m-1\">\n                                            <span class=\"p-1 tooldientetxt border border-secondary rounded-start\">\n                                                {{getDescLadoDiente(itdiente, 'c')}}:\n                                                {{tools[idtool] ? tools[idtool].nombre : ''}}</span>\n                    <span title=\"Quitar\" (click)=\"quitarToolLado(itdiente, idtool,'c')\"\n                          class=\"hand tooldientetxt border p-1 border-secondary rounded-end\"> <i\n                            class=\"fa fa-times-circle\"></i> </span>\n                </div>\n            </div>\n            <div class=\"d-flex flex-wrap justify-content-start\"\n                 *ngIf=\"itdiente.tools&&itdiente.tools.length>0\">\n                <div *ngFor=\"let idtool of itdiente.tools\" class=\"m-1\">\n                    <span class=\"p-1 tooldientetxt border border-secondary rounded-start\"> {{tools[idtool] ? tools[idtool].nombre : ''}}</span>\n                    <span title=\"Quitar\" (click)=\"quitarTool(itdiente, idtool)\"\n                          class=\"hand tooldientetxt border p-1 border-secondary rounded-end\"> <i\n                            class=\"fa fa-times-circle\"></i> </span>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class RowdiagnospiezaComponent implements OnInit {\n\n    @Input() itdiente: any;\n\n    configA: any;\n    configB: any;\n    configC: any;\n    configD: any;\n    tools: any;\n\n    constructor(private arrayUtil: ArrayutilService, private  toolsDienteServ: ToolsDienteService) {\n        this.tools = this.toolsDienteServ.getTools();\n        const configs = this.toolsDienteServ.getConfigs();\n        this.configA = configs.configA;\n        this.configB = configs.configB;\n        this.configC = configs.configC;\n        this.configD = configs.configD;\n    }\n\n    ngOnInit(): void {\n\n    }\n\n\n    getDescLadoDiente(diente: any, lado: string) {\n        const cuadrante = diente.cdr;\n        let config;\n        switch (cuadrante) {\n            case 'A':\n                config = this.configA;\n                break;\n            case 'B':\n                config = this.configB;\n                break;\n            case 'C':\n                config = this.configC;\n                break;\n            case 'D':\n                config = this.configD;\n                break;\n            default:\n                config = this.configA;\n                break;\n        }\n        if (config) {\n            return config[lado];\n        }\n        return 'Lado';\n    }\n\n    quitarToolLado(diente, idTool, lado) {\n        this.arrayUtil.removeElement(diente[lado].tools, idTool);\n        this.updateEstilosFromTools(diente, lado);\n    }\n\n    updateEstilosFromTools(diente, lado) {\n        const tools = diente[lado].tools;\n        const tieneObturado = this.arrayUtil.contains(tools, 13);\n        diente[lado].estilos = [];\n        const estilos = diente[lado].estilos;\n        tools.forEach(idtool => {\n            const escaries = idtool === 14 || idtool === 16 || idtool === 17;\n            let prop = 'fondo';\n            let estilo = this.getEstiloFromCodTool(idtool);\n            if (tieneObturado && escaries) {\n                prop = 'borde';\n                estilo = 'caries-grande-borde';\n            }\n            estilos[prop] = estilo;\n        });\n    }\n\n    getEstiloFromCodTool(codtool) {\n        let estilo = '';\n        switch (codtool) {\n            case 14:\n                estilo = 'caries-grande';\n                break;\n            case 16:\n                estilo = 'caries-pequenio';\n                break;\n            case 17:\n                estilo = 'caries-mediano';\n                break;\n            case 19:\n                estilo = 'obturado-mediano';\n                break;\n            case 13:\n                estilo = 'obturado-grande';\n                break;\n            default:\n                estilo = '';\n                break;\n        }\n        return estilo;\n    }\n\n    quitarTool(diente, idtool: any) {\n        this.toolsDienteServ.checkUncheckTool(idtool, diente);\n    }\n}\n","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {RecetaService} from '../../services/receta.service';\nimport {LoadingUiService} from '../../services/loading-ui.service';\nimport {PersonaService} from '../../services/persona.service';\nimport {SwalService} from '../../services/swal.service';\nimport {DomService} from '../../services/dom.service';\n\n@Component({\n    selector: 'app-recetas',\n    template: `\n        <div>\n            <div *ngIf=\"showForm\" class=\"mb-3\">\n                <div class=\"row\">\n                    <div class=\"col-md-8 offset-md-2\">\n                        <div class=\"card border-success\">\n                            <div class=\"card-header\">\n                                <span class=\"fw-bold\">\n                                    {{form.rec_id > 0 ? 'Editar receta' : 'Crear receta'}}\n                                </span>\n                            </div>\n                            <div class=\"card-body\">\n                                <div class=\"d-flex flex-column\" *ngIf=\"form.rec_id===0\"><span>Recetado por:</span>\n                                    <div class=\"p-fluid\">\n                                        <p-dropdown [options]=\"medicos\" [showClear]=\"true\"\n                                                    placeholder=\"Seleccione el/la profesional a cargo\" filter=\"true\"\n                                                    (onChange)=\"onMedicoChange($event)\" optionLabel=\"nomapel\"\n                                                    optionValue=\"per_id\" [(ngModel)]=\"form.med_id\"></p-dropdown>\n                                    </div>\n                                </div>\n                                <div class=\"mt-2 d-flex flex-column\"><span>Receta:</span>\n                                    <div class=\"p-fluid\">\n                                        <textarea class=\"form-control\" [(ngModel)]=\"form.rec_receta\"\n                                                  rows=\"8\" id=\"recetaTA\">\n                                        </textarea>\n                                    </div>\n                                </div>\n                                <div class=\"mt-2 d-flex flex-column\"><span>Indicaciones:</span>\n                                    <div class=\"p-fluid\">\n                                        <textarea class=\"form-control\" [(ngModel)]=\"form.rec_indicaciones\"\n                                                  rows=\"8\">\n                                        </textarea>\n                                    </div>\n                                </div>\n                                <div class=\"mt-2 d-flex flex-column\"><span>Recomendaciones:</span>\n                                    <div class=\"p-fluid\">\n                                        <textarea class=\"form-control\" [(ngModel)]=\"form.rec_recomdciones\"\n                                                  rows=\"3\">\n                                        </textarea>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"card-footer\">\n                                <div class=\"d-flex justify-content-around\">\n                                    <button class=\"btn btn-outline-primary\" (click)=\"guardar()\"><i\n                                            class=\"fa fa-save\"></i> Guardar\n                                    </button>\n                                    <button class=\"btn btn-outline-secondary\" (click)=\"cancelar()\"><i\n                                            class=\"fa fa-times\"></i> Cancelar\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <div class=\"row\">\n                    <div class=\"col-md-10\">\n                        <div class=\"card\">\n                            <ul class=\"list-group list-group-flush\">\n                                <li class=\"list-group-item\" *ngFor=\"let receta of recetas\">\n                                    <div>\n                                        <span class=\"text-muted\">{{receta.rec_fechacrea}}</span></div>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-6 d-flex flex-column\"><span class=\"text-muted\">Receta:</span>\n                                            <p style=\"white-space: pre-line\">{{receta.rec_receta}}</p>\n                                        </div>\n                                        <div class=\"col-md-6 d-flex flex-column\"><span\n                                                class=\"text-muted\">Indicaciones:</span>\n                                            <p style=\"white-space: pre-line\">{{receta.rec_indicaciones}}</p>\n                                        </div>\n                                    </div>\n                                    <div class=\"row\">\n                                        <div class=\"col-md-10\">\n                                            <div class=\"d-flex flex-column\" *ngIf=\"receta.rec_recomdciones\">\n                                                <span class=\"text-muted\">Recomendaciones:</span>\n                                                <p>{{receta.rec_recomdciones}}</p>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-2 d-flex flex-column justify-content-end\">\n                                            <div class=\"d-flex flex-row-reverse\">\n                                                <button class=\"ms-2 btn btn-outline-secondary btn-sm\"\n                                                        (click)=\"imprimir(receta)\"\n                                                        title=\"Imprimir\">\n                                                    <i class=\"fa fa-print\"></i>\n                                                </button>\n                                                <button class=\"ms-2 btn btn-outline-secondary btn-sm\"\n                                                        (click)=\"anular(receta)\"\n                                                        title=\"Anular \">\n                                                    <i class=\"fa fa-trash\"></i>\n                                                </button>\n                                                <button class=\"ms-2 btn btn-outline-secondary btn-sm\"\n                                                        (click)=\"editar(receta)\"\n                                                        title=\"Editar \">\n                                                    <i class=\"fa fa-edit\"></i>\n                                                </button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n                            </ul>\n                            <div class=\"card-body\" *ngIf=\"recetas.length===0\">\n                                <div class=\"pt-5 pb-5\">\n                                    <h4 class=\"text-muted\">No hay registros</h4>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-2\" *ngIf=\"!showForm\">\n                        <button class=\"btn btn-outline-primary\" (click)=\"loadForm()\">Crear <i\n                                class=\"fa fa-plus-circle\"></i></button>\n                    </div>\n                </div>\n            </div>\n        </div>      `\n})\nexport class RecetasComponent implements OnInit, OnChanges {\n    @Input() codPaciente: number;\n\n    recetas: Array<any>;\n    form: any;\n    medicos: Array<any>;\n    showForm: boolean;\n\n    constructor(private recetaServ: RecetaService,\n                private personServ: PersonaService,\n                private domService: DomService,\n                private swalServ: SwalService,\n                private loadingServ: LoadingUiService) {\n\n    }\n\n    ngOnInit(): void {\n        this.recetas = [];\n        this.medicos = [];\n        this.form = {};\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const pacchange = changes.codPaciente;\n        const codcurrentvalue = pacchange.currentValue;\n        if (codcurrentvalue !== null) {\n            this.loadRecetas();\n        }\n    }\n\n    loadRecetas() {\n        this.loadingServ.publishBlockMessage();\n        this.recetaServ.listar(this.codPaciente).subscribe(res => {\n            if (res.status === 200) {\n                this.recetas = res.items;\n            }\n        });\n    }\n\n    loadForm() {\n        this.showForm = true;\n        this.recetaServ.getForm().subscribe(res => {\n            if (res.status === 200) {\n                this.form = res.form;\n                this.form.pac_id = this.codPaciente;\n                this.domService.setFocusTm('recetaTA', 100);\n            }\n        });\n        this.personServ.listarMedicos(2).subscribe(resm => {\n            if (resm.status === 200) {\n                this.medicos = resm.medicos;\n                if (this.medicos.length > 0) {\n                    this.form.med_id = this.medicos[0].per_id;\n                }\n            }\n        });\n    }\n\n    guardar() {\n        if (this.form.rec_receta.trim().length === 0) {\n            this.swalServ.fireToastError('Por favor ingrese la receta');\n        } else if (this.form.rec_indicaciones.trim().length === 0) {\n            this.swalServ.fireToastError('Por favor ingrese las indicaciones de la receta');\n        } else {\n            this.recetaServ.guardar(this.form).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalServ.fireToastSuccess(res.msg);\n                    this.loadRecetas();\n                    this.showForm = false;\n                    this.imprimir({rec_id: res.rec_id});\n                }\n            });\n        }\n    }\n\n    anular(row) {\n        this.swalServ.fireDialog('¿Seguro que desea anular esta receta?').then(confirm => {\n                if (confirm.value) {\n                    this.recetaServ.anular(row).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalServ.fireToastSuccess(res.msg);\n                            this.loadRecetas();\n                        }\n                    });\n                }\n            }\n        );\n    }\n\n    editar(row) {\n        this.loadingServ.publishBlockMessage();\n        this.personServ.listarMedicos(2).subscribe(resm => {\n            if (resm.status === 200) {\n                this.medicos = resm.medicos;\n                this.form = row;\n                this.showForm = true;\n            }\n        });\n    }\n\n\n    cancelar() {\n        this.showForm = false;\n    }\n\n    onMedicoChange($event: any) {\n\n    }\n\n    imprimir(receta: any) {\n        this.recetaServ.imprimir(receta.rec_id);\n    }\n}\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {LocalStorageService} from '../../services/local-storage.service';\n\n@Component({\n    selector: 'app-resumenpac',\n    template: `\n        <div class=\"card\"\n             *ngIf=\"paciente.per_id>0\">\n            <div class=\"card-body\">\n                <div class=\"d-flex w-100 justify-content-between align-items-center\">\n                    <div style=\"padding:1px 15px !important; width: 10%\">\n                        <img src=\"assets/imgs/{{paciente.per_genero===2?'female.png':'male.png'}}\"\n                             alt=\"Avatar\">\n                    </div>\n                    <div style=\"width: 90%\">\n                        <div class=\"d-flex flex-row\">\n                            <div class=\"w-50\">\n                                <h5 class=\"quitaPaddingMargin\">\n                                    {{paciente.per_nombres + ' ' + paciente.per_apellidos}}\n                                </h5>\n                                <h6 class=\"quitaPaddingMargin\">\n                                    {{paciente.per_ciruc}}\n                                </h6>\n                                <h6 class=\"quitaPaddingMargin\">{{paciente.per_fechanac}} - {{paciente.per_edad.years}}\n                                    año(s),{{paciente.per_edad.months}} mes(es),{{paciente.per_edad.days}} dia(s)</h6>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"card-footer d-flex flex-row justify-content-between\">\n                <div>\n                    <ul class=\"nav nav-pills\">\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':1===selectedMasterTab}\"\n                               (click)=\"selectMasterTab(1, $event)\">\n                                Ficha Clínica</a>\n                        </li>\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':2===selectedMasterTab}\"\n                               (click)=\"selectMasterTab(2, $event)\">\n                                Plan de Tratamiento</a>\n                        </li>\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':3===selectedMasterTab}\"\n                               (click)=\"selectMasterTab(3, $event)\">\n                                Facturas</a>\n                        </li>\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':5===selectedMasterTab}\"\n                               (click)=\"selectMasterTab(5, $event)\">\n                                Cuentas por cobrar</a>\n                        </li>\n                    </ul>\n                </div>\n                <div>\n                    <ul class=\"nav nav-pills\">\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link\" href=\"#\" [ngClass]=\"{'active':4===selectedMasterTab}\"\n                               (click)=\"selectMasterTab(4, $event)\">\n                                <i class=\"fa fa-calendar\"></i>\n                                Dar Cita</a>\n                        </li>\n                        <li class=\"nav-item\">\n                            <a class=\"nav-link\" href=\"#\" (click)=\"cerrar($event)\">\n                                <i class=\"fa fa-times\"></i>\n                                Cerrar</a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class ResumenPacienteComponent implements OnInit {\n    @Input() paciente: any;\n    @Output() evSelectMasterTab = new EventEmitter<any>();\n    @Output() evCerrarResumen = new EventEmitter<any>();\n    @Input() selectedMasterTab: number;\n\n    constructor(private lclStrgServ: LocalStorageService) {\n\n    }\n\n    ngOnInit(): void {\n        this.selectedMasterTab = 1;\n    }\n\n    selectMasterTab(tab: number, event: Event) {\n        if (tab === 4) {\n            this.lclStrgServ.setItem('PAC_FOR_CAL', JSON.stringify(this.paciente));\n        }\n        this.selectedMasterTab = tab;\n        event.preventDefault();\n        this.evSelectMasterTab.emit(tab);\n    }\n\n    cerrar(event: MouseEvent) {\n        event.preventDefault();\n        this.evCerrarResumen.emit();\n    }\n}\n\n","<div style=\"margin-bottom: 10px\">\n    <div *ngIf=\"!showfiltro\" class=\"d-flex justify-content-start\">\n        <button class=\"btn btn-outline-primary\" (click)=\"toggleShowFiltro()\"><i class=\"fa fa-filter\"></i> Filtrar\n        </button>\n    </div>\n    <div class=\"row d-flex align-items-end\" *ngIf=\"showfiltro\">\n        <div class=\"col-md-4\">\n            <div class=\"d-flex justify-content-center\">\n                <div>\n                    <p class=\"quitaPaddingMargin\">Desde:</p>\n                    <p-calendar [showIcon]=\"true\"\n                                [(ngModel)]=\"desde\"\n                                [monthNavigator]=\"true\" [yearNavigator]=\"true\"\n                                yearRange=\"2019:2050\"\n                                dateFormat=\"dd/mm/yy\"></p-calendar>\n                </div>\n                <div>\n                    <p class=\"quitaPaddingMargin\">Hasta:</p>\n                    <p-calendar [showIcon]=\"true\"\n                                [(ngModel)]=\"hasta\"\n                                [monthNavigator]=\"true\" [yearNavigator]=\"true\" [minDate]=\"desde\"\n                                yearRange=\"2019:2050\"\n                                dateFormat=\"dd/mm/yy\"></p-calendar>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-5\">\n            <input class=\"form-control form-rounded\" id=\"buscaPacNomCiInput\" type=\"text\"\n                   placeholder=\"Buscar paciente por nombres o número de cédula\" [(ngModel)]=\"filtro\"\n                   (keyup)=\"onFiltroTyped()\">\n        </div>\n        <div class=\"col-md-3\">\n            <div class=\"d-flex justify-content-around\">\n                <button class=\"btn btn-primary\" (click)=\"buscar()\"><i class=\"fa fa-search\"></i> Buscar\n                </button>\n                <button class=\"btn btn-outline-primary\" (click)=\"toggleShowFiltro()\"><i class=\"fa fa-times\"></i>\n                    Cancelar\n                </button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div *ngIf=\"atencionesArray.length>0\" class=\"divpacientes rounded-lg\">\n    <div class=\"list-group\">\n        <a *ngFor=\"let item of atencionesArray\" class=\"list-group-item {{!item.tipo?'list-group-item-action hand':''}}\"\n           (click)=\"selectPaciente(item)\">\n            <span *ngIf=\"item.tipo\" class=\"text-primary\"> {{item.mes}} </span>\n            <div class=\"row\" *ngIf=\"!item.tipo\">\n                <div class=\"col-1 col-xs-1\">\n                    <img src=\"assets/imgs/{{item.genero===2?'female.png':'male.png'}}\" class=\"img-fluid\" alt=\"Avatar\">\n                </div>\n                <div class=\"col-md-5\">\n                    <p class=\"quitaPaddingMargin text-muted\"> {{item.horacreastr}} </p>\n                    <h6 class=\"mb-0\">{{item.paciente}}</h6>\n                    <p class=\"mb-0 text-muted\">\n                        <h7>{{item.per_ciruc}}</h7>\n                    </p>\n                    <p class=\"mb-0\">\n                        <h7>{{item.lugresidencia}}</h7>\n                    </p>\n                </div>\n                <div class=\"col-md-5\">\n                    <p class=\"quitaPaddingMargin text-muted\">Motivo:</p>\n                    <h7>{{item.cosm_motivo}}</h7>\n                </div>\n                <div class=\"col-1\" title=\"Ver detalles de la consulta\">\n                    <i class=\"fa fa-eye\"></i>\n                </div>\n            </div>\n        </a>\n        <a class=\"list-group-item list-group-item-action\" *ngIf=\"hasMore\">\n            <p class=\"text-center\">\n                <button class=\"btn btn-outline-primary\" (click)=\"loadMore()\"> Listar mas</button>\n            </p>\n        </a>\n    </div>\n</div>\n<div *ngIf=\"!showAnim && atencionesArray.length==0\" class=\"divpacientes rounded-lg\">\n    <div class=\"p-5\">\n        <h1 class=\"d-flex justify-content-center text-muted\">\n            <span>\n            No hay registros\n            </span>\n        </h1>\n    </div>\n</div>\n<div *ngIf=\"showAnim\">\n    <app-loading></app-loading>\n</div>\n\n<div *ngIf=\"showModalDet && tipocita===1\">\n    <p-dialog header=\"Detalles de la cita\" [modal]=\"true\" [style]=\"{width: '90vw'}\" [baseZIndex]=\"10000\"\n              [(visible)]=\"showModalDet\">\n        <app-citameddet [rowHistoriaSel]=\"rowHistoriaSel\"\n                        (closed)=\"onCerrarDetHistoria($event)\" [showFichaCli]=\"true\"></app-citameddet>\n    </p-dialog>\n</div>\n\n<div *ngIf=\"showModalDet && tipocita===2\">\n    <p-dialog header=\"Detalles de la cita\" [modal]=\"true\" [style]=\"{width: '85vw'}\" [baseZIndex]=\"10000\"\n              [(visible)]=\"showModalDet\">\n        <app-citaodontodet [codatencion]=\"rowHistoriaSel.ate_id\" (evCerrar)=\"doCerrarModalOd()\"\n                           (evShowHistoria)=\"showHistoriaOd()\"></app-citaodontodet>\n    </p-dialog>\n</div>\n","import {Component, EventEmitter, Input, OnInit, Output} from '@angular/core';\nimport {FechasService} from '../../../services/fechas.service';\nimport {CitasMedicasService} from '../../../services/citas-medicas.service';\n\n@Component({\n    selector: 'app-citashechas',\n    templateUrl: './citashechas.component.html'\n})\nexport class CitashechasComponent implements OnInit {\n    desde: Date;\n    hasta: Date;\n    filtro: string;\n    atencionesArray: Array<any>;\n    pagina: number;\n    showAnim: boolean;\n    showfiltro: boolean;\n    hasMore: boolean;\n    rowHistoriaSel: any;\n    showModalDet: boolean;\n    @Input() tipocita: number;\n    @Output() showHistoria = new EventEmitter<any>();\n\n    constructor(private fechasService: FechasService,\n                private citasMedicasServ: CitasMedicasService) {\n    }\n\n    ngOnInit(): void {\n        this.clearAll();\n        this.buscar();\n    }\n\n    clearAll() {\n        this.atencionesArray = new Array<any>();\n        this.pagina = 0;\n        this.filtro = '';\n        this.showAnim = false;\n        this.showfiltro = false;\n        this.hasMore = false;\n        this.desde = null;\n        this.hasta = null;\n        this.showModalDet = false;\n    }\n\n    toggleShowFiltro() {\n        this.showfiltro = !this.showfiltro;\n        if (!this.showfiltro) {\n            this.desde = null;\n            this.hasta = null;\n            this.filtro = '';\n            this.buscar();\n        }\n    }\n\n    onFiltroTyped() {\n    }\n\n    loadMore() {\n        let desdeStr = '';\n        let hastaStr = '';\n        if (this.desde) {\n            desdeStr = this.fechasService.formatDate(this.desde);\n        }\n        if (this.hasta) {\n            hastaStr = this.fechasService.formatDate(this.hasta);\n        }\n\n        this.showAnim = true;\n        this.citasMedicasServ.listarPrevias(this.tipocita, this.filtro, desdeStr, hastaStr, this.pagina).subscribe(res => {\n            this.showAnim = false;\n            if (res.status === 200) {\n                this.atencionesArray.push.apply(this.atencionesArray, res.items);\n                this.hasMore = res.hasMore;\n                if (res.hasMore) {\n                    this.pagina = res.nextp;\n                }\n            }\n        });\n    }\n\n    buscar() {\n        this.atencionesArray = new Array<any>();\n        this.pagina = 0;\n        this.loadMore();\n    }\n\n    selectPaciente(item: any) {\n        this.showModalDet = true;\n        this.rowHistoriaSel = item;\n    }\n\n    onCerrarDetHistoria($event: any) {\n        this.showModalDet = false;\n    }\n\n    doCerrarModalOd() {\n        this.showModalDet = false;\n    }\n\n    showHistoriaOd() {\n        this.showHistoria.emit(this.rowHistoriaSel);\n    }\n}\n","<div class=\"d-md-flex justify-content-between pt-1 pb-3 ps-2\">\n    <div class=\"d-md-flex justify-content-start\">\n        <div class=\"d-md-flex\">\n            <div class=\"btn-group btn-group-sm\" role=\"group\">\n                <button class=\"btn btn-outline-secondary btn-sm\"><span><i\n                        class=\"fa fa-filter\"></i> Filtro: </span>\n                </button>\n                <button class=\"btn btn-sm {{tipoFiltro===1?'btn-primary':'btn-outline-secondary'}}\"\n                        (click)=\"clickFiltro(1,$event)\">\n                    <i class=\"fa fa-check-circle\" *ngIf=\"tipoFiltro===1\"></i>\n                    Hoy\n                </button>\n                <button class=\"btn btn-sm {{tipoFiltro===2?'btn-primary':'btn-outline-secondary'}}\"\n                        (click)=\"clickFiltro(2,$event)\">\n                    <i class=\"fa fa-check-circle\" *ngIf=\"tipoFiltro===2\"></i>\n                    Mañana\n                </button>\n                <button class=\"btn btn-sm {{tipoFiltro===3?'btn-primary':'btn-outline-secondary'}}\"\n                        (click)=\"clickFiltro(3,$event)\">\n                    <i class=\"fa fa-check-circle\" *ngIf=\"tipoFiltro===3\"></i>\n                    Esta semana\n                </button>\n                <button class=\"btn btn-sm {{tipoFiltro===4?'btn-primary':'btn-outline-secondary'}}\"\n                        (click)=\"clickFiltro(4,$event)\">\n                    <i class=\"fa fa-check-circle\" *ngIf=\"tipoFiltro===4\"></i>\n                    Este mes\n                </button>\n            </div>\n        </div>\n\n        <div *ngIf=\"tipoFiltro>0\" class=\"ms-3\">\n            <span class=\"fontsizesm\">Filtro aplicado: {{fechasstr}}</span>\n            <button class=\"btn btn-sm btn-outline-secondary ms-2\" title=\"Limpiar filtro\"\n                    (click)=\"clearFiltro()\">\n                <i class=\"fa fa-times\"></i>\n            </button>\n        </div>\n        <div class=\"ms-3\">\n            <div class=\"p-fluid\">\n                <p-dropdown [options]=\"personsCita\"\n                            placeholder=\"Seleccione el calendario a mostrar\"\n                            filter=\"true\"\n                            [disabled]=\"disablecals\"\n                            (onChange)=\"onPersonCitaChange($event)\"\n                            optionLabel=\"referente\" optionValue=\"pc_id\"\n                            [(ngModel)]=\"personCitaSel\"></p-dropdown>\n            </div>\n        </div>\n    </div>\n    <button class=\"btn btn-sm btn-outline-primary\" (click)=\"gotoCalendar()\"><i class=\"fa fa-calendar\"></i> Ver\n        calendario\n    </button>\n</div>\n\n<h6 class=\"fontsizexsm font-italic\">Total registros: {{items.length}}</h6>\n<p-table [value]=\"items\" [paginator]=\"true\" [rows]=\"50\" selectionMode=\"single\" [(selection)]=\"selectedItem\"\n         (onRowSelect)=\"onRowSelect($event)\"\n         [autoLayout]=\"true\"\n         [resizableColumns]=\"true\"\n         [(contextMenuSelection)]=\"selectedItem\"\n         (onRowUnselect)=\"onUnRowSelect($event)\">\n    <ng-template pTemplate=\"header\">\n        <tr>\n            <th *ngFor=\"let item of cols\" [pSortableColumn]=\"item.field\" [ngSwitch]=\"item.field\">\n                {{item.label}}\n                <p-sortIcon [field]=\"item.field\"></p-sortIcon>\n            </th>\n            <th>\n                Acción\n            </th>\n        </tr>\n    </ng-template>\n    <ng-template pTemplate=\"body\" let-rowData>\n        <tr [pSelectableRow]=\"rowData\" [pContextMenuRow]=\"rowData\" (dblclick)=\"onrowclic(rowData)\">\n            <td *ngFor=\"let item of cols\">\n                {{rowData[item['field']]}}\n            </td>\n            <td>\n                <button class=\"btn btn-sm btn-outline-dark\" (click)=\"verCita(rowData)\" title=\"Ver Detalles\"\n                        style=\"margin-right: 10px\">\n                    <i class=\"fa fa-eye\"></i>\n                </button>\n            </td>\n        </tr>\n    </ng-template>\n\n    <ng-template pTemplate=\"emptymessage\" let-columns>\n        <tr>\n            <td [attr.colspan]=\"cols.length+1\">\n                <span class=\"text-muted\">No hay registros</span>\n            </td>\n        </tr>\n    </ng-template>\n</p-table>\n\n<div *ngIf=\"showModalDet\">\n    <p-dialog header=\"Detalles de la cita\" [modal]=\"true\" [style]=\"{width: '40vw'}\" [baseZIndex]=\"100\"\n              [(visible)]=\"showModalDet\" [autoZIndex]=\"false\">\n        <app-detcitacal [codcita]=\"rowHistoriaSel.ct_id\"\n                        (cerrarModalEv)=\"onCerrarModalCitaCal($event)\"\n                        (registraAtencionEv)=\"onRegistraAtencionEv($event)\"></app-detcitacal>\n    </p-dialog>\n</div>\n","import {Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChanges} from '@angular/core';\nimport {LoadingUiService} from '../../../services/loading-ui.service';\nimport {CitasMedicasService} from '../../../services/citas-medicas.service';\nimport {ConsMedicaMsgService} from '../../../services/cons-medica-msg.service';\nimport {PersonaService} from '../../../services/persona.service';\nimport {TcitaService} from '../../../services/tcita.service';\n\n@Component({\n    selector: 'app-citasplaned',\n    templateUrl: './citasplaned.component.html'\n})\nexport class CitasplanedComponent implements OnInit, OnChanges {\n\n    items: Array<any>;\n    cols: Array<any>;\n    selectedItem: any;\n    tipoFiltro = 0;\n    fechasstr: string;\n    personsCita: Array<any>;\n    personCitaSel: number;\n\n    @Input() tipocita: number;\n    @Output() registraAtencionEv = new EventEmitter<any>();\n    @Output() gotoCalendarEv = new EventEmitter<any>();\n    @Input() disablecals = true;\n\n    rowHistoriaSel: any;\n    showModalDet: boolean;\n\n\n    constructor(private loadingUiService: LoadingUiService,\n                private citasMedicasService: CitasMedicasService,\n                private cosmedicamsgService: ConsMedicaMsgService,\n                private personaService: PersonaService,\n                private tcitaService: TcitaService) {\n    }\n\n    ngOnInit(): void {\n        this.items = new Array<any>();\n        this.cols = new Array<any>();\n        this.tipoFiltro = 0;\n        this.fechasstr = '';\n        this.loadPersonsCita();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const tipcitaChange = changes.tipocita;\n        if (tipcitaChange.currentValue) {\n            this.personCitaSel = tipcitaChange.currentValue;\n            this.loadGrid();\n        }\n    }\n\n    loadGrid() {\n        this.loadingUiService.publishBlockMessage();\n        this.citasMedicasService.listarProximas(this.tipoFiltro, this.tipocita).subscribe(res => {\n            this.cols = res.grid.cols;\n            this.items = res.grid.data;\n            this.fechasstr = res.fechas;\n        });\n    }\n\n    onRowSelect($event: any) {\n\n    }\n\n    onUnRowSelect($event: any) {\n\n    }\n\n    verCita(item: any) {\n        this.rowHistoriaSel = item;\n        this.showModalDet = true;\n    }\n\n    clickFiltro(tipo, event: Event) {\n        event.preventDefault();\n        if (this.tipoFiltro !== tipo) {\n            this.tipoFiltro = tipo;\n            this.loadGrid();\n        } else {\n            this.clearFiltro();\n        }\n    }\n\n    clearFiltro() {\n        this.tipoFiltro = 0;\n        this.fechasstr = '';\n        this.loadGrid();\n    }\n\n    onCerrarModalCitaCal($event: any) {\n        this.showModalDet = false;\n    }\n\n    gotoCalendar() {\n        this.gotoCalendarEv.emit(this.tipocita);\n    }\n\n    onrowclic(rowData) {\n        this.rowHistoriaSel = rowData;\n        this.showModalDet = true;\n    }\n\n    onRegistraAtencionEv($event: any) {\n        this.showModalDet = false;\n        this.registraAtencionEv.emit($event);\n    }\n\n    loadPersonsCita() {\n        this.personsCita = [];\n        this.tcitaService.getPersonsCita().subscribe(res => {\n            if (res.status === 200) {\n                this.personsCita = res.personscita;\n            }\n        });\n    }\n\n    onPersonCitaChange($event: any) {\n        if (this.personCitaSel) {\n            if (this.personCitaSel !== this.tipocita) {\n                this.tipocita = this.personCitaSel;\n                this.loadGrid();\n            }\n        }\n    }\n}\n","import {Component, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {RxdocsService} from '../../services/rxdocs.service';\nimport {DomService} from '../../services/dom.service';\nimport {SwalService} from '../../services/swal.service';\nimport {LoadingUiService} from '../../services/loading-ui.service';\nimport {FautService} from '../../services/faut.service';\nimport {CitasMedicasService} from '../../services/citas-medicas.service';\nimport {CtesService} from '../../services/ctes.service';\n\n@Component({\n    selector: 'app-rxdocs',\n    template: `\n        <div>\n            <div *ngIf=\"showForm\" class=\"mb-3\">\n                <div class=\"row\">\n                    <div class=\"col-md-8 offset-md-2\">\n                        <div class=\"card border-primary\">\n                            <div class=\"card-header\">\n                                <span class=\"fw-bold\">\n                                    {{form.rxd_id > 0 ? 'Editar documento' : 'Crear documento'}}\n                                </span>\n                            </div>\n                            <div class=\"card-body\">\n                                <div class=\"mt-2 d-flex flex-column\" *ngIf=\"form.rxd_id===0\"><span>Archivo:</span>\n                                    <input type=\"file\" id=\"archivoinput\"\n                                           accept=\"image/*,application/pdf, application/msword,\n                                                    application/vnd.openxmlformats-officedocument.wordprocessingml.document\"\n                                           class=\"form-control-file\"\n                                           (change)=\"onFileChange($event)\"/>\n\n                                </div>\n                                <div class=\"d-flex flex-column mt-3\"><span>Nombre:</span>\n                                    <div class=\"p-fluid\">\n                                        <input type=\"text\" class=\"form-control\"\n                                               [(ngModel)]=\"form.rxd_nombre\" id=\"rxdNombresInput\"\n                                               autocomplete=\"false\" maxlength=\"80\">\n                                    </div>\n                                </div>\n                                <div class=\"d-flex flex-column mt-3\"><span>Comentario:</span>\n                                    <div class=\"p-fluid\">\n                                        <textarea class=\"form-control\" [(ngModel)]=\"form.rxd_nota\"\n                                                  rows=\"3\" id=\"rxd_nota\" maxlength=\"3000\">\n                                        </textarea>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class=\"card-footer\">\n                                <div class=\"d-flex justify-content-around\">\n                                    <button class=\"btn btn-outline-primary\" (click)=\"guardar()\"><i\n                                            class=\"fa fa-save\"></i> Guardar\n                                    </button>\n                                    <button class=\"btn btn-outline-secondary\" (click)=\"cancelar()\"><i\n                                            class=\"fa fa-times\"></i> Cancelar\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <div class=\"row\">\n                    <div class=\"col-md-10\">\n                        <div class=\"row row-cols-3 row-cols-md-3\">\n                            <div class=\"col mb-2\" *ngFor=\"let doc of docs\">\n                                <div class=\"card h-100\">\n                                    <div class=\"card-body text-center\">\n                                        <div>\n                                            <div [title]=\"doc.rxd_nombre\" (click)=\"descargar(doc)\" class=\"hand\">\n                                                <i class=\"far fa-3x\" [ngClass]=\"doc.fa_icon\"></i>\n                                            </div>\n                                            <div class=\"mt-2 d-flex flex-column justify-content-center\">\n                                                <h5 class=\"card-title\">{{doc.rxd_nombre}}</h5>\n                                                <small class=\"text-muted\">{{doc.rxd_filename}}</small>\n                                            </div>\n                                            <p class=\"card-text mt-1\">{{doc.rxd_nota}}</p>\n                                        </div>\n                                        <div>\n                                            <div class=\"mt-2 d-flex justify-content-between\">\n                                                <p>\n                                                    <small class=\"text-muted\">{{doc.rxd_fechacrea}}</small>\n                                                </p>\n                                                <div>\n                                                    <div class=\"d-flex justify-content-end\">\n                                                        <div class=\"d-flex\">\n                                                            <button class=\"ms-2 btn btn-sm btn-outline-primary\"\n                                                                    (click)=\"descargar(doc)\">\n                                                                <i class=\"fa fa-eye\"></i>\n                                                            </button>\n                                                            <button class=\"ms-2 btn btn-sm btn-outline-primary btn-sm\"\n                                                                    (click)=\"editar(doc)\"\n                                                                    title=\"Editar \">\n                                                                <i class=\"fa fa-edit\"></i>\n                                                            </button>\n                                                            <button class=\"ms-2 btn btn-sm btn-outline-primary btn-sm\"\n                                                                    (click)=\"anular(doc)\"\n                                                                    title=\"Anular \">\n                                                                <i class=\"fa fa-trash\"></i>\n                                                            </button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"card\" *ngIf=\"docs.length===0\">\n                            <div class=\"card-body\">\n                                <div class=\"pt-5 pb-5\">\n                                    <h4 class=\"text-muted\">No hay registros</h4>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-md-2\" *ngIf=\"!showForm\">\n                        <div>\n                            <button class=\"btn btn-outline-primary\"\n                                    title=\"Cargar un nuevo examen al sistema\"\n                                    (click)=\"loadForm()\">Crear <i\n                                    class=\"fa fa-plus-circle\"></i></button>\n                        </div>\n                        <div *ngIf=\"tipo===1\" class=\"mt-4\">\n                            <button class=\"btn btn-outline-secondary\" (click)=\"imprimirRecetario()\"\n                                    title=\"Imprimir recetario en blanco\">Recetario <i\n                                    class=\"fas fa-print\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `\n})\nexport class RxdocsComponent implements OnInit, OnChanges {\n    @Input() codPaciente: number;\n    @Input() tipo: number;\n    docs: Array<any>;\n    form: any;\n    showForm: boolean;\n    datafile: any;\n    filepreview: any;\n    base64data: any = null;\n\n    constructor(private rxDocsServ: RxdocsService,\n                private domService: DomService,\n                private loadingServ: LoadingUiService,\n                private fautService: FautService,\n                private citasMedicasServ: CitasMedicasService,\n                private ctes: CtesService,\n                private swalService: SwalService) {\n        this.docs = [];\n    }\n\n    ngOnInit(): void {\n        this.form = {};\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        const pacchange = changes.codPaciente;\n        const codcurrentvalue = pacchange.currentValue;\n        if (codcurrentvalue !== null) {\n            this.loadDocs();\n        }\n    }\n\n    guardar() {\n        if (this.form.rxd_id === 0 && !this.base64data) {\n            this.swalService.fireToastError('Debe cargar el documento');\n            return;\n        }\n\n        if (!this.form.rxd_nombre) {\n            this.swalService.fireToastError('Ingrese el nombre del documento');\n            return;\n        }\n\n        if (this.form.rxd_id === 0) {\n            this.loadingServ.publishBlockMessage();\n            this.form.rxd_filename = this.datafile.name;\n            const theform = {\n                form: this.form,\n                archivo: this.base64data\n            };\n            this.rxDocsServ.crear(theform).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.loadDocs();\n                    this.showForm = false;\n                }\n            });\n        } else {\n            this.loadingServ.publishBlockMessage();\n            this.rxDocsServ.editar({form: this.form}).subscribe(res => {\n                if (res.status === 200) {\n                    this.swalService.fireToastSuccess(res.msg);\n                    this.loadDocs();\n                    this.showForm = false;\n                }\n            });\n        }\n    }\n\n    cancelar() {\n        this.showForm = false;\n    }\n\n    descargar(doc) {\n        const url = this.rxDocsServ.getDownloadUrlNode(doc);\n        window.open(url, this.ctes._blank, this.ctes.featuresOpenNewWin);\n    }\n\n    loadForm() {\n        this.form = {};\n        this.filepreview = null;\n        this.base64data = null;\n        this.showForm = true;\n        this.rxDocsServ.getForm(this.codPaciente, this.tipo).subscribe(res => {\n            if (res.status === 200) {\n                this.form = res.form;\n                this.domService.setFocusTm('rxdNombresInput', 100);\n            }\n        });\n    }\n\n    loadDocs() {\n        this.loadingServ.publishBlockMessage();\n        this.rxDocsServ.listar(this.codPaciente, this.tipo).subscribe(res => {\n            if (res.status === 200) {\n                this.docs = res.docs;\n            }\n        });\n    }\n\n    anular(doc: any) {\n        const msg = '¿Seguro que desea eliminar este documento';\n        this.swalService.fireDialog(msg).then(confirm => {\n                if (confirm.value) {\n                    this.loadingServ.publishBlockMessage();\n                    this.rxDocsServ.eliminar(doc.rxd_id).subscribe(res => {\n                        if (res.status === 200) {\n                            this.swalService.fireToastSuccess(res.msg);\n                            this.loadDocs();\n                        }\n                    });\n                }\n            }\n        );\n    }\n\n    editar(doc: any) {\n        this.showForm = true;\n        this.form = Object.assign({}, doc);\n        this.domService.setFocusTm('rxdNombresInput', 100);\n    }\n\n    clearFile() {\n        this.filepreview = null;\n        this.base64data = null;\n    }\n\n    preview() {\n        const mimeType = this.datafile.type;\n        const rega = /image|pdf|document/;\n        if (rega.test(mimeType)) {\n            const reader = new FileReader();\n            reader.readAsDataURL(this.datafile);\n            reader.onload = (e) => {\n                this.filepreview = reader.result;\n                this.base64data = this.filepreview;\n            };\n        } else {\n            this.clearFile();\n            this.swalService.fireError('Este tipo de archivo no esta admitido');\n        }\n    }\n\n    onFileChange(fileInput: any) {\n        this.datafile = fileInput.target.files[0];\n        if (this.datafile) {\n            const length = (this.datafile.size / 1024) / 1024;\n            if (length > 10) {\n                this.clearFile();\n                this.swalService.fireError('El tamaño del archivo es muy grande, elija otro (Tamaño máximo 10MB)');\n            } else {\n                this.preview();\n            }\n        }\n    }\n\n    imprimirRecetario() {\n        this.citasMedicasServ.imprimirRecBlank();\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AbonoService extends BaseService {\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService\n    ) {\n        super('/tasiabono', localStrgServ, http);\n    }\n\n    getform(tracod: number) {\n        return this._doGet(this.getHOT({accion: 'form', tracod}));\n    }\n\n    crear(form: any) {\n        return this._doPost(this.getHOT({accion: 'crea'}), form);\n    }\n\n    listaAbonosFact(trncod: number) {\n        return this._doGet(this.getHOT({accion: 'abosfact', trncod}));\n    }\n\n    anularAbono(codabo, obs) {\n        const form = {codabo, obs};\n        return this._doPost(this.getHOT({accion: 'anular'}), form);\n    }\n}\n","import {BaseService} from '../base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from '../local-storage.service';\nimport {Injectable} from '@angular/core';\nimport {CtesService} from '../ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CobroaguaService extends BaseService {\n    constructor(protected http: HttpClient,\n                private ctes: CtesService,\n                protected localStrgService: LocalStorageService) {\n        super('/tagpcobro', localStrgService, http);\n    }\n\n    validaPaso1(form: any) {\n        const perid = form.referente?.per_id || 0;\n        return perid > 0;\n    }\n\n    getForm() {\n        return this._doGetAction(this.ctes.form);\n    }\n\n    getDatosPago(lectos) {\n        return this._doPostAction(this.ctes.gcalpag, {lectos});\n    }\n\n    crearFactura(form) {\n        return this._doPostAction(this.ctes.crea, form);\n    }\n\n    getIds(lecturas: Array<any>) {\n        return lecturas.map(it => {\n            return it[this.ctes.lmd_id];\n        });\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from '../base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from '../local-storage.service';\nimport {CtesService} from '../ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ContratoaguaService extends BaseService {\n    constructor(protected http: HttpClient,\n                protected localStrgService: LocalStorageService,\n                private ctes: CtesService) {\n        super('/tagpcontrato', localStrgService, http);\n    }\n\n    getForm(tipo) {\n        return this._doGetAction(this.ctes.form, {tipo});\n    }\n\n    crear(form) {\n        return this._doPostAction(this.ctes.crea, form);\n    }\n\n    findByRef(codref) {\n        return this._doGetAction(this.ctes.bgyref, {codref});\n    }\n\n    findByNumMed(num) {\n        return this._doGetAction(this.ctes.findbynum, {num});\n    }\n\n    filterByNumMed(filtro) {\n        return this._doGetAction(this.ctes.filterbynum, {filtro});\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from '../base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from '../local-storage.service';\nimport {CtesService} from '../ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LectomedaguaService extends BaseService {\n    constructor(protected http: HttpClient,\n                protected localStrgService: LocalStorageService,\n                private ctes: CtesService) {\n        super('/tagplectomed', localStrgService, http);\n    }\n\n    getForm() {\n        return this._doGetAction(this.ctes.form);\n    }\n\n    guardar(form) {\n        return this._doPostAction(this.ctes.crea, form);\n    }\n\n    getLast(numed) {\n        return this._doGetAction(this.ctes.last, {numed});\n    }\n\n    getPrevius(numed, anio, mes) {\n        return this._doGetAction(this.ctes.previous, {numed, anio, mes});\n    }\n\n    getConsumosPend(codmed) {\n        return this._doGetAction(this.ctes.conspend, {codmed});\n    }\n\n    generaConsumo(form) {\n        const actual = form.lmd_valor;\n        const anterior = form.lmd_valorant || 0;\n        let consumo = 0;\n        try {\n            consumo = parseInt(actual, 10) - parseInt(anterior, 10);\n            if (!consumo) {\n                consumo = 0;\n            } else if (consumo < 0) {\n                consumo = 0;\n            }\n        } catch (e) {\n            consumo = 0;\n        }\n        return consumo;\n    }\n\n    clearForm(form) {\n        form.lmd_valorant = 0;\n        form.lmd_valor = 0;\n        form.lmd_consumo = 0;\n        form.mdg_id = 0;\n        form.lmd_obs = '';\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {NumberService} from './number.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ArrayutilService {\n    constructor(\n        private numberService: NumberService\n    ) {\n    }\n\n    getFirstResult(array: Array<any>, fnFilter: any): any {\n        const res = array.filter(fnFilter);\n        return res.length > 0 ? res[0] : null;\n    }\n\n    removeElement(array: Array<any>, element: any): any {\n        const index = array.indexOf(element);\n        array.splice(index, 1);\n    }\n\n    moveElement(array: Array<any>, oldIndex: number, newIndex: number): any {\n        array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n    }\n\n    contains(arreglo: Array<any>, value) {\n        let contains = false;\n        if (arreglo) {\n            arreglo.forEach(item => {\n                if (item === value) {\n                    contains = true;\n                }\n            });\n        }\n        return contains;\n    }\n\n    /**\n     * Se usa en transacciones que involucran cuentas contables\n     * @param thearray El array que tiene todas la cuentas\n     * @param idx el indice actual de la fila a analizar\n     * @param total el total del importe\n     */\n    getMontoFila(thearray, idx, total) {\n        let suma = total;\n        if (idx > 0) {\n            const arrsuma = thearray.slice(0, idx);\n            suma = Number(0.0);\n            arrsuma.forEach(item => {\n                suma += Number(item.dt_valor);\n            });\n            const diff = Number(total) - suma;\n            if (diff >= 0) {\n                suma = this.numberService.round2(diff);\n            } else {\n                suma = 0.0;\n            }\n        }\n        return suma;\n    }\n\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {Observable} from 'rxjs';\nimport {catchError, map} from 'rxjs/operators';\nimport {LocalStorageService} from './local-storage.service';\nimport {NumberService} from './number.service';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ArticuloService extends BaseService {\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        protected numberService: NumberService,\n        private ctes: CtesService\n    ) {\n        super('/titemconfig', localStrgServ, http);\n    }\n\n    getForm(): Observable<any> {\n        return this._doGetAction(this.ctes.formcrea);\n    }\n\n    auxGetUrl(artid) {\n        return `${this.urlEndPoint}/${artid}`;\n    }\n\n    getByCod(artId: number): Observable<any> {\n        return this.http.get(this.auxGetUrl(artId), this.getHOT({}));\n    }\n\n    getNextCodbar(): Observable<any> {\n        return this._doGetAction(this.ctes.seccodbarra);\n    }\n\n    existeCodbar(codbar: string): Observable<any> {\n        return this._doGetAction(this.ctes.verifcodbar, {codbar});\n    }\n\n    guardarArticulo(form: any): Observable<any> {\n        const endpoint = this.auxGetUrl(form.ic_id);\n        const httpOptions = this.getHOT({});\n        return this.http.post(endpoint, form, httpOptions).pipe(\n            map((response: any) => {\n                return response;\n            }),\n            catchError(this.fnProcesaError)\n        );\n    }\n\n    actualizaBarcode(icId: number, newbarcode: string) {\n        const endpoint = this.auxGetUrl(icId);\n        const httpOptions = this.getHOT({accion: this.ctes.updatecode});\n        return this.doPost(this.http, endpoint, httpOptions, {new_ic_code: newbarcode});\n    }\n\n    anularArticulo(artId: any): Observable<any> {\n        const endpoint = this.auxGetUrl(artId);\n        const httpOptions = this.getHOT({accion: this.ctes.del});\n        return this.doPost(this.http, endpoint, httpOptions, {});\n    }\n\n    anularCtaContable(icid: number) {\n        const endpoint = this.auxGetUrl(icid);\n        const httpOptions = this.getHOT({accion: this.ctes.anulactacontab});\n        return this.doPost(this.http, endpoint, httpOptions, {});\n    }\n\n    listar(pfiltro: string, secId: number, codcat: number): Observable<any> {\n        const endopoint = this.urlEndPoint;\n        const httpOptions = this.getHOT({\n            accion: this.ctes.listar,\n            filtro: pfiltro,\n            sec_id: secId,\n            codcat\n        });\n        return this.http.get(endopoint, httpOptions).pipe(\n            map((response: any) => {\n                return response;\n            }),\n            catchError(this.fnProcesaError)\n        );\n    }\n\n    busArtsForTransacc(secid: number, filtro: string, tracod: number) {\n        return this._doGetAction(this.ctes.gartsserv, {filtro, sec: secid, tracod});\n    }\n\n    busCtasContables(filtro: string) {\n        return this._doGetAction(this.ctes.gctascontables, {filtro});\n    }\n\n    getAllCtasContables() {\n        return this._doGetAction(this.ctes.gallctascontables);\n    }\n\n    buscaAllServDentalles() {\n        return this._doGetAction(this.ctes.gservdentall);\n    }\n\n    getImpuestos() {\n        return this._doGetAction(this.ctes.gimpuestos);\n    }\n\n    getRaizPlanCuentas(padrexpand) {\n        return this._doGetAction(this.ctes.gplanc, {padrexpand});\n    }\n\n    getFormPlanCuenta(padre) {\n        return this._doGetAction(this.ctes.gformplancta, {padre});\n    }\n\n    crearCtaContable(form) {\n        return this._doPostAction(this.ctes.guardaplancta, form);\n    }\n\n    getDetCtaContable(codcta) {\n        return this._doGetAction(this.ctes.gdetctacontable, {codcta});\n    }\n\n    initFormDetalles(formdet, datosart, isfacturacompra = false) {\n        let icdpPrecio = datosart.icdp_precioventa;\n        if (isfacturacompra) {\n            icdpPrecio = datosart.icdp_preciocompra;\n        }\n\n        let ivaval = 0.0;\n        let precio = icdpPrecio;\n        if (datosart.icdp_grabaiva) {\n            ivaval = this.numberService.getValorIva(icdpPrecio);\n            if (!isfacturacompra) {\n                precio = this.numberService.ponerIva(icdpPrecio);\n            }\n        }\n\n        formdet.icdp_grabaiva = datosart.icdp_grabaiva;\n        formdet.art_codigo = datosart.ic_id;\n        formdet.ic_nombre = datosart.ic_nombre;\n        formdet.dt_precio = icdpPrecio;\n        formdet.ic_code = datosart.ic_code;\n        formdet.dt_preref = datosart.icdp_preciocompra;\n        formdet.icdp_modcontab = datosart.icdp_modcontab;\n        formdet.dt_precioiva = precio;\n        formdet.per_codigo = 0;\n        formdet.dt_cant = 1;\n        formdet.tipic_id = datosart.tipic_id;\n        formdet.ice_stock = datosart.ice_stock;\n        formdet.dt_decto = 0.0;\n        formdet.cta_codigo = datosart.cta_codigo;\n        formdet.dt_debito = datosart.mcd_signo;\n        formdet.dai_impg = datosart.icdp_grabaiva ? this.numberService.getIva() : 0.0;\n        formdet.subtotal = formdet.dt_cant * formdet.dt_precio;\n        formdet.subtforiva = formdet.subtotal - formdet.dt_decto;\n        formdet.ivaval = ivaval;\n        formdet.total = formdet.subtotal + ivaval;\n        formdet.dt_valor = formdet.subtforiva;\n    }\n\n    getTiposArt() {\n        return [\n            {label: 'Bien', value: 1},\n            {label: 'Servicio', value: 2}\n        ];\n    }\n\n    getIvas() {\n        return [\n            {label: 'Si', value: true},\n            {label: 'No', value: false}\n        ];\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ArticulostockService extends BaseService {\n\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        private ctes: CtesService\n    ) {\n        super('/titemconfigsotck', localStrgServ, http);\n    }\n\n\n    getForm(icId: number): Observable<any> {\n        return this._doGetAction(this.ctes.form, {ic_id: icId});\n    }\n\n    guardar(form: any): Observable<any> {\n        return this._doPostAction(this.ctes.guardar, form);\n    }\n\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {FautService} from './faut.service';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AsientoService extends BaseService {\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        private fautService: FautService,\n        private ctes: CtesService\n    ) {\n        super('/tasiento', localStrgServ, http);\n    }\n\n    getDoc(trncod: number, foredit = 0) {\n        return this._doGetAction(this.ctes.gdetdoc, {trncod, foredit});\n    }\n\n    getFormCab(traCod: number) {\n        return this._doGetAction(this.ctes.formcab, {tra_cod: traCod});\n    }\n\n    auxListarFacturas(per, clase) {\n        return this._doGetAction(this.ctes.gfact, {per, clase});\n    }\n\n    listarGridVentas(desde, hasta, filtro, tracod, tipo) {\n        return this._doGetAction(this.ctes.gridventas, {desde, hasta, filtro, tracod, tipo});\n    }\n\n    crearDocumento(form: any) {\n        return this._doPostAction(this.ctes.creadoc, form);\n    }\n\n    anular(trncod: number, obs: string) {\n        const form = {trncod, obs};\n        return this._doPostAction(this.ctes.anular, form);\n    }\n\n    duplicar(trncod: number) {\n        return this._doPostAction(this.ctes.duplicar, {trn_codigo: trncod});\n    }\n\n    getAsientoForm() {\n        return this._doGetAction(this.ctes.formasiento);\n    }\n\n    crearAsiento(form: any) {\n        return this._doPostAction(this.ctes.creasiento, form);\n    }\n\n    editarAsiento(form: any) {\n        return this._doPostAction(this.ctes.editasiento, form);\n    }\n\n    getAsientos(desde, hasta) {\n        return this._doGetAction(this.ctes.getasientos, {desde, hasta});\n    }\n\n    listarMovsCtaContable(cta, desde, hasta) {\n        return this._doGetAction(this.ctes.getmovscta, {cta, desde, hasta});\n    }\n\n    getFormLibroMayor() {\n        return this._doGetAction(this.ctes.getformlibromayor);\n    }\n\n    getDatosAsiContab(cod: number) {\n        return this._doGetAction(this.ctes.getdatosasiconta, {cod});\n    }\n\n    getBalanceGeneral(desde, hasta) {\n        return this._doGetAction(this.ctes.getbalancegeneral, {desde, hasta});\n    }\n\n    getEstadoResultados(desde, hasta) {\n        return this._doGetAction(this.ctes.getestadoresultados, {desde, hasta});\n    }\n\n    listarTransaccsBytTipo(tipo) {\n        return this._doGetAction(this.ctes.gettransaccs, {tipo});\n    }\n\n    imprimirFactura(trncod) {\n        const sqm = this.fautService.getEsquema();\n        const urlTomcat = this.ctes.urlTomcat;\n        window.open(`${urlTomcat}/Factura?trn=${trncod}&sqm=${sqm}`, this.ctes._blank, this.ctes.featuresOpenNewWin);\n    }\n\n    getFormFiltroLibroDiario() {\n        return this._doGetAction(this.ctes.formfiltrolibd);\n    }\n\n}\n","import {Observable, throwError} from 'rxjs';\nimport swal from 'sweetalert2';\nimport {LocalStorageService} from './local-storage.service';\nimport {HttpClient} from '@angular/common/http';\nimport {catchError, map} from 'rxjs/operators';\nimport {environment} from 'src/environments/environment';\n\nexport class BaseService {\n    protected urlEndPoint: string;\n    private baseUrlEndPoint = environment.baseUrlEndPoint;\n\n    constructor(urlPath: string,\n                protected localStrgServ: LocalStorageService,\n                protected http: HttpClient) {\n        this.urlEndPoint = this.baseUrlEndPoint + urlPath;\n    }\n\n    protected getHO(pparams): any {\n        return {\n            headers: {'Content-Type': 'application/json'},\n            params: pparams\n        };\n    }\n\n    protected getHOT(pparams): any {\n        const token = this.localStrgServ.getAuthToken();\n        return {\n            headers: {\n                'x-authtoken': token\n            },\n            params: pparams\n        };\n    }\n\n    protected fnProcesaError(e) {\n        const msgept = 'Error al procesar petición';\n        const error = 'error';\n        if (e) {\n            if (e.status === 400) {\n                // return throwError(e);\n            }\n            if (e.msg) {\n                swal.fire(msgept, e.msg, error);\n            } else {\n                swal.fire(msgept, 'Verifique su conexión a internet', error);\n            }\n        } else {\n            swal.fire(msgept, 'Error desconocido', error);\n        }\n        return throwError(e);\n    }\n\n    protected doGet(\n        http: HttpClient,\n        endpoint: string,\n        httpOptions: any\n    ): Observable<any> {\n        return http.get(endpoint, httpOptions).pipe(\n            map(res => {\n                return res;\n            }),\n            catchError(this.fnProcesaError)\n        );\n    }\n\n    protected doPost(\n        http: HttpClient,\n        endpoint: string,\n        httpOptions: any,\n        form: any\n    ): Observable<any> {\n        return http.post(endpoint, form, httpOptions).pipe(\n            map((response: any) => {\n                return response;\n            }),\n            catchError(this.fnProcesaError)\n        );\n    }\n\n    protected doPut(\n        http: HttpClient,\n        endpoint: string,\n        httpOptions: any,\n        form: any\n    ): Observable<any> {\n        return http.put(endpoint, form, httpOptions).pipe(\n            map((response: any) => {\n                return response;\n            }),\n            catchError(this.fnProcesaError)\n        );\n    }\n\n    protected _doGet(httpOptions) {\n        return this.doGet(this.http, this.urlEndPoint, httpOptions);\n    }\n\n    protected _doGetAction(accion, params = {}) {\n        return this._doGet(this.getHOT({accion, ...params}));\n    }\n\n    protected _doPostAction(accion, form) {\n        return this._doPost(this.getHOT({accion}), form);\n    }\n\n    protected _doPost(httpOptions, form) {\n        return this.doPost(this.http, this.urlEndPoint, httpOptions, form);\n    }\n}\n","import {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Injectable} from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class BilleteraService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService) {\n        super('/tbilletera', localStrgServ, http);\n    }\n\n    getForm() {\n        return this._doGet(this.getHOT({accion: 'form'}));\n    }\n\n    getFormSecs(ic) {\n        return this._doGet(this.getHOT({accion: 'formsecs', ic}));\n    }\n\n    listar() {\n        return this._doGet(this.getHOT({accion: 'listar'}));\n    }\n\n    crear(form) {\n        return this._doPost(this.getHOT({accion: 'create'}), form);\n    }\n\n    actualizar(form) {\n        return this._doPost(this.getHOT({accion: 'update'}), form);\n    }\n\n    anular(bilid) {\n        return this._doPost(this.getHOT({accion: 'anular'}), {bil_id: bilid});\n    }\n\n    hasMoves(bilid) {\n        return this._doGet(this.getHOT({accion: 'bilhasmov', bilid}));\n    }\n\n}\n\n","import {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Injectable} from '@angular/core';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class BilleteramovService extends BaseService {\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService,\n                private ctes: CtesService) {\n        super('/tbilleteramov', localStrgServ, http);\n    }\n\n    getForm(clase) {\n        return this._doGetAction(this.ctes.form, {clase});\n    }\n\n    crear(form) {\n        return this._doPostAction(this.ctes.crear, form);\n    }\n\n    listargrid(desde, hasta, tipo, cuenta, cuentabill, user) {\n        return this._doGetAction(this.ctes.listargrid, {desde, hasta, tipo, cuenta, cuentabill, user});\n    }\n\n    getFormFiltros() {\n        return this._doGetAction(this.ctes.formfiltros);\n    }\n\n    getCuentasBytTipo(tipo) {\n        return this._doGetAction(this.ctes.getcuentasbytipo, {tipo});\n    }\n\n    getDatosMov(movid) {\n        return this._doGetAction(this.ctes.getdatosmov, {movid});\n    }\n\n    anular(codmov: number) {\n        return this._doPostAction(this.ctes.anular, {codmov});\n    }\n\n    confirmar(codmov: number) {\n        return this._doPostAction(this.ctes.confirmar, {codmov});\n    }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CadsUtilService {\n\n    constructor() {\n    }\n\n    esSoloNumeros(texto: string): boolean {\n        return /^([0-9])*$/.test(texto);\n    }\n\n    isEmpty(texto: string): boolean {\n        let result = true;\n        if (texto) {\n            result = texto.trim().length === 0;\n        }\n        return result;\n    }\n\n    esNoNuloNoVacio(texto: string): boolean {\n        if (texto) {\n            return texto.trim().length > 0;\n        }\n        return false;\n    }\n\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CatalogosService extends BaseService {\n\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService\n    ) {\n        super('/tlistavalores', localStrgServ, http);\n    }\n\n    getCatalogos(codcat: number): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'ctgs', cat: codcat});\n        return this.doGet(this.http, this.urlEndPoint, httpOptions);\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CategoriasService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                protected localStrgService: LocalStorageService,\n                private ctes: CtesService) {\n        super('/categorias', localStrgService, http);\n    }\n\n    listar(): Observable<any> {\n        return this._doGetAction(this.ctes.listar);\n    }\n\n    getFormCrea(): Observable<any> {\n        return this._doGetAction(this.ctes.formcrea);\n    }\n\n    crear(form): Observable<any> {\n        const endpoint = this.urlEndPoint + '/0';\n        const httpOptions = this.getHOT({accion: this.ctes.crear});\n        return this.doPost(this.http, endpoint, httpOptions, form);\n    }\n\n    actualizar(form: any): Observable<any> {\n        const endpoint = this.urlEndPoint + '/' + form.catic_id;\n        const httpOptions = this.getHOT({accion: this.ctes.actualizar});\n        return this.doPost(this.http, endpoint, httpOptions, form);\n    }\n\n    anular(caticId: number) {\n        const endpoint = this.urlEndPoint + '/' + caticId;\n        const httpOptions = this.getHOT({accion: this.ctes.anular});\n        return this.doPost(this.http, endpoint, httpOptions, {});\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\nimport {FautService} from './faut.service';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CitasMedicasService extends BaseService {\n\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        protected fautService: FautService,\n        private ctes: CtesService\n    ) {\n        super('/tconsultam', localStrgServ, http);\n    }\n\n    getForm(): Observable<any> {\n        return this._doGetAction(this.ctes.form);\n    }\n\n    getCie10Data(): Observable<any> {\n        return this._doGetAction('cie10data');\n    }\n\n    crearCita(form: any): Observable<any> {\n        return this._doPostAction(this.ctes.registra, form);\n    }\n\n    editarCita(form: any): Observable<any> {\n        return this._doPostAction(this.ctes.editar, form);\n    }\n\n    getListaAtenciones(ciruc: string): Observable<any> {\n        return this._doGetAction('listaatenciones');\n    }\n\n    getDatosHistoriaByCod(codhistoria: any): Observable<any> {\n        return this._doGetAction('findhistbycod');\n    }\n\n    imprimir(ccm: any) {\n        const sqm = this.fautService.getEsquema();\n        const baseurl = this.ctes.urlTomcat;\n        const url = `${baseurl}/RecetaServlet?ccm=${ccm}&sqm=${sqm}`;\n        window.open(url, this.ctes._blank, this.ctes.featuresOpenNewWin);\n    }\n\n    imprimirRecBlank() {\n        const sqm = this.fautService.getEsquema();\n        const baseurl = this.ctes.urlTomcat;\n        const url = `${baseurl}/RecetaEmptyServlet?sqm=${sqm}`;\n        window.open(url, this.ctes._blank, this.ctes.featuresOpenNewWin);\n    }\n\n    imprimirHistoria(ch: any) {\n        const sqm = this.fautService.getEsquema();\n        const baseurl = this.ctes.urlTomcat;\n        const url = `${baseurl}/HistoriaClinicaServlet?ch=${ch}&sqm=${sqm}`;\n        window.open(url, this.ctes._blank, this.ctes.featuresOpenNewWin);\n    }\n\n    getDescValExamFisico(categ: number, valor: any) {\n        return this._doGetAction('galertexfis', {valor, categ});\n    }\n\n    anular(cosmId: number, obs): Observable<any> {\n        return this._doPostAction(this.ctes.anular, {cosm_id: cosmId, cosm_obsanula: obs});\n    }\n\n    listarPrevias(tipo: number, filtro: string, desde: string, hasta: string, pag: number) {\n        return this._doGetAction('cpreviasfiltropag', {tipo, filtro, desde, hasta, pag});\n    }\n\n    listarProximas(tipofecha: number, tipocita: number) {\n        return this._doGetAction('proxcitas', {tipofecha, tipocita});\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {Subject} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ConsMedicaMsgService {\n\n    public message = new Subject<any>();\n\n    constructor() {\n    }\n\n    publishMessage(message: any) {\n        this.message.next(message);\n    }\n\n    publishReloadHistorias() {\n        this.publishMessage({tipo: 3});\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CreditoService extends BaseService {\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService\n    ) {\n        super('/tasicredito', localStrgServ, http);\n    }\n\n    listarCreditos(codper: number, clase: number) {\n        return this._doGet(this.getHOT({accion: 'listarcreds', per: codper, clase}));\n    }\n\n    getDatosCredito(codcred: number) {\n        return this._doGet(this.getHOT({accion: 'gdet', codcred}));\n    }\n\n    listarGrid(tipo, desde, hasta, filtro) {\n        return this._doGet(this.getHOT({accion: 'listargrid', tipo, desde, hasta, filtro}));\n    }\n\n    getFormCrea(clase, ref) {\n        return this._doGet(this.getHOT({accion: 'gformcrea', clase, ref}));\n    }\n\n    guardaCredRef(form: any) {\n        return this._doPost(this.getHOT({accion: 'crea'}), form);\n    }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CtesService {\n\n    protected Actualizar = 'actualizar';\n    protected Anulactacontab = 'anulactacontab';\n    protected Anular = 'anular';\n    protected Artid = 'art_id';\n    protected ArtsAutoCom = 'artsAutoCom';\n    protected Blank = '_blank';\n    protected Borrar = 'borrar';\n    protected Buscaci = 'buscaci';\n    protected Buscacifull = 'buscacifull';\n    protected BuscaInput = 'buscaInput';\n    protected BuscaPacNomCiInput = 'buscaPacNomCiInput';\n    protected Buscaporid = 'buscaporid';\n    protected Buscaporidfull = 'buscaporidfull';\n    protected Buscatipo = 'buscatipo';\n    protected CodbarraInput = 'codbarraInput';\n    protected Confirmar = 'confirmar';\n    protected Conspend = 'conspend';\n    protected Crea = 'crea';\n    protected Creadoc = 'creadoc';\n    protected Crear = 'crear';\n    protected Creasiento = 'creasiento';\n    protected Del = 'del';\n    protected Duplicar = 'duplicar';\n    protected Editar = 'editar';\n    protected Editasiento = 'editasiento';\n    protected Error = 'error';\n    protected FcSecuencia = 'fc_secuencia';\n    protected FeaturesOpenNewWin = 'toolbar=yes,scrollbars=yes,resizable=yes,top=50,left=100,width=800,height=600';\n    protected Filtropag = 'filtropag';\n    protected Findbynum = 'findbynum';\n    protected Fmtfecha = 'dd/MM/yyyy';\n    protected Form = 'form';\n    protected Formasiento = 'formasiento';\n    protected Formcab = 'formcab';\n    protected Formcrea = 'formcrea';\n    protected Formfiltrolibd = 'formfiltrolibd';\n    protected Formfiltros = 'formfiltros';\n    protected Filterbynum = 'filterbynum';\n    protected Gallctascontables = 'gallctascontables';\n    protected Gartsserv = 'gartsserv';\n    protected Gbyref = 'gbyref';\n    protected Gcalpag = 'gcalpag';\n    protected Gctascontables = 'gctascontables';\n    protected Gcuentafacts = 'gcuentafacts';\n    protected Gdetctacontable = 'gdetctacontable';\n    protected Gdetdoc = 'gdetdoc';\n    protected Getasientos = 'getasientos';\n    protected Getbalancegeneral = 'getbalancegeneral';\n    protected Getcuentasbytipo = 'getcuentasbytipo';\n    protected Getdatosasiconta = 'getdatosasiconta';\n    protected Getdatosmov = 'getdatosmov';\n    protected Getestadoresultados = 'getestadoresultados';\n    protected Getformlibromayor = 'getformlibromayor';\n    protected Getmovscta = 'getmovscta';\n    protected Gettransaccs = 'gettransaccs';\n    protected Gfact = 'gfact';\n    protected Gformplancta = 'gformplancta';\n    protected Gimpuestos = 'gimpuestos';\n    protected GlobalAsistPorcIncrePrecioCompra = 'globalAsistPorcIncrePrecioCompra';\n    protected Gplanc = 'gplanc';\n    protected Gridventas = 'gridventas';\n    protected Gservdentall = 'gservdentall';\n    protected Gtotaldeudas = 'gtotaldeudas';\n    protected Guardaplancta = 'guardaplancta';\n    protected Guardar = 'guardar';\n    protected IcNota = 'ic_nota';\n    protected InsertStock = 'insertStock';\n    protected Last = 'last';\n    protected Listar = 'listar';\n    protected ListarGrid = 'listargrid';\n    protected LmdId = 'lmd_id';\n    protected Lmedicos = 'lmedicos';\n    protected Mercaderia = 'mercaderia';\n    protected MercaderiaForm = 'mercaderiaForm';\n    protected MercaderiaView = 'mercaderiaView';\n    protected MercformdefCat = 'mercformdef_cat';\n    protected MercformdefProv = 'mercformdef_prov';\n    protected MedAutoCom = 'medAutoCom';\n    protected Monto = 'monto';\n    protected MotivoConsultaTextArea = 'motivoConsultaTextArea';\n    protected MsgConfirmSave = '¿Confirma que desea registrar la información ingresada?';\n    protected MsgDataIncompleteRef = 'Datos incompletos del referente, favor completar';\n    protected MsgDatosIncorr = 'Datos Incorrectos';\n    protected MsgEditingFact = 'Editando comprobante';\n    protected MsgEnterCatName = 'Ingrese el nombre de la categoría';\n    protected MsgFactIsCredMustEnterRef = 'Factura a crédito, se debe especificar el referente';\n    protected MsgMontoIncVerif = 'Monto incorrecto, favor verificar';\n    protected MsgMustAddProdInFact = 'Debe agregar productos o servicios a la factura';\n    protected MsgMustEnterCodBarra = 'Debe ingresar el nuevo código de barra';\n    protected MsgMustEnterDataRef = 'Debe ingresar los datos del referente';\n    protected MsgMustEnterDateFact = 'Debe especificar la fecha de la factura';\n    protected MsgMustEnterFechaNac = 'Debe especificar la fecha de nacimiento del referente';\n    protected MsgMustEnterNumFact = 'Debe ingresar el número de la factura';\n    protected MsgMustSelectEstCivRef = 'Debe seleccionar el estado civil del referente';\n    protected MsgMustSelectGenRef = 'Debe seleccionar el genero del referente';\n    protected MsgMustSelectModContab = 'Debe seleccionar el modelo contable';\n    protected MsgMustSelectSeccion = 'Debe seleccionar al menos una sección para este producto/servicio';\n    protected MsgNewRefEnterDataFil = 'Nuevo paciente, debe ingresar los datos de filiación';\n    protected MsgRefRegistered = 'Referente registrado';\n    protected MsgSureSaveFact = '¿Seguro que desea guardar el comprobante?';\n    protected MsgSureWishAnulRecord = '¿Seguro que desea anular este registro?';\n    protected MsgSureWishEditRecord = '¿Seguro que desea editar este registro?';\n    protected MsgSureWishRemoveCat = '¿Seguro que desea anular esta categoría?';\n    protected MsgSureWishRemveItemFact = '¿Seguro que desea quitar este item de la factura?';\n    protected MsgVerifInfo = 'Verifique la información ingresada';\n    protected MsgWishPrint = '¿Desea imprimir?';\n    protected NombreInput = 'nombreInput';\n    protected NumbersPattern = '^[0-9]*\\\\.*[0-9]*$';\n    protected PerCiruc = 'per_ciruc';\n    protected PerCirucInput = 'perCirucInput';\n    protected PerNombres = 'per_nombres';\n    protected PerNombresInput = 'perNombresInput';\n    protected PorcIncAsistPre = 'porcIncAsistPre';\n    protected PrecioCompraInput = 'precioCompraInput';\n    protected PrecioVentaInput = 'precioVentaInput';\n    protected Previous = 'previous';\n    protected RefAutoCom = 'refAutoCom';\n    protected Registra = 'registra';\n    protected Seccodbarra = 'seccodbarra';\n    protected Setseccion = 'setseccion';\n    protected Stock = 'stock';\n    protected Trncoded = 'trncoded';\n    protected True = 'true';\n    protected Updatecode = 'updatecode';\n    protected UrlTomcat = 'https://mavil.site/tomcat/imprentas';\n    protected Verifcodbar = 'verifcodbar';\n\n    get _blank() {\n        return this.Blank;\n    }\n\n    get filterbynum() {\n        return this.Filterbynum;\n    }\n\n    get actualizar() {\n        return this.Actualizar;\n    }\n\n    get anulactacontab() {\n        return this.Anulactacontab;\n    }\n\n    get anular() {\n        return this.Anular;\n    }\n\n    get art_id() {\n        return this.Artid;\n    }\n\n    get artsAutoCom() {\n        return this.ArtsAutoCom;\n    }\n\n    get bgyref() {\n        return this.Gbyref;\n    }\n\n    get borrar() {\n        return this.Borrar;\n    }\n\n    get buscaci() {\n        return this.Buscaci;\n    }\n\n    get buscacifull() {\n        return this.Buscacifull;\n    }\n\n    get buscaInput() {\n        return this.BuscaInput;\n    }\n\n    get buscaPacNomCiInput() {\n        return this.BuscaPacNomCiInput;\n    }\n\n    get buscaporid() {\n        return this.Buscaporid;\n    }\n\n    get buscaporidfull() {\n        return this.Buscaporidfull;\n    }\n\n    get buscatipo() {\n        return this.Buscatipo;\n    }\n\n    get codbarraInput() {\n        return this.CodbarraInput;\n    }\n\n    get confirmar() {\n        return this.Confirmar;\n    }\n\n    get conspend() {\n        return this.Conspend;\n    }\n\n    get crea() {\n        return this.Crea;\n    }\n\n    get creadoc() {\n        return this.Creadoc;\n    }\n\n    get crear() {\n        return this.Crear;\n    }\n\n    get creasiento() {\n        return this.Creasiento;\n    }\n\n    get del() {\n        return this.Del;\n    }\n\n    get duplicar() {\n        return this.Duplicar;\n    }\n\n    get editar() {\n        return this.Editar;\n    }\n\n    get editasiento() {\n        return this.Editasiento;\n    }\n\n    get error() {\n        return this.Error;\n    }\n\n    get fc_secuencia() {\n        return this.FcSecuencia;\n    }\n\n    get featuresOpenNewWin() {\n        return this.FeaturesOpenNewWin;\n    }\n\n    get filtropag() {\n        return this.Filtropag;\n    }\n\n    get findbynum() {\n        return this.Findbynum;\n    }\n\n    get fmtfecha() {\n        return this.Fmtfecha;\n    }\n\n    get form() {\n        return this.Form;\n    }\n\n    get formasiento() {\n        return this.Formasiento;\n    }\n\n    get formcab() {\n        return this.Formcab;\n    }\n\n    get formcrea() {\n        return this.Formcrea;\n    }\n\n    get formfiltrolibd() {\n        return this.Formfiltrolibd;\n    }\n\n    get formfiltros() {\n        return this.Formfiltros;\n    }\n\n    get gallctascontables() {\n        return this.Gallctascontables;\n    }\n\n    get gartsserv() {\n        return this.Gartsserv;\n    }\n\n    get gcalpag() {\n        return this.Gcalpag;\n    }\n\n    get gctascontables() {\n        return this.Gctascontables;\n    }\n\n    get gcuentafacts() {\n        return this.Gcuentafacts;\n    }\n\n    get gdetctacontable() {\n        return this.Gdetctacontable;\n    }\n\n    get gdetdoc() {\n        return this.Gdetdoc;\n    }\n\n    get getasientos() {\n        return this.Getasientos;\n    }\n\n    get getbalancegeneral() {\n        return this.Getbalancegeneral;\n    }\n\n    get getcuentasbytipo() {\n        return this.Getcuentasbytipo;\n    }\n\n    get getdatosasiconta() {\n        return this.Getdatosasiconta;\n    }\n\n    get getdatosmov() {\n        return this.Getdatosmov;\n    }\n\n    get getestadoresultados() {\n        return this.Getestadoresultados;\n    }\n\n    get getformlibromayor() {\n        return this.Getformlibromayor;\n    }\n\n    get getmovscta() {\n        return this.Getmovscta;\n    }\n\n    get gettransaccs() {\n        return this.Gettransaccs;\n    }\n\n    get gfact() {\n        return this.Gfact;\n    }\n\n    get gformplancta() {\n        return this.Gformplancta;\n    }\n\n    get gimpuestos() {\n        return this.Gimpuestos;\n    }\n\n    get globalAsistPorcIncrePrecioCompra() {\n        return this.GlobalAsistPorcIncrePrecioCompra;\n    }\n\n    get gplanc() {\n        return this.Gplanc;\n    }\n\n    get gridventas() {\n        return this.Gridventas;\n    }\n\n    get gservdentall() {\n        return this.Gservdentall;\n    }\n\n    get gtotaldeudas() {\n        return this.Gtotaldeudas;\n    }\n\n    get guardaplancta() {\n        return this.Guardaplancta;\n    }\n\n    get guardar() {\n        return this.Guardar;\n    }\n\n    get ic_nota() {\n        return this.IcNota;\n    }\n\n    get insertStock() {\n        return this.InsertStock;\n    }\n\n    get last() {\n        return this.Last;\n    }\n\n    get listar() {\n        return this.Listar;\n    }\n\n    get listargrid() {\n        return this.ListarGrid;\n    }\n\n    get lmd_id() {\n        return this.LmdId;\n    }\n\n    get lmedicos() {\n        return this.Lmedicos;\n    }\n\n    get mercaderia() {\n        return this.Mercaderia;\n    }\n\n    get mercaderiaForm() {\n        return this.MercaderiaForm;\n    }\n\n    get mercaderiaView() {\n        return this.MercaderiaView;\n    }\n\n    get mercformdef_cat() {\n        return this.MercformdefCat;\n    }\n\n    get mercformdef_prov() {\n        return this.MercformdefProv;\n    }\n\n    get medAutoCom() {\n        return this.MedAutoCom;\n    }\n\n    get monto() {\n        return this.Monto;\n    }\n\n    get motivoConsultaTextArea() {\n        return this.MotivoConsultaTextArea;\n    }\n\n    get msgConfirmSave() {\n        return this.MsgConfirmSave;\n    }\n\n    get msgDataIncompleteRef() {\n        return this.MsgDataIncompleteRef;\n    }\n\n    get msgDatosIncorr() {\n        return this.MsgDatosIncorr;\n    }\n\n    get msgEditingFact() {\n        return this.MsgEditingFact;\n    }\n\n    get msgEnterCatName() {\n        return this.MsgEnterCatName;\n    }\n\n    get msgFactIsCredMustEnterRef() {\n        return this.MsgFactIsCredMustEnterRef;\n    }\n\n    get msgMontoIncVerif() {\n        return this.MsgMontoIncVerif;\n    }\n\n    get msgMustAddProdInFact() {\n        return this.MsgMustAddProdInFact;\n    }\n\n    get msgMustEnterCodBarra() {\n        return this.MsgMustEnterCodBarra;\n    }\n\n    get msgMustEnterDataRef() {\n        return this.MsgMustEnterDataRef;\n    }\n\n    get msgMustEnterDateFact() {\n        return this.MsgMustEnterDateFact;\n    }\n\n    get msgMustEnterFechaNac() {\n        return this.MsgMustEnterFechaNac;\n    }\n\n    get msgMustEnterNumFact() {\n        return this.MsgMustEnterNumFact;\n    }\n\n\n    get msgMustSelectEstCivRef() {\n        return this.MsgMustSelectEstCivRef;\n    }\n\n    get msgMustSelectGenRef() {\n        return this.MsgMustSelectGenRef;\n    }\n\n    get msgMustSelectModContab() {\n        return this.MsgMustSelectModContab;\n    }\n\n    get msgMustSelectSeccion() {\n        return this.MsgMustSelectSeccion;\n    }\n\n    get msgNewRefEnterDataFil() {\n        return this.MsgNewRefEnterDataFil;\n    }\n\n    get msgRefRegistered() {\n        return this.MsgRefRegistered;\n    }\n\n    get msgSureSaveFact() {\n        return this.MsgSureSaveFact;\n    }\n\n    get msgSureWishAnulRecord() {\n        return this.MsgSureWishAnulRecord;\n    }\n\n    get msgSureWishEditRecord() {\n        return this.MsgSureWishEditRecord;\n    }\n\n    get msgSureWishRemoveCat() {\n        return this.MsgSureWishRemoveCat;\n    }\n\n    get msgSureWishRemveItemFact() {\n        return this.MsgSureWishRemveItemFact;\n    }\n\n    get msgVerifInfo() {\n        return this.MsgVerifInfo;\n    }\n\n    get msgWishPrint() {\n        return this.MsgWishPrint;\n    }\n\n    get nombreInput() {\n        return this.NombreInput;\n    }\n\n    get numbersPattern() {\n        return this.NumbersPattern;\n    }\n\n    get per_ciruc() {\n        return this.PerCiruc;\n    }\n\n    get per_nombres() {\n        return this.PerNombres;\n    }\n\n    get perCirucInput() {\n        return this.PerCirucInput;\n    }\n\n    get perNombresInput() {\n        return this.PerNombresInput;\n    }\n\n    get porcIncAsistPre() {\n        return this.PorcIncAsistPre;\n    }\n\n    get precioCompraInput() {\n        return this.PrecioCompraInput;\n    }\n\n    get precioVentaInput() {\n        return this.PrecioVentaInput;\n    }\n\n    get previous() {\n        return this.Previous;\n    }\n\n    get refAutoCom() {\n        return this.RefAutoCom;\n    }\n\n    get registra() {\n        return this.Registra;\n    }\n\n    get seccodbarra() {\n        return this.Seccodbarra;\n    }\n\n    get setseccion() {\n        return this.Setseccion;\n    }\n\n    get stock() {\n        return this.Stock;\n    }\n\n    get trncoded() {\n        return this.Trncoded;\n    }\n\n    get true() {\n        return this.True;\n    }\n\n    get updatecode() {\n        return this.Updatecode;\n    }\n\n    get urlTomcat() {\n        return this.UrlTomcat;\n    }\n\n    get verifcodbar() {\n        return this.Verifcodbar;\n    }\n\n\n}\n","import {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Injectable} from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DatosloggedService extends BaseService {\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService\n    ) {\n        super('/datosinitlogged', localStrgServ, http);\n    }\n\n    getDatosLogged() {\n        return this._doGet(this.getHOT({accion: 'datosgen'}));\n    }\n\n    checkPermiso(perms: string) {\n        return this._doGet(this.getHOT({accion: 'chkperm', perm: perms}));\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {CadsUtilService} from './cads-util.service';\nimport {SwalService} from './swal.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class DomService {\n    constructor(private cadsUtil: CadsUtilService,\n                private swalService: SwalService) {\n    }\n\n    /**\n     * Setea el foco en el input especificado dado su id\n     * @param elId: Identificador del componente al que desea obtene el foco\n     */\n    setFocus(elId) {\n        if (document.getElementById(elId)) {\n            document.getElementById(elId).focus();\n        }\n    }\n\n    setFocusTm(elId, timeout = 200) {\n        setTimeout(() => {\n                if (document.getElementById(elId)) {\n                    document.getElementById(elId).focus();\n                }\n            }\n            , timeout);\n    }\n\n    clonarObjeto(obj: any) {\n        return Object.assign({}, obj);\n    }\n\n    txtInputFieldHasValue(input: any) {\n        return input.value.toString().trim().length > 0;\n    }\n\n    cmbInputFieldHasValue(input: any) {\n        return !(input.value === 0);\n    }\n\n    validFormData(form: any, fieldValidList: Array<any>) {\n        let allvalid = true;\n        let itemvalid = false;\n        fieldValidList.forEach(field => {\n            itemvalid = true;\n            if (field.name in form) {\n                if (field.select) {\n                    try {\n                        const selectValue = parseInt(form[field.name], 10);\n                        itemvalid = selectValue > 0;\n                    } catch (e) {\n                    }\n                } else {\n                    itemvalid = !this.cadsUtil.isEmpty(form[field.name].toString());\n                }\n                if (!itemvalid) {\n                    allvalid = false;\n                    const msg = field.msg || 'Datos requerido, favor verificar';\n                    this.swalService.fireToastWarn(msg);\n                }\n            }\n        });\n        return allvalid;\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {Subject} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FacturasmsgService {\n    public message = new Subject<any>();\n\n    constructor() {\n    }\n\n    publishMessage(message: any) {\n        this.message.next(message);\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FautService extends BaseService {\n    private bssource = new BehaviorSubject('empty');\n    public source = this.bssource.asObservable();\n\n    constructor(protected http: HttpClient,\n                protected localStorageService: LocalStorageService) {\n        super('/tfuser', localStorageService, http);\n    }\n\n    autenticar(empresa: string, username: string, password: string): Observable<any> {\n        const endpoint = this.urlEndPoint;\n        const form = {\n            empresa,\n            username,\n            password\n        };\n        const httpOptions = this.getHO({accion: 'auth'});\n        return this.doPost(this.http, endpoint, httpOptions, form);\n    }\n\n    isAuthenticated(): boolean {\n        return this.localStorageService.getItem('fIsLogged') != null;\n    }\n\n    setAsAuthenticated(userinfo: any, token: any, menu: any, seccion: any, empNombreComercial, sqm: string, tdvcodigo: any) {\n        this.localStorageService.setItem('fIsLogged', 'true');\n        this.localStorageService.setItem('infoUserFLogged', JSON.stringify(userinfo));\n        this.localStorageService.setItem('menuApp', JSON.stringify(menu));\n        this.localStorageService.setItem('auToken', token);\n        this.localStorageService.setItem('seccion', JSON.stringify(seccion));\n        this.localStorageService.setItem('tdvcodigo', JSON.stringify(tdvcodigo));\n        this.localStorageService.setItem('empNombreComercial', empNombreComercial);\n        this.localStorageService.setItem('sqm', sqm);\n    }\n\n    updateTokenAndTdvcod(token: any, tdvcodigo: any) {\n        this.localStorageService.setItem('auToken', token);\n        this.localStorageService.setItem('tdvcodigo', tdvcodigo);\n    }\n\n    isTdvCodSaved() {\n        const tdvcod = this.localStorageService.getItem('tdvcodigo');\n        return tdvcod !== null;\n    }\n\n    setTdvCodigo(tdvcod) {\n        this.localStorageService.setItem('tdvcodigo', JSON.stringify(tdvcod));\n    }\n\n    getTdvCodigo(): number {\n        const tdvcod = this.localStorageService.getItem('tdvcodigo');\n        let tdvcodproc = 0;\n        if (tdvcod) {\n            tdvcodproc = parseInt(tdvcod, 10);\n        } else {\n            tdvcodproc = 1;\n        }\n        return tdvcodproc;\n    }\n\n    getEsquema() {\n        return this.localStorageService.getItem('sqm');\n    }\n\n    getVersionApp() {\n        return this.localStorageService.getItem('versionApp');\n    }\n\n    setVersionApp(version) {\n        this.localStorageService.setItem('versionApp', JSON.stringify(version));\n    }\n\n    setMenuApp(menu) {\n        this.localStorageService.setItem('menuApp', JSON.stringify(menu));\n    }\n\n    getMenuApp() {\n        const menuApp: string = this.localStorageService.getItem('menuApp');\n        if (menuApp) {\n            return JSON.parse(menuApp);\n        }\n        return null;\n    }\n\n    setSecciones(secciones: any) {\n        this.localStorageService.setItem('secciones', JSON.stringify(secciones));\n    }\n\n    setTtpdvs(ttpdvs: any) {\n        this.localStorageService.setItem('ttpdvs', JSON.stringify(ttpdvs));\n    }\n\n    getSecciones(): any {\n        const infoSecciones: string = this.localStorageService.getItem('secciones');\n        return JSON.parse(infoSecciones);\n    }\n\n    getTtpdvs(): any {\n        const infoTtpdvs: string = this.localStorageService.getItem('ttpdvs');\n        if (!infoTtpdvs) {\n            return [{tdv_codigo: 1, tdv_numero: '001', tdv_nombre: 'PRINCIPAL'}];\n        } else {\n            return JSON.parse(infoTtpdvs);\n        }\n    }\n\n    updateTokenAndSec(token: any, seccion: any) {\n        this.localStorageService.setItem('auToken', token);\n        this.localStorageService.setItem('seccion', JSON.stringify(seccion));\n    }\n\n    clearInfoAuthenticated() {\n        this.localStorageService.removeItem('fIsLogged');\n        this.localStorageService.removeItem('infoUserFLogged');\n        this.localStorageService.removeItem('auToken');\n        this.localStorageService.removeItem('menuApp');\n        this.localStorageService.removeItem('seccion');\n        this.localStorageService.removeItem('secciones');\n        this.localStorageService.removeItem('tdvcodigo');\n        this.localStorageService.removeItem('sqm');\n        this.localStorageService.removeItem('versionApp');\n        this.localStorageService.removeItem('empNombreComercial');\n    }\n\n    getUserInfoSaved(): any {\n        const infoUser: string = this.localStorageService.getItem('infoUserFLogged');\n        return JSON.parse(infoUser);\n    }\n\n    getSeccionInfoSaved(): any {\n        const infoSeccion: string = this.localStorageService.getItem('seccion');\n        return JSON.parse(infoSeccion);\n    }\n\n    getNombreComercialSaved(): any {\n        return this.localStorageService.getItem('empNombreComercial');\n    }\n\n    getAuToken() {\n        return this.localStorageService.getItem('auToken');\n    }\n\n    publishMessage(message: string) {\n        this.bssource.next(message);\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {\n    format,\n    getDate,\n    getDay,\n    getMonth,\n    getWeekOfMonth,\n    isAfter,\n    isEqual,\n    isSameWeek,\n    isSameYear,\n    isToday,\n    parse\n} from 'date-fns';\nimport {es} from 'date-fns/locale';\nimport {TranslateService} from '@ngx-translate/core';\n\nimport eachDayOfInterval from 'date-fns/eachDayOfInterval';\nimport endOfISOWeek from 'date-fns/endOfISOWeek';\nimport endOfMonth from 'date-fns/endOfMonth';\nimport isSameMonth from 'date-fns/isSameMonth';\nimport startOfISOWeek from 'date-fns/startOfISOWeek';\nimport startOfMonth from 'date-fns/startOfMonth';\nimport eachWeekOfInterval from 'date-fns/eachWeekOfInterval';\nimport {CtesService} from './ctes.service';\n\ntype Options = {\n    year: number,\n    month: number\n};\n\n// tslint:disable-next-line:variable-name\ntype convertFn = (Date, {isSameMonth: boolean}) => any;\nconst getMountMatrix = (\n    {year, month}: Options,\n    // tslint:disable-next-line:no-shadowed-variable\n    convertDate: convertFn = date => date,\n) => {\n    const date = new Date(year, month);\n    const matrix = eachWeekOfInterval(\n        {\n            start: startOfMonth(date),\n            end: endOfMonth(date),\n        },\n        {weekStartsOn: 1},\n    );\n    return matrix.map(weekDay =>\n        eachDayOfInterval({\n            start: startOfISOWeek(weekDay),\n            end: endOfISOWeek(weekDay),\n        }).map(day =>\n            convertDate(day, {\n                isSameMonth: isSameMonth(date, day),\n            }),\n        ),\n    );\n};\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class FechasService {\n    private readonly formatoFecha: string;\n    private dayNamesShort: Array<any>;\n    private monthNames: Array<any>;\n    private loaded: boolean;\n    private loadedMonths: boolean;\n    private promiseDateShort: Promise<any>;\n    private promiseMontNames: Promise<any>;\n\n    constructor(private translateService: TranslateService,\n                private ctes: CtesService) {\n        this.formatoFecha = this.ctes.fmtfecha;\n        this.loaded = false;\n        this.loadDayNamesShort();\n        this.loadMontNames();\n    }\n\n    formatDate(dateObj): string {\n        return format(dateObj, this.formatoFecha);\n    }\n\n    parseString(dateString): Date {\n        return parse(dateString, this.formatoFecha, new Date());\n    }\n\n    sumarDias(fecha, dias) {\n        fecha.setDate(fecha.getDate() + dias);\n        return fecha;\n    }\n\n    getEdad(fechaNacimiento: Date): number {\n        const today: Date = new Date();\n        let age: number = today.getFullYear() - fechaNacimiento.getFullYear();\n        const month: number = today.getMonth() - fechaNacimiento.getMonth();\n        if (month < 0 || (month === 0 && today.getDate() < fechaNacimiento.getDate())) {\n            age--;\n        }\n        return age;\n    }\n\n    getDayString(date: Date): Promise<any> {\n        const diasemana = getDay(date);\n        const diames = format(date, 'd', {locale: es});\n        const respuesta: any = {diames, fecha: date};\n        return new Promise((resolve) => {\n            if (this.loaded) {\n                respuesta.diastr = this.dayNamesShort[diasemana];\n                resolve(respuesta);\n            } else {\n                this.promiseDateShort.then(res => {\n                    this.resolvePromiseFechas(res);\n                    respuesta.diastr = this.dayNamesShort[diasemana];\n                    resolve(respuesta);\n                });\n            }\n        });\n    }\n\n    resolvePromiseFechas(res) {\n        this.loaded = true;\n        this.dayNamesShort = res;\n    }\n\n    resolvePromiseMonts(res) {\n        this.loadedMonths = true;\n        this.monthNames = res;\n    }\n\n    loadDayNamesShort() {\n        this.promiseDateShort = this.translateService.get('primeng.dayNamesShort').toPromise();\n    }\n\n    loadMontNames() {\n        this.promiseMontNames = this.translateService.get('primeng.monthNames').toPromise();\n    }\n\n    getHoraStrFromNumber(horaNumber: number) {\n        const resto = horaNumber % 1;\n        const nmin = Math.trunc(resto * 60);\n        const nhoras = Math.trunc(horaNumber);\n        const nhorasstr = nhoras.toString().padStart(2, '0');\n        const nminstr = nmin.toString().padStart(2, '0');\n        return `${nhorasstr}:${nminstr}`;\n    }\n\n    getDayOfMonth(date: Date) {\n        return getDate(date);\n    }\n\n    getMonthArray(year: number, month: number, slctdDate?: Date) {\n        const initDate = new Date(year, month);\n        const css = [];\n        const bordecss = [];\n        let csstd = '';\n        const matrix = getMountMatrix({year, month});\n        return matrix.map(week => {\n            return week.map(tday => {\n                csstd = isToday(tday) ? 'smDiaCalHoy' : '';\n                const dcal: any = {\n                    num: getDate(tday),\n                    fecha: tday,\n                    sm: isSameMonth(tday, initDate),\n                    css,\n                    bordecss,\n                    csstd\n                };\n\n                if (slctdDate && isEqual(slctdDate, tday)) {\n                    dcal.selected = true;\n                }\n                return dcal;\n            });\n        });\n    }\n\n    getCurrentDate() {\n        const hoy = new Date();\n        hoy.setHours(0, 0, 0, 0);\n        return hoy;\n    }\n\n    getCurrentDateStr() {\n        const cd = this.getCurrentDate();\n        return this.formatDate(cd);\n    }\n\n    getDiasSemana() {\n        return ['L', 'M', 'X', 'J', 'V', 'S', 'D'];\n    }\n\n    getMesString(mes: number) {\n        return new Promise((resolve) => {\n            if (this.loadedMonths) {\n                resolve(this.monthNames[mes - 1]);\n            } else {\n                this.promiseMontNames.then(res => {\n                    this.resolvePromiseMonts(res);\n                    resolve(this.monthNames[mes - 1]);\n                });\n            }\n        });\n    }\n\n    getWeekOfMonth(date: Date) {\n        return getWeekOfMonth(date, {weekStartsOn: 1});\n    }\n\n    getMonth(date: Date) {\n        return getMonth(date);\n    }\n\n    getFirstMontDate(mes: number, anio: number) {\n        return new Date(anio, mes - 1, 1);\n    }\n\n    dateInSameWeek(dateA: Date, dateB) {\n        return isSameWeek(dateA, dateB, {weekStartsOn: 1});\n    }\n\n    isAfter(dateA: Date, dateB: Date) {\n        return isAfter(dateA, dateB);\n    }\n\n    isSameDate(dateA: Date, dateB: Date) {\n        return isEqual(dateA, dateB);\n    }\n\n    isSameMonth(dateA: Date, dateB: Date) {\n        return isSameMonth(dateA, dateB);\n    }\n\n    isSameYear(dateA: Date, dateB: Date) {\n        return isSameYear(dateA, dateB);\n    }\n\n\n}\n","import {BaseService} from './base-service';\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class KardexProdService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService,\n                private ctes: CtesService) {\n        super('/titemconfigaudit', localStrgServ, http);\n    }\n\n    getKardex(codprod) {\n        return this._doGetAction(this.ctes.listar, {codprod});\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LoadingUiService {\n    private bssource = new BehaviorSubject('empty');\n    public source = this.bssource.asObservable();\n\n    constructor() {\n    }\n\n    publishMessage(message: string) {\n        this.bssource.next(message);\n    }\n\n    publishBlockMessage() {\n        this.bssource.next('block');\n    }\n\n    publishUnblockMessage() {\n        this.bssource.next('unblock');\n    }\n\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorageService {\n\n  constructor() {\n  }\n\n  public setItem(key: string, value: string) {\n    localStorage.setItem(key, value);\n  }\n\n  public getItem(key: string): string {\n    return localStorage.getItem(key);\n  }\n\n  public removeItem(key: string) {\n    localStorage.removeItem(key);\n  }\n\n  public getAuthToken(): string {\n    return this.getItem('auToken');\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class LugarService extends BaseService {\n\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService\n    ) {\n        super('/tlugar', localStrgServ, http);\n    }\n\n    listarTodos(): Observable<any> {\n        const endopoint = this.urlEndPoint;\n        const httpOptions = this.getHOT({accion: 'listar'});\n        return this.doGet(this.http, endopoint, httpOptions);\n    }\n\n}\n","import {BaseService} from './base-service';\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ModelocontabService extends BaseService {\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        private ctes: CtesService\n    ) {\n        super('/tmodelocontab', localStrgServ, http);\n    }\n\n    listar() {\n        return this._doGetAction(this.ctes.listar);\n    }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NumberService {\n\n    private iva: number;\n    private ivaplus: number;\n    private readonly defndigits: number;\n\n    constructor() {\n        this.iva = null;\n        this.ivaplus = null;\n        this.defndigits = 6;\n    }\n\n    setIva(iva: number) {\n        this.iva = iva;\n        this.ivaplus = 1.0 + this.iva;\n    }\n\n    getIva(): number {\n        return this.iva;\n    }\n\n    round(valor: number, digits: number): number {\n        const rounded = Number(valor).toFixed(digits);\n        return Number(rounded);\n    }\n\n    round4(valor: number): number {\n        return this.round(valor, 4);\n    }\n\n    round2(valor: number): number {\n        return this.round(valor, 2);\n    }\n\n    round6(valor: number): number {\n        return this.round(valor, this.defndigits);\n    }\n\n    quitarIva(valor: number): number {\n        const siniva = Number(valor) / this.ivaplus;\n        return this.round(siniva, this.defndigits);\n    }\n\n    ponerIva(valor: number): number {\n        const coniva = Number(valor) * this.ivaplus;\n        return this.round(coniva, this.defndigits);\n    }\n\n    /**\n     * Retorna el valor del porcentaje aplicado al monto especificado\n     * @param valor: El monto del que se desea onbtener el valor del iva\n     */\n    getValorIva(valor: number): number {\n        const valoriva = Number(valor) * this.iva;\n        return this.round6(valoriva);\n    }\n\n    recalcTotalFila(fila) {\n        let subtotal = 0.0;\n        let ivaval = 0.0;\n        let total = 0.0;\n        let subtforiva = 0.0;\n        const dtDecto = fila.dt_decto;\n        try {\n            subtotal = fila.dt_cant * fila.dt_precio;\n            subtforiva = subtotal - dtDecto;\n            fila.dai_impg = 0.0;\n            if (fila.icdp_grabaiva) {\n                ivaval = this.getValorIva(subtforiva);\n                fila.dai_impg = this.getIva();\n            }\n            total = this.round6(subtotal - dtDecto + ivaval);\n            fila.subtotal = this.round6(subtotal);\n            fila.subtforiva = this.round6(subtforiva);\n            fila.ivaval = this.round6(ivaval);\n            fila.total = this.round4(total);\n        } catch (e) {\n            console.error('Error  al calcular totales de fila', e);\n        }\n        fila.dt_valor = this.round6(fila.subtforiva);\n        return fila;\n    }\n\n    totalizar(detalles: Array<any>) {\n        let subtotal12 = 0.0;\n        let subtotal0 = 0.0;\n        let ivaval = 0.0;\n        let descuentos = 0.0;\n        let total = 0.0;\n        let subtotal = 0.0;\n\n        detalles.forEach(fila => {\n            try {\n                if (fila.dai_impg > 0) {\n                    subtotal12 += fila.subtforiva;\n                } else {\n                    subtotal0 += fila.subtotal;\n                }\n                subtotal += fila.subtotal;\n                ivaval += fila.ivaval;\n                total += fila.total;\n                descuentos += fila.dt_decto;\n            } catch (e) {\n                console.error('Error al totalizar', e);\n            }\n        });\n\n        const recaltotal = this.round2(subtotal) - this.round2(descuentos) + this.round2(ivaval);\n        return {\n            subtotal: this.round2(subtotal),\n            subtotal12: this.round2(subtotal12),\n            subtotal0: this.round2(subtotal0),\n            iva: this.round2(ivaval),\n            descuentos: this.round2(descuentos),\n            total: this.round2(recaltotal)\n        };\n    }\n\n    getIvasArray() {\n        return [{label: 'Si', value: true}, {label: 'No', value: false}];\n    }\n\n    checkPagosPrevios(docpagos, totales, formaspago) {\n        const filtered = docpagos.filter(row => (row.ic_clasecc === 'XC' || row.ic_clasecc === 'XP'));\n        let totalcred = 0.0;\n        let totalefec = 0.0;\n        if (filtered && filtered.length > 0) {\n            totalcred = filtered[0].dt_valor;\n            if (totalcred < totales.total) {\n                totalefec = this.round2(totales.total - totalcred);\n            } else {\n                totalcred = totales.total;\n            }\n\n        } else {\n            totalefec = totales.total;\n        }\n\n        formaspago[0].dt_valor = totalefec;\n        formaspago[1].dt_valor = totalcred;\n    }\n\n}\n\n","import {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Injectable} from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class OdAntecService extends BaseService {\n\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService\n    ) {\n        super('/todantecedentes', localStrgServ, http);\n    }\n\n    getLastValid(pacId, tipo) {\n        const httpOptions = this.getCommonHead(tipo, pacId, 'lastvalid');\n        return this._doGet(httpOptions);\n    }\n\n    getDetallesById(antid) {\n        const httpoptions = this.getHOT({accion: 'detbyid', cod: antid});\n        return this._doGet(httpoptions);\n    }\n\n    getHistoricos(pacId, tipo) {\n        const httpOptions = this.getCommonHead(tipo, pacId, 'historicos');\n        return this._doGet(httpOptions);\n    }\n\n    getForm(pacId, tipo) {\n        const httpOptions = this.getCommonHead(tipo, pacId, 'form');\n        return this._doGet(httpOptions);\n    }\n\n    crear(form) {\n        const httpOptions = this.getHOT({accion: 'crear'});\n        return this._doPost(httpOptions, form);\n    }\n\n    anular(antid) {\n        const httpOptions = this.getHOT({accion: 'anular'});\n        return this._doPost(httpOptions, {cod: antid});\n    }\n\n    actualizar(form, antid) {\n        const httpOptions = this.getHOT({accion: 'actualizar', cod: antid});\n        return this._doPost(httpOptions, form);\n    }\n\n    private getCommonHead(tipo, pacId, accion) {\n        return this.getHOT({\n            accion,\n            tipo, pac_id: pacId\n        });\n    }\n}\n","import {BaseService} from './base-service';\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class OdatencionesService extends BaseService {\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService\n    ) {\n        super('/todatenciones', localStrgServ, http);\n    }\n\n    getForm(pacId: number) {\n        const httpOptions = this.getHOT({accion: 'form', pac: pacId});\n        return this._doGet(httpOptions);\n    }\n\n    getDetallesAtencion(ateId: number) {\n        return this._doGet(this.getHOT({accion: 'gdet', ate_id: ateId}));\n    }\n\n    getHistoria(pacId: number) {\n        const httpOptions = this.getHOT({accion: 'historia', pac: pacId});\n        return this._doGet(httpOptions);\n    }\n\n    crear(form: any) {\n        const httpOptions = this.getHOT({accion: 'crear'});\n        return this._doPost(httpOptions, form);\n    }\n\n    anular(ateId: number) {\n        const httpOptions = this.getHOT({accion: 'anular'});\n        return this._doPost(httpOptions, {ate_id: ateId});\n    }\n\n}\n","import {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class OdontogramaService extends BaseService {\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService) {\n        super('/todontograma', localStrgServ, http);\n    }\n\n    getForm(pacId: number, tipo: number): Observable<any> {\n        const endopoint = this.urlEndPoint;\n        const httpOptions = this.getHOT({accion: 'form', pac: pacId, tipo});\n        return this.doGet(this.http, endopoint, httpOptions);\n    }\n\n    guardar(form: any): Observable<any> {\n        const endopoint = this.urlEndPoint;\n        const httpOptions = this.getHOT({});\n        return this.doPost(this.http, endopoint, httpOptions, form);\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\nimport {FechasService} from './fechas.service';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PersonaService extends BaseService {\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        private fechasService: FechasService,\n        private ctes: CtesService\n    ) {\n        super('/tpersona', localStrgServ, http);\n    }\n\n    getForm(): Observable<any> {\n        return this._doGetAction(this.ctes.form);\n    }\n\n    buscarPorCi(ciruc: string): Observable<any> {\n        return this._doGetAction(this.ctes.buscaci, {ciruc});\n    }\n\n    buscarPorCifull(ciruc: string): Observable<any> {\n        return this._doGetAction(this.ctes.buscacifull, {ciruc});\n    }\n\n    buscarPorCod(perid: number) {\n        return this._doGetAction(this.ctes.buscaporid, {perid});\n    }\n\n    buscarPorCodfull(perid: number): Observable<any> {\n        return this._doGetAction(this.ctes.buscaporidfull, {perid});\n    }\n\n    buscarPorNomapelCiPag(filtro: string, pag: number) {\n        return this._doGetAction(this.ctes.filtropag, {filtro, pag});\n    }\n\n    auxGetEndpointPerid(perid) {\n        return this.urlEndPoint + '/' + perid;\n    }\n\n    guardar(form: any): Observable<any> {\n        return this.doPost(this.http, this.auxGetEndpointPerid(form.per_id), this.getHOT({}), form);\n    }\n\n    actualizar(perId: number, form: any) {\n        return this.doPut(this.http, this.auxGetEndpointPerid(perId), this.getHOT({}), form);\n    }\n\n    listarProveedores(): Observable<any> {\n        return this._doGetAction(this.ctes.buscatipo, {per_tipo: 3});\n    }\n\n    listarMedicos(tipo: number): Observable<any> {\n        return this._doGetAction(this.ctes.lmedicos, {tipo});\n    }\n\n    getTotalDeudas(codper: number) {\n        return this._doGetAction(this.ctes.gtotaldeudas, {codper});\n    }\n\n    getTotalesTransacc(codper: number) {\n        return this._doGetAction(this.ctes.gcuentafacts, {codper});\n    }\n\n    loadDataToform(form: any, personentity: any) {\n        for (const prop in personentity) {\n            if (personentity.hasOwnProperty(prop)) {\n                form[prop] = personentity[prop];\n            }\n        }\n\n        form.per_fechanac = null;\n\n        if (personentity.per_fechanac && personentity.per_fechanac.trim().length > 0) {\n            form.per_fechanacstr = personentity.per_fechanac;\n            form.per_fechanac = this.fechasService.parseString(personentity.per_fechanac);\n            form.per_fechanacobj = this.fechasService.parseString(personentity.per_fechanac);\n        }\n    }\n\n    parsePerFechanac(form) {\n        if (form.per_fechanacobj) {\n            form.per_fechanac = this.fechasService.formatDate(form.per_fechanacobj);\n        }\n    }\n\n    setPerEdad(form, obj = false) {\n        let edad = 0;\n        if (obj) {\n            if (form.per_fechanacobj) {\n                edad = this.fechasService.getEdad(form.per_fechanacobj);\n            }\n        } else {\n            if (form.per_fechanac) {\n                edad = this.fechasService.getEdad(form.per_fechanac);\n            }\n        }\n        form.per_edad = {years: edad};\n    }\n\n    isTercedad(form, teredadref) {\n        if (!form.per_edad) {\n            this.setPerEdad(form);\n        }\n        let istercedadRes = false;\n        if (form.per_edad) {\n            istercedadRes = form.per_edad.years >= teredadref;\n        }\n        return istercedadRes;\n    }\n\n    getBasicValidFieldList() {\n        return [\n            {name: 'per_ciruc', msg: 'Debe ingresar el número de cédula del referente'},\n            {name: 'per_nombres', msg: 'Debe ingresar los nombres del referente'},\n            {name: 'per_apellidos', msg: 'Debe ingresar los apellidos del referente'}\n        ];\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PersonEvService {\n    defaultvalue: any = {};\n    private bssource = new BehaviorSubject(this.defaultvalue);\n    public source = this.bssource.asObservable();\n\n    constructor() {\n\n    }\n\n    publishMessage(message: any) {\n        this.bssource.next(message);\n    }\n\n    publishUpdateDeudaMsg() {\n        this.publishMessage({tipo: 1});\n    }\n\n    publishUpdateCxPagar() {\n        this.publishMessage({tipo: 2});\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {FautService} from './faut.service';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PlantratamientoService extends BaseService {\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        private fautService: FautService,\n        private ctes: CtesService,\n    ) {\n        super('/todplantrata', localStrgServ, http);\n    }\n\n    getForm(pac: number, traCod: number) {\n        return this._doGetAction(this.ctes.form, {pac, tra_cod: traCod});\n    }\n\n    listar(pac: number) {\n        return this._doGetAction(this.ctes.listar, {pac});\n    }\n\n    crear(form: any) {\n        return this._doPostAction(this.ctes.crea, form);\n    }\n\n    cambiarEstado(planTrataId: number, nuevoEstado: number) {\n        const formpost = {pnt_id: planTrataId, nv_estado: nuevoEstado};\n        return this._doPostAction('chgestado', formpost);\n    }\n\n    getDetallesPlan(planTrataId: number) {\n        return this._doGetAction('gdet', {pnt_id: planTrataId});\n    }\n\n    imprimirPlan(codPlan: any) {\n        const sqm = this.fautService.getEsquema();\n        const urlTomcat = this.ctes.urlTomcat;\n        const url = `${urlTomcat}/PlanTratamientoServlet?cod=${codPlan}&sqm=${sqm}`;\n        window.open(url, this.ctes._blank, this.ctes.featuresOpenNewWin);\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse} from '@angular/common/http';\nimport {Observable, throwError} from 'rxjs';\nimport {catchError, filter, tap} from 'rxjs/operators';\nimport {LoadingUiService} from '../loading-ui.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class AuditInterceptorService implements HttpInterceptor {\n    constructor(private loadingUiService: LoadingUiService) {\n    }\n\n    public intercept(\n        req: HttpRequest<any>,\n        next: HttpHandler\n    ): Observable<HttpEvent<any>> {\n        const started = Date.now();\n        return next.handle(req).pipe(\n            filter((event: HttpEvent<any>) => event instanceof HttpResponse),\n            tap((resp: HttpResponse<any>) => this.auditEvent(resp, started)),\n            catchError(err => {\n                const error = err.error || err;\n                this.loadingUiService.publishUnblockMessage();\n                return throwError(error);\n            })\n        );\n    }\n\n    private auditEvent(resp: HttpResponse<any>, started: number) {\n        const elapsedMs = Date.now() - started;\n        const eventMessage = resp.statusText + ' on ' + resp.url;\n        const message = eventMessage + ' in ' + elapsedMs + 'ms';\n        this.loadingUiService.publishUnblockMessage();\n    }\n}\n","import {BaseService} from './base-service';\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {FautService} from './faut.service';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RecetaService extends BaseService {\n\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        protected fautService: FautService,\n        private ctes: CtesService\n    ) {\n        super('/treceta', localStrgServ, http);\n    }\n\n    listar(pacId: number) {\n        return this._doGetAction(this.ctes.listar, {pac: pacId});\n    }\n\n    getForm() {\n        return this._doGetAction(this.ctes.form);\n    }\n\n    guardar(form: any) {\n        return this._doPostAction(this.ctes.guardar, form);\n    }\n\n    anular(form: any) {\n        return this._doPostAction(this.ctes.anular, form);\n    }\n\n    imprimir(codReceta: any) {\n        const sqm = this.fautService.getEsquema();\n        const urlTomcat = this.ctes.urlTomcat;\n        const url = `${urlTomcat}/RecetaOdServlet?rec=${codReceta}&sqm=${sqm}`;\n        window.open(url, this.ctes._blank, this.ctes.featuresOpenNewWin);\n    }\n}\n","import {Injectable} from '@angular/core';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ReportscontaService {\n\n\n    exportPdf(datosbalance: Array<any>, formfechas: any, nombrearchivo: string, titulo: string) {\n        /*\n        const doc = new jsPDF();\n        doc.setFontSize(18);\n        doc.text(titulo, 11, 8);\n        doc.setFontSize(14);\n        doc.text(`${formfechas.desdestr} - ${formfechas.hastastr}`, 11, 14);\n        doc.setFontSize(11);\n        doc.setTextColor(100);\n        (doc as any).autoTable({\n            columns: [\n                {header: 'CÓDIGO', dataKey: 'codigo'},\n                {header: 'NOMBRE', dataKey: 'nombre'},\n                {header: 'SALDO', dataKey: 'total'},\n            ],\n            body: datosbalance,\n            theme: 'plain',\n            didDrawCell: data => {\n            }\n        });\n        doc.save(`${nombrearchivo}.pdf`);\n         */\n    }\n\n    exportExcel(datosbalance: Array<any>, nombrearchivo: string) {\n        /*\n        import('xlsx').then(xlsx => {\n            const worksheet = xlsx.utils.json_to_sheet(datosbalance);\n            const workbook = {Sheets: {data: worksheet}, SheetNames: ['data']};\n            const excelBuffer: any = xlsx.write(workbook, {bookType: 'xlsx', type: 'array'});\n            this.saveAsExcelFile(excelBuffer, nombrearchivo);\n        });\n         */\n    }\n\n    /*\n    saveAsExcelFile(buffer: any, fileName: string): void {\n        import('file-saver').then(FileSaver => {\n            const EXCEL_TYPE = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n            const EXCEL_EXTENSION = '.xlsx';\n            const data: Blob = new Blob([buffer], {\n                type: EXCEL_TYPE\n            });\n            FileSaver.saveAs(data, fileName + '_export_' + new Date().getTime() + EXCEL_EXTENSION);\n        });\n    }\n     */\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RolService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService) {\n        super('/trol', localStrgServ, http);\n    }\n\n    listar(): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'listar'});\n        return this.doGet(this.http, this.urlEndPoint, httpOptions);\n    }\n\n    listaForUsers(): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'listafu'});\n        return this.doGet(this.http, this.urlEndPoint, httpOptions);\n    }\n\n    getFormCrear(): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'form'});\n        return this.doGet(this.http, this.urlEndPoint, httpOptions);\n    }\n\n    getFormEditar(rolid): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'editar'});\n        const url = this.urlEndPoint + '/' + rolid;\n        return this.doGet(this.http, url, httpOptions);\n    }\n\n    crear(form: any): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'crear'});\n        return this.doPost(this.http, this.urlEndPoint, httpOptions, {form});\n    }\n\n    editar(form: any): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'editar'});\n        return this.doPost(this.http, this.urlEndPoint, httpOptions, {form});\n    }\n\n    anular(rlId: any): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'anular'});\n        return this.doPost(this.http, this.urlEndPoint, httpOptions, {rl_id: rlId});\n    }\n\n}\n","import {BaseService} from './base-service';\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {FautService} from './faut.service';\nimport {environment} from '../../environments/environment';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class RxdocsService extends BaseService {\n    private baseUrlDwFileNode = environment.baseUrlDwfileNode;\n\n    constructor(\n        protected http: HttpClient,\n        protected localStrgServ: LocalStorageService,\n        protected fautService: FautService,\n        private ctes: CtesService\n    ) {\n        super('/todrxdocs', localStrgServ, http);\n    }\n\n    getForm(pacId: number, tipo: number) {\n        return this._doGetAction(this.ctes.form, {pac_id: pacId, tipo});\n    }\n\n    listar(pacId: number, tipo: number) {\n        return this._doGetAction(this.ctes.listar, {pac_id: pacId, tipo});\n    }\n\n    crear(form: any) {\n        return this._doPostAction(this.ctes.crear, form);\n    }\n\n    getDownloadUrlNode(doc: any) {\n        const sqm = this.fautService.getEsquema();\n        const burl = this.baseUrlDwFileNode;\n        return `${burl}/getrxdoc/${sqm}/${doc.rxd_id}/${doc.rxd_filename}`;\n    }\n\n    eliminar(codoc: any) {\n        return this._doPostAction(this.ctes.borrar, {cod: codoc});\n    }\n\n    editar(form: any) {\n        return this._doPostAction(this.ctes.editar, form);\n    }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\nimport {CtesService} from './ctes.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SeccionService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService,\n                private ctes: CtesService) {\n        super('/tseccion', localStrgServ, http);\n    }\n\n    listar(): Observable<any> {\n        return this._doGetAction(this.ctes.listar);\n    }\n\n    setSeccion(secid: number): Observable<any> {\n        return this._doPostAction(this.ctes.setseccion, {sec_id: secid});\n    }\n\n}\n\n","import {Injectable} from '@angular/core';\nimport swal from 'sweetalert2';\nimport {MessageService} from 'primeng/api';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SwalService {\n    defmsg = 'Mensaje';\n    info = 'info';\n    success = 'success';\n    warning = 'warning';\n    warn = 'warn';\n    error = 'error';\n\n    constructor(private messageService: MessageService) {\n    }\n\n    showMsg(msg: string, type: any, title: string = this.defmsg) {\n        swal.fire(title, msg, type);\n    }\n\n    fireInfo(msg: string, title: string = this.defmsg) {\n        this.showMsg(msg, this.info, title);\n    }\n\n    fireSuccess(msg: string, title: string = this.defmsg) {\n        this.showMsg(msg, this.success, title);\n    }\n\n    fireWarning(msg: string, title: string = this.defmsg) {\n        this.showMsg(msg, this.warning, title);\n    }\n\n    fireError(msg: string, title: string = this.defmsg) {\n        this.showMsg(msg, this.error, title);\n    }\n\n    fireDialog(msg: string, ptitle: string = '') {\n        return swal.fire({\n            title: ptitle,\n            text: msg,\n            type: 'warning',\n            showConfirmButton: true,\n            showCancelButton: true\n        });\n    }\n\n    fireToast(pseverity: string, psummary: string, pdetail: string) {\n        this.messageService.add({\n            severity: pseverity,\n            summary: psummary,\n            detail: pdetail\n        });\n    }\n\n    fireToastSuccess(summary: string, detail?: string) {\n        this.fireToast(this.success, summary, detail);\n    }\n\n    fireToastInfo(summary: string, detail?: string) {\n        this.fireToast(this.info, summary, detail);\n    }\n\n    fireToastWarn(summary: string, detail?: string) {\n        this.fireToast(this.warn, summary, detail);\n    }\n\n    fireToastError(summary: string, detail?: string) {\n        this.fireToast(this.error, summary, detail);\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {FechasService} from './fechas.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TcitaService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService,\n                private fechasService: FechasService) {\n        super('/tcita', localStrgServ, http);\n    }\n\n    getForm(tipocita) {\n        return this._doGet(this.getHOT({accion: 'form', tipocita}));\n    }\n\n    listar(desde: string, hasta: string, tipo: number) {\n        return this._doGet(this.getHOT({accion: 'lstw', desde, hasta, tipo}));\n    }\n\n    contar(desde: string, hasta: string, tipo: number) {\n        return this._doGet(this.getHOT({accion: 'countm', desde, hasta, tipo}));\n    }\n\n    guardar(form: any) {\n        return this._doPost(this.getHOT({accion: 'guardar'}), form);\n    }\n\n    getDatosCita(citaId: number) {\n        return this._doGet(this.getHOT({accion: 'gdet', cod: citaId}));\n    }\n\n    anular(citaId: number) {\n        return this._doPost(this.getHOT({accion: 'anular', cod: citaId}), {});\n    }\n\n    getNextCita(perId: number, tipo: number, fecha: string) {\n        return this._doGet(this.getHOT({accion: 'getproxvcita', pac: perId, tipo, fecha}));\n    }\n\n    getPersonsCita() {\n        return this._doGet(this.getHOT({accion: 'gpercita'}));\n    }\n\n    getFechaHoraStr(tcita: any) {\n        const hora = tcita.ct_hora;\n        const horaFin = tcita.ct_hora_fin;\n        const cFecha = tcita.ct_fecha;\n        const horaStr = this.fechasService.getHoraStrFromNumber(hora);\n        const horaFinStr = this.fechasService.getHoraStrFromNumber(horaFin);\n        return `${cFecha}: ${horaStr} -${horaFinStr}`;\n    }\n\n    getDatosTipoCita(tipcita) {\n        return this._doGet(this.getHOT({accion: 'gdatostipcita', tipcita}));\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TicketService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                protected localStrgServ: LocalStorageService) {\n        super('/tticket', localStrgServ, http);\n    }\n\n    listar(dia: string, desde: string, hasta: string, seccion: number, servicios: string): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'listar', dia, desde, hasta, seccion, servicios});\n        return this._doGet(httpOptions);\n    }\n\n    getFormListado(): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'forml'});\n        return this._doGet(httpOptions);\n    }\n\n    getProdsForTickets(): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'servticktes'});\n        return this._doGet(httpOptions);\n    }\n\n    getFormCrea(): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'form'});\n        return this._doGet(httpOptions);\n    }\n\n    getFormEdit(tkid) {\n        return this._doGet(this.getHOT({accion: 'gformed', tkid}));\n    }\n\n    guardar(form: any, form_cli: any): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'guardar'});\n        return this._doPost(httpOptions, {form, form_cli});\n    }\n\n    actualizar(form: any) {\n        return this._doPost(this.getHOT({accion: 'upd'}), form);\n    }\n\n    anular(tkid) {\n        const httpOptions = this.getHOT({accion: 'anular'});\n        return this._doPost(httpOptions, {tk_id: tkid});\n    }\n\n    getDetalles(tkid) {\n        return this._doGet(this.getHOT({accion: 'gdet', tkid}));\n    }\n\n    imprimir(ticketid: any) {\n        const rutaserver = 'https://mavil.site/tomcat/imprentas/TicketServlet?tkid=' + ticketid;\n        window.open(rutaserver, '_blank', 'toolbar=yes,scrollbars=yes,resizable=yes,top=50,left=100,width=500,height=700');\n    }\n\n    isDataValid(form, formcli, swalService) {\n        if (form.tk_nro === null || form.tk_nro.toString().trim().length === 0) {\n            swalService.fireError('Debe ingresar el número del ticket');\n            return false;\n        } else if (form.tk_costo == null || form.tk_costo.toString().trim().length === 0) {\n            swalService.fireError('Debe ingresar el precio del ticket');\n            return false;\n        } else if (formcli.per_nombres == null || formcli.per_nombres.trim().length === 0) {\n            swalService.fireError('Debe ingresar el nombre del paciente');\n            return false;\n        }\n        return true;\n    }\n\n    getCodServicios(servicios) {\n        const filtrados = servicios.filter(item => {\n            return item.ic_marca;\n        });\n\n        const codigos = filtrados.map(e => {\n            return e.ic_id;\n        });\n        return codigos.toString();\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {ArrayutilService} from './arrayutil.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ToolsDienteService {\n    tiposProtesis: any[];\n    tools: any;\n\n    constructor(private arrayUtil: ArrayutilService) {\n        this.tiposProtesis = [\n            {label: 'Fija', value: 1},\n            {label: 'Removible', value: 2},\n            {label: 'Total', value: 3}\n        ];\n        this.tools = {\n            1: {\n                codigo: 1,\n                nombre: 'Sellante necesario',\n                classTapa: 'm-aster-rojo',\n                classTapaLeche: 'm-aster-rojo-leche',\n                grupo: 1\n            },\n            2: {\n                codigo: 2,\n                nombre: 'Sellante realizado',\n                classTapa: 'm-aster-azul',\n                classTapaLeche: 'm-aster-azul-leche',\n                grupo: 1\n            },\n            3: {\n                codigo: 3,\n                nombre: 'Extracción Indicada',\n                classTapa: 'm-x-rojo',\n                classTapaLeche: 'm-x-rojo-leche',\n                grupo: 2\n            },\n            4: {\n                codigo: 4,\n                nombre: 'Pérdida por caries',\n                classTapa: 'm-x-azul',\n                classTapaLeche: 'm-x-azul-leche',\n                grupo: 2\n            },\n            5: {\n                codigo: 5,\n                nombre: 'Pérdida (otra causa)',\n                classTapa: 'm-x-rojo',\n                classTapaLeche: 'm-x-rojo-leche',\n                grupo: 2\n            },\n            6: {\n                codigo: 6,\n                nombre: 'Endodoncia Necesaria',\n                classTapa: 'm-endo-rojo',\n                classTapaLeche: 'm-endo-rojoleche',\n                grupo: 3\n            },\n            7: {\n                codigo: 7,\n                nombre: 'Endodoncia Realizada',\n                classTapa: 'm-endo-azul',\n                classTapaLeche: 'm-endo-azulleche',\n                grupo: 3\n            },\n            8: {codigo: 8, nombre: 'Prótesis Fija', cssClass: ''},\n            9: {codigo: 9, nombre: 'Prótesis Removible', cssClass: ''},\n            10: {codigo: 10, nombre: 'Prótesis Total', cssClass: ''},\n            11: {\n                codigo: 11,\n                nombre: 'Corona Necesaria',\n                classTapa: 'm-corona-rojo',\n                classTapaLeche: 'm-corona-rojoleche',\n                grupo: 4\n            },\n            12: {\n                codigo: 12,\n                nombre: 'Corona Realizada',\n                classTapa: 'm-corona-azul',\n                classTapaLeche: 'm-corona-azulleche',\n                grupo: 4\n            },\n            13: {codigo: 13, nombre: 'Obturado', cssClass: 'obturado-grande'},\n            14: {codigo: 14, nombre: 'Caries', cssClass: 'caries-grande'},\n            15: {\n                codigo: 15, nombre: 'Implante', classTapa: 'dienteproblemas',\n                classTapaLeche: 'implante'\n            },\n            16: {codigo: 16, nombre: 'Caries Incipiente', cssClass: 'caries-pequenio'},\n            17: {codigo: 17, nombre: 'Caries', cssClass: 'caries-mediano'},\n            18: {codigo: 18, nombre: 'Diente Sano', classTapa: 'dientesano'},\n            19: {codigo: 19, nombre: 'Obturado', cssClass: 'obturado-mediano'}\n        };\n    }\n\n    getTools() {\n        return this.tools;\n    }\n\n    getConfigs() {\n        return {\n            configA: {t: 'Vestibular', b: 'Palatino', l: 'Distal', r: 'Mesial', c: 'Oclusal'},\n            configB: {t: 'Vestibular', b: 'Palatino', l: 'Mesial', r: 'Distal', c: 'Oclusal'},\n            configC: {t: 'Lingual', b: 'Vestibular', l: 'Distal', r: 'Mesial', c: 'Oclusal'},\n            configD: {t: 'Lingual', b: 'Vestibular', l: 'Mesial', r: 'Distal', c: 'Oclusal'}\n        };\n    }\n\n    buscaPiezaDental(dentadura: any, numpieza: number) {\n        let filtered = dentadura.A.filter(e => e.numero === numpieza);\n        if (filtered.length > 0) {\n            return filtered[0];\n        } else {\n            filtered = dentadura.B.filter(e => e.numero === numpieza);\n            if (filtered.length > 0) {\n                return filtered[0];\n            } else {\n                filtered = dentadura.C.filter(e => e.numero === numpieza);\n                if (filtered.length > 0) {\n                    return filtered[0];\n                } else {\n                    filtered = dentadura.D.filter(e => e.numero === numpieza);\n\n                    if (filtered.length > 0) {\n                        return filtered[0];\n                    } else {\n                        return null;\n                    }\n                }\n            }\n        }\n    }\n\n    dienteIsProt(diente: any) {\n        return diente.protesis ? diente.protesis > 0 : false;\n    }\n\n    getTipoProtesis(diente: any) {\n        return this.tiposProtesis[diente.tipoprotesis - 1];\n    }\n\n    tieneHerramientaGrupo(idTool: number, diente: any) {\n        const dtools = this.getTools();\n        const tools = diente.tools;\n        const tool = dtools[idTool];\n        const result = [];\n        const grupotool = tool.grupo;\n        if (grupotool) {\n            tools.forEach((idtoolit) => {\n                const toolitem = dtools[idtoolit];\n                if (toolitem && idtoolit !== idTool) {\n                    if (toolitem.grupo && toolitem.grupo === grupotool) {\n                        result.push(idtoolit);\n                    }\n                }\n            });\n        }\n        return result;\n    }\n\n    checkUncheckTool(idTool: number, diente: any) {\n        const dtools = this.getTools();\n        const tools = diente.tools;\n        if (tools.includes(idTool)) {\n            this.arrayUtil.removeElement(tools, idTool);\n        } else {\n            tools.push(idTool);\n        }\n\n        const toolsgrupo = this.tieneHerramientaGrupo(idTool, diente);\n        if (toolsgrupo.length > 0) {\n            toolsgrupo.forEach(idtoolit => {\n                this.arrayUtil.removeElement(tools, idtoolit);\n            });\n        }\n\n        diente.tapaVisible = false;\n        diente.classTapa = '';\n\n        if (this.arrayUtil.contains(tools, 1) || this.arrayUtil.contains(tools, 2) || this.arrayUtil.contains(tools, 18)\n            || this.arrayUtil.contains(tools, 3) || this.arrayUtil.contains(tools, 4)) {\n            let thetool = 1;\n            if (this.arrayUtil.contains(tools, 2)) {\n                thetool = 2;\n            }\n            if (this.arrayUtil.contains(tools, 18)) {\n                thetool = 18;\n            }\n            if (this.arrayUtil.contains(tools, 3)) {\n                thetool = 3;\n            }\n            if (this.arrayUtil.contains(tools, 4)) {\n                thetool = 4;\n            }\n            const tool = dtools[thetool];\n            diente.tapaVisible = true;\n            diente.classTapa = tool.classTapa;\n        }\n    }\n\n    getTiposProtesis() {\n        return this.tiposProtesis;\n    }\n\n    isShowTratExt(diente) {\n        return true;\n    }\n\n    isShowTrataPend(diente) {\n        return [0, 2, 3].includes(diente?.estado);\n    }\n\n    isShowTrataHecho(diente) {\n        return diente?.estado === 1;\n    }\n\n    changeState(diente): number {\n        const currentState = diente.estado ? diente.estado : 0;\n        let newState = 0;\n        let msg = '';\n        if ([0, 2, 3].includes(currentState)) {\n            newState = 1;\n            msg = ' iniciar tratamiento?';\n        } else if (currentState === 1) {\n            newState = 2;\n            msg = ' marcar como tratamiento realizado?';\n        }\n        if (newState > 0) {\n            if (confirm(`¿Confirma que desea ${msg}`)) {\n                diente.estado = newState;\n                return 1;\n            }\n        }\n        return 0;\n    }\n\n    changeStateExt(diente): number {\n        if (confirm('¿Confirma marca tratamiento externo?')) {\n            diente.estado = 3;\n            return 1;\n        }\n        return 0;\n    }\n\n    getStrState(diente: any, isCeroStr = true) {\n        const estados: Array<string> = [\n            'Cambiar estado',\n            'Tratamiento Iniciado',\n            'Tratamiento finalizado',\n            'Tratamiento externo'\n        ];\n        const state = diente?.estado || 0;\n        if (!isCeroStr) {\n            estados[0] = '';\n        }\n        return estados[state];\n    }\n\n    getColorState(diente: any) {\n        const state = diente?.estado || 0;\n        const colors = ['primary', 'warning', 'success', 'info'];\n        return colors[state];\n    }\n\n\n}\n","import {BaseService} from './base-service';\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class TtpdvService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                private localStorageService: LocalStorageService) {\n        super('/ttpdv', localStorageService, http);\n    }\n\n    listarMin() {\n        return this._doGet(this.getHOT({accion: 'listarm'}));\n    }\n\n    setTdvcodigo(tdvcodigo: number): Observable<any> {\n        return this._doPost(this.getHOT({accion: 'setttpdv'}), {tdv_codigo: tdvcodigo});\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from './base-service';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\nimport {Observable} from 'rxjs';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UsertokenService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                private localStorageService: LocalStorageService) {\n        super('/tfusertoken', localStorageService, http);\n    }\n\n    getFormEdita(usId: number): Observable<any> {\n        const endpoint = this.urlEndPoint + '/' + usId.toString();\n        const httpOptions = this.getHOT({accion: 'formedita'});\n        return this.doGet(this.http, endpoint, httpOptions);\n    }\n\n    getFormCrea(): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'formcrea'});\n        return this.doGet(this.http, this.urlEndPoint, httpOptions);\n    }\n\n    listarUsuarios(): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'listar'});\n        return this.doGet(this.http, this.urlEndPoint, httpOptions);\n    }\n\n    guardarRoles(usId: number, rolesList: any): Observable<any> {\n        const form = {us_id: usId, roles: rolesList};\n        const httpOptions = this.getHOT({accion: 'setroles'});\n        return this.doPost(this.http, this.urlEndPoint, httpOptions, form);\n    }\n\n    crearUsuario(form: any, formcli: any): Observable<any> {\n        const theform = {form, formcli};\n        const httpOptions = this.getHOT({accion: 'creauser'});\n        return this.doPost(this.http, this.urlEndPoint, httpOptions, theform);\n    }\n\n    listarPermisos(usId: number): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'lpermisos'});\n        const endpoint = this.urlEndPoint + '/' + usId.toString();\n        return this.doGet(this.http, endpoint, httpOptions);\n    }\n\n    getMenu(usId: number): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'gmenu'});\n        const endpoint = this.urlEndPoint + '/' + usId.toString();\n        return this.doGet(this.http, endpoint, httpOptions);\n    }\n\n    chkexiste(perId: number): Observable<any> {\n        const httpOptions = this.getHOT({accion: 'chkexiste', per_id: perId});\n        return this.doGet(this.http, this.urlEndPoint, httpOptions);\n    }\n\n}\n","import {BaseService} from './base-service';\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {LocalStorageService} from './local-storage.service';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class UtilventasService extends BaseService {\n\n    constructor(protected http: HttpClient,\n                private localStorageServ: LocalStorageService) {\n        super('/utilventas', localStorageServ, http);\n    }\n\n    getForm() {\n        return this._doGet(this.getHOT({accion: 'form'}));\n    }\n\n    getGrid(form: any) {\n        return this._doPost(this.getHOT({accion: 'getgrid'}), form);\n    }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n    production: false,\n    baseUrlEndPoint: 'http://192.168.0.111:6543/api',\n    baseUrlDwfile: 'http://192.168.0.111:6543/getrxdoc',\n    baseUrlDwfileNode: 'http://192.168.0.104:3000',\n    facebookLoginApp: '571164293604524',\n    googleLoginApp: '702999941401-ql2c4rufsliivam2f7hub633brvicgk0.apps.googleusercontent.com',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}